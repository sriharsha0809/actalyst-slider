(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vc={exports:{}},Zl={},Xc={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),uf=Symbol.for("react.portal"),df=Symbol.for("react.fragment"),ff=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),mf=Symbol.for("react.context"),gf=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),yf=Symbol.for("react.memo"),vf=Symbol.for("react.lazy"),Pa=Symbol.iterator;function wf(e){return e===null||typeof e!="object"?null:(e=Pa&&e[Pa]||e["@@iterator"],typeof e=="function"?e:null)}var Qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gc=Object.assign,Yc={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=Yc,this.updater=n||Qc}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kc(){}Kc.prototype=Wr.prototype;function $i(e,t,n){this.props=e,this.context=t,this.refs=Yc,this.updater=n||Qc}var Fi=$i.prototype=new Kc;Fi.constructor=$i;Gc(Fi,Wr.prototype);Fi.isPureReactComponent=!0;var Ia=Array.isArray,qc=Object.prototype.hasOwnProperty,Bi={current:null},Zc={key:!0,ref:!0,__self:!0,__source:!0};function Jc(e,t,n){var r,l={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)qc.call(t,r)&&!Zc.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),p=0;p<a;p++)c[p]=arguments[p+2];l.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:zo,type:e,key:s,ref:i,props:l,_owner:Bi.current}}function bf(e,t){return{$$typeof:zo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oi(e){return typeof e=="object"&&e!==null&&e.$$typeof===zo}function jf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Aa=/\/+/g;function xs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jf(""+e.key):t.toString(36)}function ml(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case zo:case uf:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+xs(i,0):r,Ia(l)?(n="",e!=null&&(n=e.replace(Aa,"$&/")+"/"),ml(l,t,n,"",function(p){return p})):l!=null&&(Oi(l)&&(l=bf(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Aa,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",Ia(e))for(var a=0;a<e.length;a++){s=e[a];var c=r+xs(s,a);i+=ml(s,t,n,c,l)}else if(c=wf(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=r+xs(s,a++),i+=ml(s,t,n,c,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Go(e,t,n){if(e==null)return e;var r=[],l=0;return ml(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Cf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bt={current:null},gl={transition:null},kf={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:gl,ReactCurrentOwner:Bi};function eu(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Go,forEach:function(e,t,n){Go(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Go(e,function(){t++}),t},toArray:function(e){return Go(e,function(t){return t})||[]},only:function(e){if(!Oi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=Wr;Ne.Fragment=df;Ne.Profiler=pf;Ne.PureComponent=$i;Ne.StrictMode=ff;Ne.Suspense=xf;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kf;Ne.act=eu;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gc({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Bi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)qc.call(t,c)&&!Zc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var p=0;p<c;p++)a[p]=arguments[p+2];r.children=a}return{$$typeof:zo,type:e.type,key:l,ref:s,props:r,_owner:i}};Ne.createContext=function(e){return e={$$typeof:mf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hf,_context:e},e.Consumer=e};Ne.createElement=Jc;Ne.createFactory=function(e){var t=Jc.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:gf,render:e}};Ne.isValidElement=Oi;Ne.lazy=function(e){return{$$typeof:vf,_payload:{_status:-1,_result:e},_init:Cf}};Ne.memo=function(e,t){return{$$typeof:yf,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=gl.transition;gl.transition={};try{e()}finally{gl.transition=t}};Ne.unstable_act=eu;Ne.useCallback=function(e,t){return bt.current.useCallback(e,t)};Ne.useContext=function(e){return bt.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return bt.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return bt.current.useEffect(e,t)};Ne.useId=function(){return bt.current.useId()};Ne.useImperativeHandle=function(e,t,n){return bt.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return bt.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return bt.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return bt.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return bt.current.useReducer(e,t,n)};Ne.useRef=function(e){return bt.current.useRef(e)};Ne.useState=function(e){return bt.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return bt.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return bt.current.useTransition()};Ne.version="18.3.1";Xc.exports=Ne;var I=Xc.exports;const ae=cf(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf=I,Sf=Symbol.for("react.element"),Ef=Symbol.for("react.fragment"),Tf=Object.prototype.hasOwnProperty,Mf=Nf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Df={key:!0,ref:!0,__self:!0,__source:!0};function tu(e,t,n){var r,l={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Tf.call(t,r)&&!Df.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Sf,type:e,key:s,ref:i,props:l,_owner:Mf.current}}Zl.Fragment=Ef;Zl.jsx=tu;Zl.jsxs=tu;Vc.exports=Zl;var o=Vc.exports,nu={exports:{}},It={},ru={exports:{}},ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,te){var se=V.length;V.push(te);e:for(;0<se;){var fe=se-1>>>1,ce=V[fe];if(0<l(ce,te))V[fe]=te,V[se]=ce,se=fe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var te=V[0],se=V.pop();if(se!==te){V[0]=se;e:for(var fe=0,ce=V.length,ge=ce>>>1;fe<ge;){var Re=2*(fe+1)-1,_e=V[Re],Pe=Re+1,$=V[Pe];if(0>l(_e,se))Pe<ce&&0>l($,_e)?(V[fe]=$,V[Pe]=se,fe=Pe):(V[fe]=_e,V[Re]=se,fe=Re);else if(Pe<ce&&0>l($,se))V[fe]=$,V[Pe]=se,fe=Pe;else break e}}return te}function l(V,te){var se=V.sortIndex-te.sortIndex;return se!==0?se:V.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],p=[],g=1,x=null,u=3,E=!1,N=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(V){for(var te=n(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=V)r(p),te.sortIndex=te.expirationTime,t(c,te);else break;te=n(p)}}function v(V){if(C=!1,h(V),!N)if(n(c)!==null)N=!0,me(S);else{var te=n(p);te!==null&&Y(v,te.startTime-V)}}function S(V,te){N=!1,C&&(C=!1,f(M),M=-1),E=!0;var se=u;try{for(h(te),x=n(c);x!==null&&(!(x.expirationTime>te)||V&&!H());){var fe=x.callback;if(typeof fe=="function"){x.callback=null,u=x.priorityLevel;var ce=fe(x.expirationTime<=te);te=e.unstable_now(),typeof ce=="function"?x.callback=ce:x===n(c)&&r(c),h(te)}else r(c);x=n(c)}if(x!==null)var ge=!0;else{var Re=n(p);Re!==null&&Y(v,Re.startTime-te),ge=!1}return ge}finally{x=null,u=se,E=!1}}var j=!1,R=null,M=-1,L=5,_=-1;function H(){return!(e.unstable_now()-_<L)}function F(){if(R!==null){var V=e.unstable_now();_=V;var te=!0;try{te=R(!0,V)}finally{te?X():(j=!1,R=null)}}else j=!1}var X;if(typeof d=="function")X=function(){d(F)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,q=T.port2;T.port1.onmessage=F,X=function(){q.postMessage(null)}}else X=function(){k(F,0)};function me(V){R=V,j||(j=!0,X())}function Y(V,te){M=k(function(){V(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){N||E||(N=!0,me(S))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(V){switch(u){case 1:case 2:case 3:var te=3;break;default:te=u}var se=u;u=te;try{return V()}finally{u=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,te){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var se=u;u=V;try{return te()}finally{u=se}},e.unstable_scheduleCallback=function(V,te,se){var fe=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?fe+se:fe):se=fe,V){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=se+ce,V={id:g++,callback:te,priorityLevel:V,startTime:se,expirationTime:ce,sortIndex:-1},se>fe?(V.sortIndex=se,t(p,V),n(c)===null&&V===n(p)&&(C?(f(M),M=-1):C=!0,Y(v,se-fe))):(V.sortIndex=ce,t(c,V),N||E||(N=!0,me(S))),V},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(V){var te=u;return function(){var se=u;u=te;try{return V.apply(this,arguments)}finally{u=se}}}})(ou);ru.exports=ou;var Lf=ru.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=I,Pt=Lf;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lu=new Set,vo={};function ur(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(vo[e]=t,e=0;e<t.length;e++)lu.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=Object.prototype.hasOwnProperty,Pf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,za={},_a={};function If(e){return Vs.call(_a,e)?!0:Vs.call(za,e)?!1:Pf.test(e)?_a[e]=!0:(za[e]=!0,!1)}function Af(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zf(e,t,n,r){if(t===null||typeof t>"u"||Af(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jt(e,t,n,r,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dt[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dt[t]=new jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dt[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dt[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dt[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dt[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dt[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dt[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dt[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wi=/[\-:]([a-z])/g;function Hi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wi,Hi);dt[t]=new jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wi,Hi);dt[t]=new jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wi,Hi);dt[t]=new jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dt[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});dt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dt[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ui(e,t,n,r){var l=dt.hasOwnProperty(t)?dt[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zf(t,n,l,r)&&(n=null),r||l===null?If(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bn=Rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for("react.element"),gr=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),Vi=Symbol.for("react.strict_mode"),Xs=Symbol.for("react.profiler"),su=Symbol.for("react.provider"),iu=Symbol.for("react.context"),Xi=Symbol.for("react.forward_ref"),Qs=Symbol.for("react.suspense"),Gs=Symbol.for("react.suspense_list"),Qi=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),au=Symbol.for("react.offscreen"),$a=Symbol.iterator;function Qr(e){return e===null||typeof e!="object"?null:(e=$a&&e[$a]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,ys;function oo(e){if(ys===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ys=t&&t[1]||""}return`
`+ys+e}var vs=!1;function ws(e,t){if(!e||vs)return"";vs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var l=p.stack.split(`
`),s=r.stack.split(`
`),i=l.length-1,a=s.length-1;1<=i&&0<=a&&l[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||l[i]!==s[a]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{vs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oo(e):""}function _f(e){switch(e.tag){case 5:return oo(e.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return e=ws(e.type,!1),e;case 11:return e=ws(e.type.render,!1),e;case 1:return e=ws(e.type,!0),e;default:return""}}function Ys(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case gr:return"Portal";case Xs:return"Profiler";case Vi:return"StrictMode";case Qs:return"Suspense";case Gs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iu:return(e.displayName||"Context")+".Consumer";case su:return(e._context.displayName||"Context")+".Provider";case Xi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qi:return t=e.displayName||null,t!==null?t:Ys(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return Ys(e(t))}catch{}}return null}function $f(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ys(t);case 8:return t===Vi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ff(e){var t=cu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ko(e){e._valueTracker||(e._valueTracker=Ff(e))}function uu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function El(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ks(e,t){var n=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function du(e,t){t=t.checked,t!=null&&Ui(e,"checked",t,!1)}function qs(e,t){du(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zs(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zs(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ba(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zs(e,t,n){(t!=="number"||El(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lo=Array.isArray;function Mr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Js(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(lo(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function fu(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ei(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qo,hu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bf=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(e){Bf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),co[t]=co[e]})});function mu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||co.hasOwnProperty(e)&&co[e]?(""+t).trim():t+"px"}function gu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=mu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Of=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ti(e,t){if(t){if(Of[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function ni(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ri=null;function Gi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oi=null,Dr=null,Lr=null;function Ha(e){if(e=Fo(e)){if(typeof oi!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=rs(t),oi(e.stateNode,e.type,t))}}function xu(e){Dr?Lr?Lr.push(e):Lr=[e]:Dr=e}function yu(){if(Dr){var e=Dr,t=Lr;if(Lr=Dr=null,Ha(e),t)for(e=0;e<t.length;e++)Ha(t[e])}}function vu(e,t){return e(t)}function wu(){}var bs=!1;function bu(e,t,n){if(bs)return e(t,n);bs=!0;try{return vu(e,t,n)}finally{bs=!1,(Dr!==null||Lr!==null)&&(wu(),yu())}}function bo(e,t){var n=e.stateNode;if(n===null)return null;var r=rs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var li=!1;if(xn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){li=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{li=!1}function Wf(e,t,n,r,l,s,i,a,c){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(g){this.onError(g)}}var uo=!1,Tl=null,Ml=!1,si=null,Hf={onError:function(e){uo=!0,Tl=e}};function Uf(e,t,n,r,l,s,i,a,c){uo=!1,Tl=null,Wf.apply(Hf,arguments)}function Vf(e,t,n,r,l,s,i,a,c){if(Uf.apply(this,arguments),uo){if(uo){var p=Tl;uo=!1,Tl=null}else throw Error(Q(198));Ml||(Ml=!0,si=p)}}function dr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ju(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ua(e){if(dr(e)!==e)throw Error(Q(188))}function Xf(e){var t=e.alternate;if(!t){if(t=dr(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Ua(l),e;if(s===r)return Ua(l),t;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=l,r=s;else{for(var i=!1,a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function Cu(e){return e=Xf(e),e!==null?ku(e):null}function ku(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ku(e);if(t!==null)return t;e=e.sibling}return null}var Nu=Pt.unstable_scheduleCallback,Va=Pt.unstable_cancelCallback,Qf=Pt.unstable_shouldYield,Gf=Pt.unstable_requestPaint,Ke=Pt.unstable_now,Yf=Pt.unstable_getCurrentPriorityLevel,Yi=Pt.unstable_ImmediatePriority,Su=Pt.unstable_UserBlockingPriority,Dl=Pt.unstable_NormalPriority,Kf=Pt.unstable_LowPriority,Eu=Pt.unstable_IdlePriority,Jl=null,an=null;function qf(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Jl,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:ep,Zf=Math.log,Jf=Math.LN2;function ep(e){return e>>>=0,e===0?32:31-(Zf(e)/Jf|0)|0}var Zo=64,Jo=4194304;function so(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ll(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~l;a!==0?r=so(a):(s&=i,s!==0&&(r=so(s)))}else i=n&~l,i!==0?r=so(i):s!==0&&(r=so(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Jt(t),l=1<<n,r|=e[n],t&=~l;return r}function tp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function np(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Jt(s),a=1<<i,c=l[i];c===-1?(!(a&n)||a&r)&&(l[i]=tp(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function ii(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tu(){var e=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),e}function js(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _o(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=n}function rp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Jt(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Ki(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Jt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Ae=0;function Mu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Du,qi,Lu,Ru,Pu,ai=!1,el=[],In=null,An=null,zn=null,jo=new Map,Co=new Map,Dn=[],op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xa(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":jo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(t.pointerId)}}function Yr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Fo(t),t!==null&&qi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function lp(e,t,n,r,l){switch(t){case"focusin":return In=Yr(In,e,t,n,r,l),!0;case"dragenter":return An=Yr(An,e,t,n,r,l),!0;case"mouseover":return zn=Yr(zn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return jo.set(s,Yr(jo.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,Co.set(s,Yr(Co.get(s)||null,e,t,n,r,l)),!0}return!1}function Iu(e){var t=er(e.target);if(t!==null){var n=dr(t);if(n!==null){if(t=n.tag,t===13){if(t=ju(n),t!==null){e.blockedOn=t,Pu(e.priority,function(){Lu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ci(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ri=r,n.target.dispatchEvent(r),ri=null}else return t=Fo(n),t!==null&&qi(t),e.blockedOn=n,!1;t.shift()}return!0}function Qa(e,t,n){xl(e)&&n.delete(t)}function sp(){ai=!1,In!==null&&xl(In)&&(In=null),An!==null&&xl(An)&&(An=null),zn!==null&&xl(zn)&&(zn=null),jo.forEach(Qa),Co.forEach(Qa)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,ai||(ai=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,sp)))}function ko(e){function t(l){return Kr(l,e)}if(0<el.length){Kr(el[0],e);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===e&&(r.blockedOn=null)}}for(In!==null&&Kr(In,e),An!==null&&Kr(An,e),zn!==null&&Kr(zn,e),jo.forEach(t),Co.forEach(t),n=0;n<Dn.length;n++)r=Dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)Iu(n),n.blockedOn===null&&Dn.shift()}var Rr=bn.ReactCurrentBatchConfig,Rl=!0;function ip(e,t,n,r){var l=Ae,s=Rr.transition;Rr.transition=null;try{Ae=1,Zi(e,t,n,r)}finally{Ae=l,Rr.transition=s}}function ap(e,t,n,r){var l=Ae,s=Rr.transition;Rr.transition=null;try{Ae=4,Zi(e,t,n,r)}finally{Ae=l,Rr.transition=s}}function Zi(e,t,n,r){if(Rl){var l=ci(e,t,n,r);if(l===null)Rs(e,t,r,Pl,n),Xa(e,r);else if(lp(l,e,t,n,r))r.stopPropagation();else if(Xa(e,r),t&4&&-1<op.indexOf(e)){for(;l!==null;){var s=Fo(l);if(s!==null&&Du(s),s=ci(e,t,n,r),s===null&&Rs(e,t,r,Pl,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Rs(e,t,r,null,n)}}var Pl=null;function ci(e,t,n,r){if(Pl=null,e=Gi(r),e=er(e),e!==null)if(t=dr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ju(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pl=e,null}function Au(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yf()){case Yi:return 1;case Su:return 4;case Dl:case Kf:return 16;case Eu:return 536870912;default:return 16}default:return 16}}var Rn=null,Ji=null,yl=null;function zu(){if(yl)return yl;var e,t=Ji,n=t.length,r,l="value"in Rn?Rn.value:Rn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[s-r];r++);return yl=l.slice(e,1<r?1-r:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tl(){return!0}function Ga(){return!1}function At(e){function t(n,r,l,s,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tl:Ga,this.isPropagationStopped=Ga,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=At(Hr),$o=Ge({},Hr,{view:0,detail:0}),cp=At($o),Cs,ks,qr,es=Ge({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qr&&(qr&&e.type==="mousemove"?(Cs=e.screenX-qr.screenX,ks=e.screenY-qr.screenY):ks=Cs=0,qr=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:ks}}),Ya=At(es),up=Ge({},es,{dataTransfer:0}),dp=At(up),fp=Ge({},$o,{relatedTarget:0}),Ns=At(fp),pp=Ge({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=At(pp),mp=Ge({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gp=At(mp),xp=Ge({},Hr,{data:0}),Ka=At(xp),yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wp[e])?!!t[e]:!1}function ta(){return bp}var jp=Ge({},$o,{key:function(e){if(e.key){var t=yp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cp=At(jp),kp=Ge({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qa=At(kp),Np=Ge({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Sp=At(Np),Ep=Ge({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tp=At(Ep),Mp=Ge({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dp=At(Mp),Lp=[9,13,27,32],na=xn&&"CompositionEvent"in window,fo=null;xn&&"documentMode"in document&&(fo=document.documentMode);var Rp=xn&&"TextEvent"in window&&!fo,_u=xn&&(!na||fo&&8<fo&&11>=fo),Za=" ",Ja=!1;function $u(e,t){switch(e){case"keyup":return Lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function Pp(e,t){switch(e){case"compositionend":return Fu(t);case"keypress":return t.which!==32?null:(Ja=!0,Za);case"textInput":return e=t.data,e===Za&&Ja?null:e;default:return null}}function Ip(e,t){if(yr)return e==="compositionend"||!na&&$u(e,t)?(e=zu(),yl=Ji=Rn=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _u&&t.locale!=="ko"?null:t.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ap[e.type]:t==="textarea"}function Bu(e,t,n,r){xu(r),t=Il(t,"onChange"),0<t.length&&(n=new ea("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var po=null,No=null;function zp(e){qu(e,0)}function ts(e){var t=br(e);if(uu(t))return e}function _p(e,t){if(e==="change")return t}var Ou=!1;if(xn){var Ss;if(xn){var Es="oninput"in document;if(!Es){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),Es=typeof tc.oninput=="function"}Ss=Es}else Ss=!1;Ou=Ss&&(!document.documentMode||9<document.documentMode)}function nc(){po&&(po.detachEvent("onpropertychange",Wu),No=po=null)}function Wu(e){if(e.propertyName==="value"&&ts(No)){var t=[];Bu(t,No,e,Gi(e)),bu(zp,t)}}function $p(e,t,n){e==="focusin"?(nc(),po=t,No=n,po.attachEvent("onpropertychange",Wu)):e==="focusout"&&nc()}function Fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(No)}function Bp(e,t){if(e==="click")return ts(t)}function Op(e,t){if(e==="input"||e==="change")return ts(t)}function Wp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:Wp;function So(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Vs.call(t,l)||!tn(e[l],t[l]))return!1}return!0}function rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oc(e,t){var n=rc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rc(n)}}function Hu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uu(){for(var e=window,t=El();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=El(e.document)}return t}function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hp(e){var t=Uu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hu(n.ownerDocument.documentElement,n)){if(r!==null&&ra(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=oc(n,s);var i=oc(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Up=xn&&"documentMode"in document&&11>=document.documentMode,vr=null,ui=null,ho=null,di=!1;function lc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;di||vr==null||vr!==El(r)||(r=vr,"selectionStart"in r&&ra(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ho&&So(ho,r)||(ho=r,r=Il(ui,"onSelect"),0<r.length&&(t=new ea("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function nl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},Ts={},Vu={};xn&&(Vu=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function ns(e){if(Ts[e])return Ts[e];if(!wr[e])return e;var t=wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vu)return Ts[e]=t[n];return e}var Xu=ns("animationend"),Qu=ns("animationiteration"),Gu=ns("animationstart"),Yu=ns("transitionend"),Ku=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){Ku.set(e,t),ur(t,[e])}for(var Ms=0;Ms<sc.length;Ms++){var Ds=sc[Ms],Vp=Ds.toLowerCase(),Xp=Ds[0].toUpperCase()+Ds.slice(1);Un(Vp,"on"+Xp)}Un(Xu,"onAnimationEnd");Un(Qu,"onAnimationIteration");Un(Gu,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(Yu,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qp=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function ic(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Vf(r,t,void 0,e),e.currentTarget=null}function qu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,p=a.currentTarget;if(a=a.listener,c!==s&&l.isPropagationStopped())break e;ic(l,a,p),s=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,p=a.currentTarget,a=a.listener,c!==s&&l.isPropagationStopped())break e;ic(l,a,p),s=c}}}if(Ml)throw e=si,Ml=!1,si=null,e}function Be(e,t){var n=t[gi];n===void 0&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Zu(t,e,2,!1),n.add(r))}function Ls(e,t,n){var r=0;t&&(r|=4),Zu(n,e,r,t)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Eo(e){if(!e[rl]){e[rl]=!0,lu.forEach(function(n){n!=="selectionchange"&&(Qp.has(n)||Ls(n,!1,e),Ls(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rl]||(t[rl]=!0,Ls("selectionchange",!1,t))}}function Zu(e,t,n,r){switch(Au(t)){case 1:var l=ip;break;case 4:l=ap;break;default:l=Zi}n=l.bind(null,t,n,e),l=void 0,!li||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Rs(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;a!==null;){if(i=er(a),i===null)return;if(c=i.tag,c===5||c===6){r=s=i;continue e}a=a.parentNode}}r=r.return}bu(function(){var p=s,g=Gi(n),x=[];e:{var u=Ku.get(e);if(u!==void 0){var E=ea,N=e;switch(e){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":E=Cp;break;case"focusin":N="focus",E=Ns;break;case"focusout":N="blur",E=Ns;break;case"beforeblur":case"afterblur":E=Ns;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Sp;break;case Xu:case Qu:case Gu:E=hp;break;case Yu:E=Tp;break;case"scroll":E=cp;break;case"wheel":E=Dp;break;case"copy":case"cut":case"paste":E=gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=qa}var C=(t&4)!==0,k=!C&&e==="scroll",f=C?u!==null?u+"Capture":null:u;C=[];for(var d=p,h;d!==null;){h=d;var v=h.stateNode;if(h.tag===5&&v!==null&&(h=v,f!==null&&(v=bo(d,f),v!=null&&C.push(To(d,v,h)))),k)break;d=d.return}0<C.length&&(u=new E(u,N,null,n,g),x.push({event:u,listeners:C}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",u&&n!==ri&&(N=n.relatedTarget||n.fromElement)&&(er(N)||N[yn]))break e;if((E||u)&&(u=g.window===g?g:(u=g.ownerDocument)?u.defaultView||u.parentWindow:window,E?(N=n.relatedTarget||n.toElement,E=p,N=N?er(N):null,N!==null&&(k=dr(N),N!==k||N.tag!==5&&N.tag!==6)&&(N=null)):(E=null,N=p),E!==N)){if(C=Ya,v="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(C=qa,v="onPointerLeave",f="onPointerEnter",d="pointer"),k=E==null?u:br(E),h=N==null?u:br(N),u=new C(v,d+"leave",E,n,g),u.target=k,u.relatedTarget=h,v=null,er(g)===p&&(C=new C(f,d+"enter",N,n,g),C.target=h,C.relatedTarget=k,v=C),k=v,E&&N)t:{for(C=E,f=N,d=0,h=C;h;h=pr(h))d++;for(h=0,v=f;v;v=pr(v))h++;for(;0<d-h;)C=pr(C),d--;for(;0<h-d;)f=pr(f),h--;for(;d--;){if(C===f||f!==null&&C===f.alternate)break t;C=pr(C),f=pr(f)}C=null}else C=null;E!==null&&ac(x,u,E,C,!1),N!==null&&k!==null&&ac(x,k,N,C,!0)}}e:{if(u=p?br(p):window,E=u.nodeName&&u.nodeName.toLowerCase(),E==="select"||E==="input"&&u.type==="file")var S=_p;else if(ec(u))if(Ou)S=Op;else{S=Fp;var j=$p}else(E=u.nodeName)&&E.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(S=Bp);if(S&&(S=S(e,p))){Bu(x,S,n,g);break e}j&&j(e,u,p),e==="focusout"&&(j=u._wrapperState)&&j.controlled&&u.type==="number"&&Zs(u,"number",u.value)}switch(j=p?br(p):window,e){case"focusin":(ec(j)||j.contentEditable==="true")&&(vr=j,ui=p,ho=null);break;case"focusout":ho=ui=vr=null;break;case"mousedown":di=!0;break;case"contextmenu":case"mouseup":case"dragend":di=!1,lc(x,n,g);break;case"selectionchange":if(Up)break;case"keydown":case"keyup":lc(x,n,g)}var R;if(na)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else yr?$u(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(_u&&n.locale!=="ko"&&(yr||M!=="onCompositionStart"?M==="onCompositionEnd"&&yr&&(R=zu()):(Rn=g,Ji="value"in Rn?Rn.value:Rn.textContent,yr=!0)),j=Il(p,M),0<j.length&&(M=new Ka(M,e,null,n,g),x.push({event:M,listeners:j}),R?M.data=R:(R=Fu(n),R!==null&&(M.data=R)))),(R=Rp?Pp(e,n):Ip(e,n))&&(p=Il(p,"onBeforeInput"),0<p.length&&(g=new Ka("onBeforeInput","beforeinput",null,n,g),x.push({event:g,listeners:p}),g.data=R))}qu(x,t)})}function To(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Il(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=bo(e,n),s!=null&&r.unshift(To(e,s,l)),s=bo(e,t),s!=null&&r.push(To(e,s,l))),e=e.return}return r}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ac(e,t,n,r,l){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,p=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&p!==null&&(a=p,l?(c=bo(n,s),c!=null&&i.unshift(To(n,c,a))):l||(c=bo(n,s),c!=null&&i.push(To(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Gp=/\r\n?/g,Yp=/\u0000|\uFFFD/g;function cc(e){return(typeof e=="string"?e:""+e).replace(Gp,`
`).replace(Yp,"")}function ol(e,t,n){if(t=cc(t),cc(e)!==t&&n)throw Error(Q(425))}function Al(){}var fi=null,pi=null;function hi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mi=typeof setTimeout=="function"?setTimeout:void 0,Kp=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,qp=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(e){return uc.resolve(null).then(e).catch(Zp)}:mi;function Zp(e){setTimeout(function(){throw e})}function Ps(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);ko(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),sn="__reactFiber$"+Ur,Mo="__reactProps$"+Ur,yn="__reactContainer$"+Ur,gi="__reactEvents$"+Ur,Jp="__reactListeners$"+Ur,eh="__reactHandles$"+Ur;function er(e){var t=e[sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dc(e);e!==null;){if(n=e[sn])return n;e=dc(e)}return t}e=n,n=e.parentNode}return null}function Fo(e){return e=e[sn]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function rs(e){return e[Mo]||null}var xi=[],jr=-1;function Vn(e){return{current:e}}function Oe(e){0>jr||(e.current=xi[jr],xi[jr]=null,jr--)}function $e(e,t){jr++,xi[jr]=e.current,e.current=t}var Hn={},mt=Vn(Hn),Nt=Vn(!1),lr=Hn;function zr(e,t){var n=e.type.contextTypes;if(!n)return Hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function St(e){return e=e.childContextTypes,e!=null}function zl(){Oe(Nt),Oe(mt)}function fc(e,t,n){if(mt.current!==Hn)throw Error(Q(168));$e(mt,t),$e(Nt,n)}function Ju(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(Q(108,$f(e)||"Unknown",l));return Ge({},n,r)}function _l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,lr=mt.current,$e(mt,e),$e(Nt,Nt.current),!0}function pc(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=Ju(e,t,lr),r.__reactInternalMemoizedMergedChildContext=e,Oe(Nt),Oe(mt),$e(mt,e)):Oe(Nt),$e(Nt,n)}var fn=null,os=!1,Is=!1;function ed(e){fn===null?fn=[e]:fn.push(e)}function th(e){os=!0,ed(e)}function Xn(){if(!Is&&fn!==null){Is=!0;var e=0,t=Ae;try{var n=fn;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,os=!1}catch(l){throw fn!==null&&(fn=fn.slice(e+1)),Nu(Yi,Xn),l}finally{Ae=t,Is=!1}}return null}var Cr=[],kr=0,$l=null,Fl=0,Wt=[],Ht=0,sr=null,pn=1,hn="";function Zn(e,t){Cr[kr++]=Fl,Cr[kr++]=$l,$l=e,Fl=t}function td(e,t,n){Wt[Ht++]=pn,Wt[Ht++]=hn,Wt[Ht++]=sr,sr=e;var r=pn;e=hn;var l=32-Jt(r)-1;r&=~(1<<l),n+=1;var s=32-Jt(t)+l;if(30<s){var i=l-l%5;s=(r&(1<<i)-1).toString(32),r>>=i,l-=i,pn=1<<32-Jt(t)+l|n<<l|r,hn=s+e}else pn=1<<s|n<<l|r,hn=e}function oa(e){e.return!==null&&(Zn(e,1),td(e,1,0))}function la(e){for(;e===$l;)$l=Cr[--kr],Cr[kr]=null,Fl=Cr[--kr],Cr[kr]=null;for(;e===sr;)sr=Wt[--Ht],Wt[Ht]=null,hn=Wt[--Ht],Wt[Ht]=null,pn=Wt[--Ht],Wt[Ht]=null}var Rt=null,Lt=null,Ue=!1,Zt=null;function nd(e,t){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rt=e,Lt=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sr!==null?{id:pn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rt=e,Lt=null,!0):!1;default:return!1}}function yi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vi(e){if(Ue){var t=Lt;if(t){var n=t;if(!hc(e,t)){if(yi(e))throw Error(Q(418));t=_n(n.nextSibling);var r=Rt;t&&hc(e,t)?nd(r,n):(e.flags=e.flags&-4097|2,Ue=!1,Rt=e)}}else{if(yi(e))throw Error(Q(418));e.flags=e.flags&-4097|2,Ue=!1,Rt=e}}}function mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function ll(e){if(e!==Rt)return!1;if(!Ue)return mc(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hi(e.type,e.memoizedProps)),t&&(t=Lt)){if(yi(e))throw rd(),Error(Q(418));for(;t;)nd(e,t),t=_n(t.nextSibling)}if(mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=_n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Rt?_n(e.stateNode.nextSibling):null;return!0}function rd(){for(var e=Lt;e;)e=_n(e.nextSibling)}function _r(){Lt=Rt=null,Ue=!1}function sa(e){Zt===null?Zt=[e]:Zt.push(e)}var nh=bn.ReactCurrentBatchConfig;function Zr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=l.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function sl(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gc(e){var t=e._init;return t(e._payload)}function od(e){function t(f,d){if(e){var h=f.deletions;h===null?(f.deletions=[d],f.flags|=16):h.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function l(f,d){return f=On(f,d),f.index=0,f.sibling=null,f}function s(f,d,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<d?(f.flags|=2,d):h):(f.flags|=2,d)):(f.flags|=1048576,d)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,d,h,v){return d===null||d.tag!==6?(d=Os(h,f.mode,v),d.return=f,d):(d=l(d,h),d.return=f,d)}function c(f,d,h,v){var S=h.type;return S===xr?g(f,d,h.props.children,v,h.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tn&&gc(S)===d.type)?(v=l(d,h.props),v.ref=Zr(f,d,h),v.return=f,v):(v=Sl(h.type,h.key,h.props,null,f.mode,v),v.ref=Zr(f,d,h),v.return=f,v)}function p(f,d,h,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=Ws(h,f.mode,v),d.return=f,d):(d=l(d,h.children||[]),d.return=f,d)}function g(f,d,h,v,S){return d===null||d.tag!==7?(d=or(h,f.mode,v,S),d.return=f,d):(d=l(d,h),d.return=f,d)}function x(f,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Os(""+d,f.mode,h),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Yo:return h=Sl(d.type,d.key,d.props,null,f.mode,h),h.ref=Zr(f,null,d),h.return=f,h;case gr:return d=Ws(d,f.mode,h),d.return=f,d;case Tn:var v=d._init;return x(f,v(d._payload),h)}if(lo(d)||Qr(d))return d=or(d,f.mode,h,null),d.return=f,d;sl(f,d)}return null}function u(f,d,h,v){var S=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return S!==null?null:a(f,d,""+h,v);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Yo:return h.key===S?c(f,d,h,v):null;case gr:return h.key===S?p(f,d,h,v):null;case Tn:return S=h._init,u(f,d,S(h._payload),v)}if(lo(h)||Qr(h))return S!==null?null:g(f,d,h,v,null);sl(f,h)}return null}function E(f,d,h,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return f=f.get(h)||null,a(d,f,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yo:return f=f.get(v.key===null?h:v.key)||null,c(d,f,v,S);case gr:return f=f.get(v.key===null?h:v.key)||null,p(d,f,v,S);case Tn:var j=v._init;return E(f,d,h,j(v._payload),S)}if(lo(v)||Qr(v))return f=f.get(h)||null,g(d,f,v,S,null);sl(d,v)}return null}function N(f,d,h,v){for(var S=null,j=null,R=d,M=d=0,L=null;R!==null&&M<h.length;M++){R.index>M?(L=R,R=null):L=R.sibling;var _=u(f,R,h[M],v);if(_===null){R===null&&(R=L);break}e&&R&&_.alternate===null&&t(f,R),d=s(_,d,M),j===null?S=_:j.sibling=_,j=_,R=L}if(M===h.length)return n(f,R),Ue&&Zn(f,M),S;if(R===null){for(;M<h.length;M++)R=x(f,h[M],v),R!==null&&(d=s(R,d,M),j===null?S=R:j.sibling=R,j=R);return Ue&&Zn(f,M),S}for(R=r(f,R);M<h.length;M++)L=E(R,f,M,h[M],v),L!==null&&(e&&L.alternate!==null&&R.delete(L.key===null?M:L.key),d=s(L,d,M),j===null?S=L:j.sibling=L,j=L);return e&&R.forEach(function(H){return t(f,H)}),Ue&&Zn(f,M),S}function C(f,d,h,v){var S=Qr(h);if(typeof S!="function")throw Error(Q(150));if(h=S.call(h),h==null)throw Error(Q(151));for(var j=S=null,R=d,M=d=0,L=null,_=h.next();R!==null&&!_.done;M++,_=h.next()){R.index>M?(L=R,R=null):L=R.sibling;var H=u(f,R,_.value,v);if(H===null){R===null&&(R=L);break}e&&R&&H.alternate===null&&t(f,R),d=s(H,d,M),j===null?S=H:j.sibling=H,j=H,R=L}if(_.done)return n(f,R),Ue&&Zn(f,M),S;if(R===null){for(;!_.done;M++,_=h.next())_=x(f,_.value,v),_!==null&&(d=s(_,d,M),j===null?S=_:j.sibling=_,j=_);return Ue&&Zn(f,M),S}for(R=r(f,R);!_.done;M++,_=h.next())_=E(R,f,M,_.value,v),_!==null&&(e&&_.alternate!==null&&R.delete(_.key===null?M:_.key),d=s(_,d,M),j===null?S=_:j.sibling=_,j=_);return e&&R.forEach(function(F){return t(f,F)}),Ue&&Zn(f,M),S}function k(f,d,h,v){if(typeof h=="object"&&h!==null&&h.type===xr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Yo:e:{for(var S=h.key,j=d;j!==null;){if(j.key===S){if(S=h.type,S===xr){if(j.tag===7){n(f,j.sibling),d=l(j,h.props.children),d.return=f,f=d;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tn&&gc(S)===j.type){n(f,j.sibling),d=l(j,h.props),d.ref=Zr(f,j,h),d.return=f,f=d;break e}n(f,j);break}else t(f,j);j=j.sibling}h.type===xr?(d=or(h.props.children,f.mode,v,h.key),d.return=f,f=d):(v=Sl(h.type,h.key,h.props,null,f.mode,v),v.ref=Zr(f,d,h),v.return=f,f=v)}return i(f);case gr:e:{for(j=h.key;d!==null;){if(d.key===j)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(f,d.sibling),d=l(d,h.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=Ws(h,f.mode,v),d.return=f,f=d}return i(f);case Tn:return j=h._init,k(f,d,j(h._payload),v)}if(lo(h))return N(f,d,h,v);if(Qr(h))return C(f,d,h,v);sl(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(f,d.sibling),d=l(d,h),d.return=f,f=d):(n(f,d),d=Os(h,f.mode,v),d.return=f,f=d),i(f)):n(f,d)}return k}var $r=od(!0),ld=od(!1),Bl=Vn(null),Ol=null,Nr=null,ia=null;function aa(){ia=Nr=Ol=null}function ca(e){var t=Bl.current;Oe(Bl),e._currentValue=t}function wi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){Ol=e,ia=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function Xt(e){var t=e._currentValue;if(ia!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(Ol===null)throw Error(Q(308));Nr=e,Ol.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var tr=null;function ua(e){tr===null?tr=[e]:tr.push(e)}function sd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ua(t)):(n.next=l.next,l.next=n),t.interleaved=n,vn(e,r)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function id(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,vn(e,n)}return l=r.interleaved,l===null?(t.next=t,ua(r)):(t.next=l.next,l.next=t),r.interleaved=t,vn(e,n)}function wl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ki(e,n)}}function xc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wl(e,t,n,r){var l=e.updateQueue;Mn=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,p=c.next;c.next=null,i===null?s=p:i.next=p,i=c;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==i&&(a===null?g.firstBaseUpdate=p:a.next=p,g.lastBaseUpdate=c))}if(s!==null){var x=l.baseState;i=0,g=p=c=null,a=s;do{var u=a.lane,E=a.eventTime;if((r&u)===u){g!==null&&(g=g.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,C=a;switch(u=t,E=n,C.tag){case 1:if(N=C.payload,typeof N=="function"){x=N.call(E,x,u);break e}x=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=C.payload,u=typeof N=="function"?N.call(E,x,u):N,u==null)break e;x=Ge({},x,u);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,u=l.effects,u===null?l.effects=[a]:u.push(a))}else E={eventTime:E,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(p=g=E,c=x):g=g.next=E,i|=u;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;u=a,a=u.next,u.next=null,l.lastBaseUpdate=u,l.shared.pending=null}}while(!0);if(g===null&&(c=x),l.baseState=c,l.firstBaseUpdate=p,l.lastBaseUpdate=g,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);ar|=i,e.lanes=i,e.memoizedState=x}}function yc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(Q(191,l));l.call(r)}}}var Bo={},cn=Vn(Bo),Do=Vn(Bo),Lo=Vn(Bo);function nr(e){if(e===Bo)throw Error(Q(174));return e}function fa(e,t){switch($e(Lo,t),$e(Do,e),$e(cn,Bo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ei(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ei(t,e)}Oe(cn),$e(cn,t)}function Fr(){Oe(cn),Oe(Do),Oe(Lo)}function ad(e){nr(Lo.current);var t=nr(cn.current),n=ei(t,e.type);t!==n&&($e(Do,e),$e(cn,n))}function pa(e){Do.current===e&&(Oe(cn),Oe(Do))}var Xe=Vn(0);function Hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var As=[];function ha(){for(var e=0;e<As.length;e++)As[e]._workInProgressVersionPrimary=null;As.length=0}var bl=bn.ReactCurrentDispatcher,zs=bn.ReactCurrentBatchConfig,ir=0,Qe=null,ot=null,st=null,Ul=!1,mo=!1,Ro=0,rh=0;function ft(){throw Error(Q(321))}function ma(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,l,s){if(ir=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bl.current=e===null||e.memoizedState===null?ih:ah,e=n(r,l),mo){s=0;do{if(mo=!1,Ro=0,25<=s)throw Error(Q(301));s+=1,st=ot=null,t.updateQueue=null,bl.current=ch,e=n(r,l)}while(mo)}if(bl.current=Vl,t=ot!==null&&ot.next!==null,ir=0,st=ot=Qe=null,Ul=!1,t)throw Error(Q(300));return e}function xa(){var e=Ro!==0;return Ro=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Qe.memoizedState=st=e:st=st.next=e,st}function Qt(){if(ot===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=st===null?Qe.memoizedState:st.next;if(t!==null)st=t,ot=e;else{if(e===null)throw Error(Q(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},st===null?Qe.memoizedState=st=e:st=st.next=e}return st}function Po(e,t){return typeof t=="function"?t(e):t}function _s(e){var t=Qt(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=ot,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=i=null,c=null,p=s;do{var g=p.lane;if((ir&g)===g)c!==null&&(c=c.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var x={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};c===null?(a=c=x,i=r):c=c.next=x,Qe.lanes|=g,ar|=g}p=p.next}while(p!==null&&p!==s);c===null?i=r:c.next=a,tn(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,Qe.lanes|=s,ar|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $s(e){var t=Qt(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);tn(s,t.memoizedState)||(kt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function cd(){}function ud(e,t){var n=Qe,r=Qt(),l=t(),s=!tn(r.memoizedState,l);if(s&&(r.memoizedState=l,kt=!0),r=r.queue,ya(pd.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Io(9,fd.bind(null,n,r,l,t),void 0,null),it===null)throw Error(Q(349));ir&30||dd(n,t,l)}return l}function dd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fd(e,t,n,r){t.value=n,t.getSnapshot=r,hd(t)&&md(e)}function pd(e,t,n){return n(function(){hd(t)&&md(e)})}function hd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function md(e){var t=vn(e,1);t!==null&&en(t,e,1,-1)}function vc(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=sh.bind(null,Qe,e),[t.memoizedState,e]}function Io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gd(){return Qt().memoizedState}function jl(e,t,n,r){var l=ln();Qe.flags|=e,l.memoizedState=Io(1|t,n,void 0,r===void 0?null:r)}function ls(e,t,n,r){var l=Qt();r=r===void 0?null:r;var s=void 0;if(ot!==null){var i=ot.memoizedState;if(s=i.destroy,r!==null&&ma(r,i.deps)){l.memoizedState=Io(t,n,s,r);return}}Qe.flags|=e,l.memoizedState=Io(1|t,n,s,r)}function wc(e,t){return jl(8390656,8,e,t)}function ya(e,t){return ls(2048,8,e,t)}function xd(e,t){return ls(4,2,e,t)}function yd(e,t){return ls(4,4,e,t)}function vd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wd(e,t,n){return n=n!=null?n.concat([e]):null,ls(4,4,vd.bind(null,t,e),n)}function va(){}function bd(e,t){var n=Qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jd(e,t){var n=Qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cd(e,t,n){return ir&21?(tn(n,t)||(n=Tu(),Qe.lanes|=n,ar|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n)}function oh(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=zs.transition;zs.transition={};try{e(!1),t()}finally{Ae=n,zs.transition=r}}function kd(){return Qt().memoizedState}function lh(e,t,n){var r=Bn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nd(e))Sd(t,n);else if(n=sd(e,t,n,r),n!==null){var l=wt();en(n,e,r,l),Ed(n,t,r)}}function sh(e,t,n){var r=Bn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nd(e))Sd(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(l.hasEagerState=!0,l.eagerState=a,tn(a,i)){var c=t.interleaved;c===null?(l.next=l,ua(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=sd(e,t,l,r),n!==null&&(l=wt(),en(n,e,r,l),Ed(n,t,r))}}function Nd(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function Sd(e,t){mo=Ul=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ed(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ki(e,n)}}var Vl={readContext:Xt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},ih={readContext:Xt,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:wc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,jl(4194308,4,vd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jl(4194308,4,e,t)},useInsertionEffect:function(e,t){return jl(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lh.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:vc,useDebugValue:va,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=vc(!1),t=e[0];return e=oh.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,l=ln();if(Ue){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),it===null)throw Error(Q(349));ir&30||dd(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,wc(pd.bind(null,r,s,e),[e]),r.flags|=2048,Io(9,fd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ln(),t=it.identifierPrefix;if(Ue){var n=hn,r=pn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ro++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ah={readContext:Xt,useCallback:bd,useContext:Xt,useEffect:ya,useImperativeHandle:wd,useInsertionEffect:xd,useLayoutEffect:yd,useMemo:jd,useReducer:_s,useRef:gd,useState:function(){return _s(Po)},useDebugValue:va,useDeferredValue:function(e){var t=Qt();return Cd(t,ot.memoizedState,e)},useTransition:function(){var e=_s(Po)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:cd,useSyncExternalStore:ud,useId:kd,unstable_isNewReconciler:!1},ch={readContext:Xt,useCallback:bd,useContext:Xt,useEffect:ya,useImperativeHandle:wd,useInsertionEffect:xd,useLayoutEffect:yd,useMemo:jd,useReducer:$s,useRef:gd,useState:function(){return $s(Po)},useDebugValue:va,useDeferredValue:function(e){var t=Qt();return ot===null?t.memoizedState=e:Cd(t,ot.memoizedState,e)},useTransition:function(){var e=$s(Po)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:cd,useSyncExternalStore:ud,useId:kd,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ss={isMounted:function(e){return(e=e._reactInternals)?dr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wt(),l=Bn(e),s=gn(r,l);s.payload=t,n!=null&&(s.callback=n),t=$n(e,s,l),t!==null&&(en(t,e,l,r),wl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wt(),l=Bn(e),s=gn(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=$n(e,s,l),t!==null&&(en(t,e,l,r),wl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),r=Bn(e),l=gn(n,r);l.tag=2,t!=null&&(l.callback=t),t=$n(e,l,r),t!==null&&(en(t,e,r,n),wl(t,e,r))}};function bc(e,t,n,r,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!So(n,r)||!So(l,s):!0}function Td(e,t,n){var r=!1,l=Hn,s=t.contextType;return typeof s=="object"&&s!==null?s=Xt(s):(l=St(t)?lr:mt.current,r=t.contextTypes,s=(r=r!=null)?zr(e,l):Hn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ss,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function jc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ss.enqueueReplaceState(t,t.state,null)}function ji(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},da(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Xt(s):(s=St(t)?lr:mt.current,l.context=zr(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(bi(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ss.enqueueReplaceState(l,l.state,null),Wl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Br(e,t){try{var n="",r=t;do n+=_f(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Fs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ci(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uh=typeof WeakMap=="function"?WeakMap:Map;function Md(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Pi=r),Ci(e,t)},n}function Dd(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ci(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ci(e,t),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Cc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new uh;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=kh.bind(null,e,t,n),t.then(e,e))}function kc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e)}var dh=bn.ReactCurrentOwner,kt=!1;function vt(e,t,n,r){t.child=e===null?ld(t,null,n,r):$r(t,e.child,n,r)}function Sc(e,t,n,r,l){n=n.render;var s=t.ref;return Pr(t,l),r=ga(e,t,n,r,s,l),n=xa(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,wn(e,t,l)):(Ue&&n&&oa(t),t.flags|=1,vt(e,t,r,l),t.child)}function Ec(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Ea(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ld(e,t,s,r,l)):(e=Sl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:So,n(i,r)&&e.ref===t.ref)return wn(e,t,l)}return t.flags|=1,e=On(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ld(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(So(s,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,wn(e,t,l)}return ki(e,t,n,r,l)}function Rd(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Er,Dt),Dt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Er,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(Er,Dt),Dt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,$e(Er,Dt),Dt|=r;return vt(e,t,l,n),t.child}function Pd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ki(e,t,n,r,l){var s=St(n)?lr:mt.current;return s=zr(t,s),Pr(t,l),n=ga(e,t,n,r,s,l),r=xa(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,wn(e,t,l)):(Ue&&r&&oa(t),t.flags|=1,vt(e,t,n,l),t.child)}function Tc(e,t,n,r,l){if(St(n)){var s=!0;_l(t)}else s=!1;if(Pr(t,l),t.stateNode===null)Cl(e,t),Td(t,n,r),ji(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,p=n.contextType;typeof p=="object"&&p!==null?p=Xt(p):(p=St(n)?lr:mt.current,p=zr(t,p));var g=n.getDerivedStateFromProps,x=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==p)&&jc(t,i,r,p),Mn=!1;var u=t.memoizedState;i.state=u,Wl(t,r,i,l),c=t.memoizedState,a!==r||u!==c||Nt.current||Mn?(typeof g=="function"&&(bi(t,n,g,r),c=t.memoizedState),(a=Mn||bc(t,n,a,r,u,c,p))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=p,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,id(e,t),a=t.memoizedProps,p=t.type===t.elementType?a:Kt(t.type,a),i.props=p,x=t.pendingProps,u=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xt(c):(c=St(n)?lr:mt.current,c=zr(t,c));var E=n.getDerivedStateFromProps;(g=typeof E=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==x||u!==c)&&jc(t,i,r,c),Mn=!1,u=t.memoizedState,i.state=u,Wl(t,r,i,l);var N=t.memoizedState;a!==x||u!==N||Nt.current||Mn?(typeof E=="function"&&(bi(t,n,E,r),N=t.memoizedState),(p=Mn||bc(t,n,p,r,u,N,c)||!1)?(g||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,N,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,N,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),i.props=r,i.state=N,i.context=c,r=p):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return Ni(e,t,n,r,s,l)}function Ni(e,t,n,r,l,s){Pd(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&pc(t,n,!1),wn(e,t,s);r=t.stateNode,dh.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=$r(t,e.child,null,s),t.child=$r(t,null,a,s)):vt(e,t,a,s),t.memoizedState=r.state,l&&pc(t,n,!0),t.child}function Id(e){var t=e.stateNode;t.pendingContext?fc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fc(e,t.context,!1),fa(e,t.containerInfo)}function Mc(e,t,n,r,l){return _r(),sa(l),t.flags|=256,vt(e,t,n,r),t.child}var Si={dehydrated:null,treeContext:null,retryLane:0};function Ei(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ad(e,t,n){var r=t.pendingProps,l=Xe.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),$e(Xe,l&1),e===null)return vi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=cs(i,r,0,null),e=or(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ei(n),t.memoizedState=Si,e):wa(t,i));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return fh(e,t,i,r,a,l,n);if(s){s=r.fallback,i=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=On(l,c),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=On(a,s):(s=or(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Ei(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Si,r}return s=e.child,e=s.sibling,r=On(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wa(e,t){return t=cs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function il(e,t,n,r){return r!==null&&sa(r),$r(t,e.child,null,n),e=wa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fh(e,t,n,r,l,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Fs(Error(Q(422))),il(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=cs({mode:"visible",children:r.children},l,0,null),s=or(s,l,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&$r(t,e.child,null,i),t.child.memoizedState=Ei(i),t.memoizedState=Si,s);if(!(t.mode&1))return il(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Q(419)),r=Fs(s,r,void 0),il(e,t,i,r)}if(a=(i&e.childLanes)!==0,kt||a){if(r=it,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,vn(e,l),en(r,e,l,-1))}return Sa(),r=Fs(Error(Q(421))),il(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Nh.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,Lt=_n(l.nextSibling),Rt=t,Ue=!0,Zt=null,e!==null&&(Wt[Ht++]=pn,Wt[Ht++]=hn,Wt[Ht++]=sr,pn=e.id,hn=e.overflow,sr=t),t=wa(t,r.children),t.flags|=4096,t)}function Dc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wi(e.return,t,n)}function Bs(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function zd(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(vt(e,t,r.children,n),r=Xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dc(e,n,t);else if(e.tag===19)Dc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Xe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Hl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Bs(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Hl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Bs(t,!0,n,null,s);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ar|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=On(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=On(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ph(e,t,n){switch(t.tag){case 3:Id(t),_r();break;case 5:ad(t);break;case 1:St(t.type)&&_l(t);break;case 4:fa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;$e(Bl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Xe,Xe.current&1),t.flags|=128,null):n&t.child.childLanes?Ad(e,t,n):($e(Xe,Xe.current&1),e=wn(e,t,n),e!==null?e.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),$e(Xe,Xe.current),r)break;return null;case 22:case 23:return t.lanes=0,Rd(e,t,n)}return wn(e,t,n)}var _d,Ti,$d,Fd;_d=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ti=function(){};$d=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,nr(cn.current);var s=null;switch(n){case"input":l=Ks(e,l),r=Ks(e,r),s=[];break;case"select":l=Ge({},l,{value:void 0}),r=Ge({},r,{value:void 0}),s=[];break;case"textarea":l=Js(e,l),r=Js(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Al)}ti(n,r);var i;n=null;for(p in l)if(!r.hasOwnProperty(p)&&l.hasOwnProperty(p)&&l[p]!=null)if(p==="style"){var a=l[p];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(vo.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var c=r[p];if(a=l!=null?l[p]:void 0,r.hasOwnProperty(p)&&c!==a&&(c!=null||a!=null))if(p==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(p,n)),n=c;else p==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(p,c)):p==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(p,""+c):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(vo.hasOwnProperty(p)?(c!=null&&p==="onScroll"&&Be("scroll",e),s||a===c||(s=[])):(s=s||[]).push(p,c))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}};Fd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Jr(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hh(e,t,n){var r=t.pendingProps;switch(la(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return St(t.type)&&zl(),pt(t),null;case 3:return r=t.stateNode,Fr(),Oe(Nt),Oe(mt),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ll(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(zi(Zt),Zt=null))),Ti(e,t),pt(t),null;case 5:pa(t);var l=nr(Lo.current);if(n=t.type,e!==null&&t.stateNode!=null)$d(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return pt(t),null}if(e=nr(cn.current),ll(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[sn]=t,r[Mo]=s,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(l=0;l<io.length;l++)Be(io[l],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Fa(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":Oa(r,s),Be("invalid",r)}ti(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ol(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ol(r.textContent,a,e),l=["children",""+a]):vo.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Be("scroll",r)}switch(n){case"input":Ko(r),Ba(r,s,!0);break;case"textarea":Ko(r),Wa(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Al)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[sn]=t,e[Mo]=r,_d(e,t,!1,!1),t.stateNode=e;e:{switch(i=ni(n,r),n){case"dialog":Be("cancel",e),Be("close",e),l=r;break;case"iframe":case"object":case"embed":Be("load",e),l=r;break;case"video":case"audio":for(l=0;l<io.length;l++)Be(io[l],e);l=r;break;case"source":Be("error",e),l=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),l=r;break;case"details":Be("toggle",e),l=r;break;case"input":Fa(e,r),l=Ks(e,r),Be("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Ge({},r,{value:void 0}),Be("invalid",e);break;case"textarea":Oa(e,r),l=Js(e,r),Be("invalid",e);break;default:l=r}ti(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?gu(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hu(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wo(e,c):typeof c=="number"&&wo(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vo.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Be("scroll",e):c!=null&&Ui(e,s,c,i))}switch(n){case"input":Ko(e),Ba(e,r,!1);break;case"textarea":Ko(e),Wa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Mr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Mr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)Fd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=nr(Lo.current),nr(cn.current),ll(t)){if(r=t.stateNode,n=t.memoizedProps,r[sn]=t,(s=r.nodeValue!==n)&&(e=Rt,e!==null))switch(e.tag){case 3:ol(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ol(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=t,t.stateNode=r}return pt(t),null;case 13:if(Oe(Xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Lt!==null&&t.mode&1&&!(t.flags&128))rd(),_r(),t.flags|=98560,s=!1;else if(s=ll(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[sn]=t}else _r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),s=!1}else Zt!==null&&(zi(Zt),Zt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?lt===0&&(lt=3):Sa())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return Fr(),Ti(e,t),e===null&&Eo(t.stateNode.containerInfo),pt(t),null;case 10:return ca(t.type._context),pt(t),null;case 17:return St(t.type)&&zl(),pt(t),null;case 19:if(Oe(Xe),s=t.memoizedState,s===null)return pt(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Jr(s,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Hl(e),i!==null){for(t.flags|=128,Jr(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Xe,Xe.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ke()>Or&&(t.flags|=128,r=!0,Jr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Hl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ue)return pt(t),null}else 2*Ke()-s.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,r=!0,Jr(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,n=Xe.current,$e(Xe,r?n&1|2:n&1),t):(pt(t),null);case 22:case 23:return Na(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Dt&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function mh(e,t){switch(la(t),t.tag){case 1:return St(t.type)&&zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(),Oe(Nt),Oe(mt),ha(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pa(t),null;case 13:if(Oe(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));_r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Xe),null;case 4:return Fr(),null;case 10:return ca(t.type._context),null;case 22:case 23:return Na(),null;case 24:return null;default:return null}}var al=!1,ht=!1,gh=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(e,t,r)}else n.current=null}function Mi(e,t,n){try{n()}catch(r){Ye(e,t,r)}}var Lc=!1;function xh(e,t){if(fi=Rl,e=Uu(),ra(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,p=0,g=0,x=e,u=null;t:for(;;){for(var E;x!==n||l!==0&&x.nodeType!==3||(a=i+l),x!==s||r!==0&&x.nodeType!==3||(c=i+r),x.nodeType===3&&(i+=x.nodeValue.length),(E=x.firstChild)!==null;)u=x,x=E;for(;;){if(x===e)break t;if(u===n&&++p===l&&(a=i),u===s&&++g===r&&(c=i),(E=x.nextSibling)!==null)break;x=u,u=x.parentNode}x=E}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pi={focusedElem:e,selectionRange:n},Rl=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var C=N.memoizedProps,k=N.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?C:Kt(t.type,C),k);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(v){Ye(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return N=Lc,Lc=!1,N}function go(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Mi(t,n,s)}l=l.next}while(l!==r)}}function is(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Di(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bd(e){var t=e.alternate;t!==null&&(e.alternate=null,Bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[Mo],delete t[gi],delete t[Jp],delete t[eh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Od(e){return e.tag===5||e.tag===3||e.tag===4}function Rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Li(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Al));else if(r!==4&&(e=e.child,e!==null))for(Li(e,t,n),e=e.sibling;e!==null;)Li(e,t,n),e=e.sibling}function Ri(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ri(e,t,n),e=e.sibling;e!==null;)Ri(e,t,n),e=e.sibling}var ct=null,qt=!1;function En(e,t,n){for(n=n.child;n!==null;)Wd(e,t,n),n=n.sibling}function Wd(e,t,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 5:ht||Sr(n,t);case 6:var r=ct,l=qt;ct=null,En(e,t,n),ct=r,qt=l,ct!==null&&(qt?(e=ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(qt?(e=ct,n=n.stateNode,e.nodeType===8?Ps(e.parentNode,n):e.nodeType===1&&Ps(e,n),ko(e)):Ps(ct,n.stateNode));break;case 4:r=ct,l=qt,ct=n.stateNode.containerInfo,qt=!0,En(e,t,n),ct=r,qt=l;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Mi(n,t,i),l=l.next}while(l!==r)}En(e,t,n);break;case 1:if(!ht&&(Sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,t,a)}En(e,t,n);break;case 21:En(e,t,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,En(e,t,n),ht=r):En(e,t,n);break;default:En(e,t,n)}}function Pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gh),t.forEach(function(r){var l=Sh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,qt=!1;break e;case 3:ct=a.stateNode.containerInfo,qt=!0;break e;case 4:ct=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(ct===null)throw Error(Q(160));Wd(s,i,l),ct=null,qt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(p){Ye(l,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hd(t,e),t=t.sibling}function Hd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(t,e),on(e),r&4){try{go(3,e,e.return),is(3,e)}catch(C){Ye(e,e.return,C)}try{go(5,e,e.return)}catch(C){Ye(e,e.return,C)}}break;case 1:Yt(t,e),on(e),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(Yt(t,e),on(e),r&512&&n!==null&&Sr(n,n.return),e.flags&32){var l=e.stateNode;try{wo(l,"")}catch(C){Ye(e,e.return,C)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&du(l,s),ni(a,i);var p=ni(a,s);for(i=0;i<c.length;i+=2){var g=c[i],x=c[i+1];g==="style"?gu(l,x):g==="dangerouslySetInnerHTML"?hu(l,x):g==="children"?wo(l,x):Ui(l,g,x,p)}switch(a){case"input":qs(l,s);break;case"textarea":fu(l,s);break;case"select":var u=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?Mr(l,!!s.multiple,E,!1):u!==!!s.multiple&&(s.defaultValue!=null?Mr(l,!!s.multiple,s.defaultValue,!0):Mr(l,!!s.multiple,s.multiple?[]:"",!1))}l[Mo]=s}catch(C){Ye(e,e.return,C)}}break;case 6:if(Yt(t,e),on(e),r&4){if(e.stateNode===null)throw Error(Q(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(C){Ye(e,e.return,C)}}break;case 3:if(Yt(t,e),on(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ko(t.containerInfo)}catch(C){Ye(e,e.return,C)}break;case 4:Yt(t,e),on(e);break;case 13:Yt(t,e),on(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Ca=Ke())),r&4&&Pc(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(ht=(p=ht)||g,Yt(t,e),ht=p):Yt(t,e),on(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!g&&e.mode&1)for(ne=e,g=e.child;g!==null;){for(x=ne=g;ne!==null;){switch(u=ne,E=u.child,u.tag){case 0:case 11:case 14:case 15:go(4,u,u.return);break;case 1:Sr(u,u.return);var N=u.stateNode;if(typeof N.componentWillUnmount=="function"){r=u,n=u.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(C){Ye(r,n,C)}}break;case 5:Sr(u,u.return);break;case 22:if(u.memoizedState!==null){Ac(x);continue}}E!==null?(E.return=u,ne=E):Ac(x)}g=g.sibling}e:for(g=null,x=e;;){if(x.tag===5){if(g===null){g=x;try{l=x.stateNode,p?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=x.stateNode,c=x.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=mu("display",i))}catch(C){Ye(e,e.return,C)}}}else if(x.tag===6){if(g===null)try{x.stateNode.nodeValue=p?"":x.memoizedProps}catch(C){Ye(e,e.return,C)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;g===x&&(g=null),x=x.return}g===x&&(g=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Yt(t,e),on(e),r&4&&Pc(e);break;case 21:break;default:Yt(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Od(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(wo(l,""),r.flags&=-33);var s=Rc(e);Ri(e,s,l);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Rc(e);Li(e,a,i);break;default:throw Error(Q(161))}}catch(c){Ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yh(e,t,n){ne=e,Ud(e)}function Ud(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var l=ne,s=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||al;if(!i){var a=l.alternate,c=a!==null&&a.memoizedState!==null||ht;a=al;var p=ht;if(al=i,(ht=c)&&!p)for(ne=l;ne!==null;)i=ne,c=i.child,i.tag===22&&i.memoizedState!==null?zc(l):c!==null?(c.return=i,ne=c):zc(l);for(;s!==null;)ne=s,Ud(s),s=s.sibling;ne=l,al=a,ht=p}Ic(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,ne=s):Ic(e)}}function Ic(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||is(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ht)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Kt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&yc(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yc(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var x=g.dehydrated;x!==null&&ko(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}ht||t.flags&512&&Di(t)}catch(u){Ye(t,t.return,u)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Ac(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function zc(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(c){Ye(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Ye(t,l,c)}}var s=t.return;try{Di(t)}catch(c){Ye(t,s,c)}break;case 5:var i=t.return;try{Di(t)}catch(c){Ye(t,i,c)}}}catch(c){Ye(t,t.return,c)}if(t===e){ne=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ne=a;break}ne=t.return}}var vh=Math.ceil,Xl=bn.ReactCurrentDispatcher,ba=bn.ReactCurrentOwner,Vt=bn.ReactCurrentBatchConfig,Te=0,it=null,nt=null,ut=0,Dt=0,Er=Vn(0),lt=0,Ao=null,ar=0,as=0,ja=0,xo=null,Ct=null,Ca=0,Or=1/0,dn=null,Ql=!1,Pi=null,Fn=null,cl=!1,Pn=null,Gl=0,yo=0,Ii=null,kl=-1,Nl=0;function wt(){return Te&6?Ke():kl!==-1?kl:kl=Ke()}function Bn(e){return e.mode&1?Te&2&&ut!==0?ut&-ut:nh.transition!==null?(Nl===0&&(Nl=Tu()),Nl):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Au(e.type)),e):1}function en(e,t,n,r){if(50<yo)throw yo=0,Ii=null,Error(Q(185));_o(e,n,r),(!(Te&2)||e!==it)&&(e===it&&(!(Te&2)&&(as|=n),lt===4&&Ln(e,ut)),Et(e,r),n===1&&Te===0&&!(t.mode&1)&&(Or=Ke()+500,os&&Xn()))}function Et(e,t){var n=e.callbackNode;np(e,t);var r=Ll(e,e===it?ut:0);if(r===0)n!==null&&Va(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Va(n),t===1)e.tag===0?th(_c.bind(null,e)):ed(_c.bind(null,e)),qp(function(){!(Te&6)&&Xn()}),n=null;else{switch(Mu(r)){case 1:n=Yi;break;case 4:n=Su;break;case 16:n=Dl;break;case 536870912:n=Eu;break;default:n=Dl}n=Zd(n,Vd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vd(e,t){if(kl=-1,Nl=0,Te&6)throw Error(Q(327));var n=e.callbackNode;if(Ir()&&e.callbackNode!==n)return null;var r=Ll(e,e===it?ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yl(e,r);else{t=r;var l=Te;Te|=2;var s=Qd();(it!==e||ut!==t)&&(dn=null,Or=Ke()+500,rr(e,t));do try{jh();break}catch(a){Xd(e,a)}while(!0);aa(),Xl.current=s,Te=l,nt!==null?t=0:(it=null,ut=0,t=lt)}if(t!==0){if(t===2&&(l=ii(e),l!==0&&(r=l,t=Ai(e,l))),t===1)throw n=Ao,rr(e,0),Ln(e,r),Et(e,Ke()),n;if(t===6)Ln(e,r);else{if(l=e.current.alternate,!(r&30)&&!wh(l)&&(t=Yl(e,r),t===2&&(s=ii(e),s!==0&&(r=s,t=Ai(e,s))),t===1))throw n=Ao,rr(e,0),Ln(e,r),Et(e,Ke()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:Jn(e,Ct,dn);break;case 3:if(Ln(e,r),(r&130023424)===r&&(t=Ca+500-Ke(),10<t)){if(Ll(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){wt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=mi(Jn.bind(null,e,Ct,dn),t);break}Jn(e,Ct,dn);break;case 4:if(Ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Jt(r);s=1<<i,i=t[i],i>l&&(l=i),r&=~s}if(r=l,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vh(r/1960))-r,10<r){e.timeoutHandle=mi(Jn.bind(null,e,Ct,dn),r);break}Jn(e,Ct,dn);break;case 5:Jn(e,Ct,dn);break;default:throw Error(Q(329))}}}return Et(e,Ke()),e.callbackNode===n?Vd.bind(null,e):null}function Ai(e,t){var n=xo;return e.current.memoizedState.isDehydrated&&(rr(e,t).flags|=256),e=Yl(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&zi(t)),e}function zi(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function wh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!tn(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ln(e,t){for(t&=~ja,t&=~as,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jt(t),r=1<<n;e[n]=-1,t&=~r}}function _c(e){if(Te&6)throw Error(Q(327));Ir();var t=Ll(e,0);if(!(t&1))return Et(e,Ke()),null;var n=Yl(e,t);if(e.tag!==0&&n===2){var r=ii(e);r!==0&&(t=r,n=Ai(e,r))}if(n===1)throw n=Ao,rr(e,0),Ln(e,t),Et(e,Ke()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,Ct,dn),Et(e,Ke()),null}function ka(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(Or=Ke()+500,os&&Xn())}}function cr(e){Pn!==null&&Pn.tag===0&&!(Te&6)&&Ir();var t=Te;Te|=1;var n=Vt.transition,r=Ae;try{if(Vt.transition=null,Ae=1,e)return e()}finally{Ae=r,Vt.transition=n,Te=t,!(Te&6)&&Xn()}}function Na(){Dt=Er.current,Oe(Er)}function rr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kp(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(la(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zl();break;case 3:Fr(),Oe(Nt),Oe(mt),ha();break;case 5:pa(r);break;case 4:Fr();break;case 13:Oe(Xe);break;case 19:Oe(Xe);break;case 10:ca(r.type._context);break;case 22:case 23:Na()}n=n.return}if(it=e,nt=e=On(e.current,null),ut=Dt=t,lt=0,Ao=null,ja=as=ar=0,Ct=xo=null,tr!==null){for(t=0;t<tr.length;t++)if(n=tr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,r.next=i}n.pending=r}tr=null}return e}function Xd(e,t){do{var n=nt;try{if(aa(),bl.current=Vl,Ul){for(var r=Qe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ul=!1}if(ir=0,st=ot=Qe=null,mo=!1,Ro=0,ba.current=null,n===null||n.return===null){lt=1,Ao=t,nt=null;break}e:{var s=e,i=n.return,a=n,c=t;if(t=ut,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c,g=a,x=g.tag;if(!(g.mode&1)&&(x===0||x===11||x===15)){var u=g.alternate;u?(g.updateQueue=u.updateQueue,g.memoizedState=u.memoizedState,g.lanes=u.lanes):(g.updateQueue=null,g.memoizedState=null)}var E=kc(i);if(E!==null){E.flags&=-257,Nc(E,i,a,s,t),E.mode&1&&Cc(s,p,t),t=E,c=p;var N=t.updateQueue;if(N===null){var C=new Set;C.add(c),t.updateQueue=C}else N.add(c);break e}else{if(!(t&1)){Cc(s,p,t),Sa();break e}c=Error(Q(426))}}else if(Ue&&a.mode&1){var k=kc(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Nc(k,i,a,s,t),sa(Br(c,a));break e}}s=c=Br(c,a),lt!==4&&(lt=2),xo===null?xo=[s]:xo.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var f=Md(s,c,t);xc(s,f);break e;case 1:a=c;var d=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Fn===null||!Fn.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=Dd(s,a,t);xc(s,v);break e}}s=s.return}while(s!==null)}Yd(n)}catch(S){t=S,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function Qd(){var e=Xl.current;return Xl.current=Vl,e===null?Vl:e}function Sa(){(lt===0||lt===3||lt===2)&&(lt=4),it===null||!(ar&268435455)&&!(as&268435455)||Ln(it,ut)}function Yl(e,t){var n=Te;Te|=2;var r=Qd();(it!==e||ut!==t)&&(dn=null,rr(e,t));do try{bh();break}catch(l){Xd(e,l)}while(!0);if(aa(),Te=n,Xl.current=r,nt!==null)throw Error(Q(261));return it=null,ut=0,lt}function bh(){for(;nt!==null;)Gd(nt)}function jh(){for(;nt!==null&&!Qf();)Gd(nt)}function Gd(e){var t=qd(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?Yd(e):nt=t,ba.current=null}function Yd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mh(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,nt=null;return}}else if(n=hh(n,t,Dt),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);lt===0&&(lt=5)}function Jn(e,t,n){var r=Ae,l=Vt.transition;try{Vt.transition=null,Ae=1,Ch(e,t,n,r)}finally{Vt.transition=l,Ae=r}return null}function Ch(e,t,n,r){do Ir();while(Pn!==null);if(Te&6)throw Error(Q(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(rp(e,s),e===it&&(nt=it=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cl||(cl=!0,Zd(Dl,function(){return Ir(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vt.transition,Vt.transition=null;var i=Ae;Ae=1;var a=Te;Te|=4,ba.current=null,xh(e,n),Hd(n,e),Hp(pi),Rl=!!fi,pi=fi=null,e.current=n,yh(n),Gf(),Te=a,Ae=i,Vt.transition=s}else e.current=n;if(cl&&(cl=!1,Pn=e,Gl=l),s=e.pendingLanes,s===0&&(Fn=null),qf(n.stateNode),Et(e,Ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ql)throw Ql=!1,e=Pi,Pi=null,e;return Gl&1&&e.tag!==0&&Ir(),s=e.pendingLanes,s&1?e===Ii?yo++:(yo=0,Ii=e):yo=0,Xn(),null}function Ir(){if(Pn!==null){var e=Mu(Gl),t=Vt.transition,n=Ae;try{if(Vt.transition=null,Ae=16>e?16:e,Pn===null)var r=!1;else{if(e=Pn,Pn=null,Gl=0,Te&6)throw Error(Q(331));var l=Te;for(Te|=4,ne=e.current;ne!==null;){var s=ne,i=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var p=a[c];for(ne=p;ne!==null;){var g=ne;switch(g.tag){case 0:case 11:case 15:go(8,g,s)}var x=g.child;if(x!==null)x.return=g,ne=x;else for(;ne!==null;){g=ne;var u=g.sibling,E=g.return;if(Bd(g),g===p){ne=null;break}if(u!==null){u.return=E,ne=u;break}ne=E}}}var N=s.alternate;if(N!==null){var C=N.child;if(C!==null){N.child=null;do{var k=C.sibling;C.sibling=null,C=k}while(C!==null)}}ne=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ne=i;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:go(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,ne=f;break e}ne=s.return}}var d=e.current;for(ne=d;ne!==null;){i=ne;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,ne=h;else e:for(i=d;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:is(9,a)}}catch(S){Ye(a,a.return,S)}if(a===i){ne=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,ne=v;break e}ne=a.return}}if(Te=l,Xn(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Jl,e)}catch{}r=!0}return r}finally{Ae=n,Vt.transition=t}}return!1}function $c(e,t,n){t=Br(n,t),t=Md(e,t,1),e=$n(e,t,1),t=wt(),e!==null&&(_o(e,1,t),Et(e,t))}function Ye(e,t,n){if(e.tag===3)$c(e,e,n);else for(;t!==null;){if(t.tag===3){$c(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){e=Br(n,e),e=Dd(t,e,1),t=$n(t,e,1),e=wt(),t!==null&&(_o(t,1,e),Et(t,e));break}}t=t.return}}function kh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,it===e&&(ut&n)===n&&(lt===4||lt===3&&(ut&130023424)===ut&&500>Ke()-Ca?rr(e,0):ja|=n),Et(e,t)}function Kd(e,t){t===0&&(e.mode&1?(t=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):t=1);var n=wt();e=vn(e,t),e!==null&&(_o(e,t,n),Et(e,n))}function Nh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kd(e,n)}function Sh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),Kd(e,n)}var qd;qd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kt=!1,ph(e,t,n);kt=!!(e.flags&131072)}else kt=!1,Ue&&t.flags&1048576&&td(t,Fl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Cl(e,t),e=t.pendingProps;var l=zr(t,mt.current);Pr(t,n),l=ga(null,t,r,e,l,n);var s=xa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(r)?(s=!0,_l(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,da(t),l.updater=ss,t.stateNode=l,l._reactInternals=t,ji(t,r,e,n),t=Ni(null,t,r,!0,s,n)):(t.tag=0,Ue&&s&&oa(t),vt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Cl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Th(r),e=Kt(r,e),l){case 0:t=ki(null,t,r,e,n);break e;case 1:t=Tc(null,t,r,e,n);break e;case 11:t=Sc(null,t,r,e,n);break e;case 14:t=Ec(null,t,r,Kt(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Kt(r,l),ki(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Kt(r,l),Tc(e,t,r,l,n);case 3:e:{if(Id(t),e===null)throw Error(Q(387));r=t.pendingProps,s=t.memoizedState,l=s.element,id(e,t),Wl(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Br(Error(Q(423)),t),t=Mc(e,t,r,n,l);break e}else if(r!==l){l=Br(Error(Q(424)),t),t=Mc(e,t,r,n,l);break e}else for(Lt=_n(t.stateNode.containerInfo.firstChild),Rt=t,Ue=!0,Zt=null,n=ld(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_r(),r===l){t=wn(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 5:return ad(t),e===null&&vi(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,hi(r,l)?i=null:s!==null&&hi(r,s)&&(t.flags|=32),Pd(e,t),vt(e,t,i,n),t.child;case 6:return e===null&&vi(t),null;case 13:return Ad(e,t,n);case 4:return fa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$r(t,null,r,n):vt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Kt(r,l),Sc(e,t,r,l,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,$e(Bl,r._currentValue),r._currentValue=i,s!==null)if(tn(s.value,i)){if(s.children===l.children&&!Nt.current){t=wn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=gn(-1,n&-n),c.tag=2;var p=s.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?c.next=c:(c.next=g.next,g.next=c),p.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),wi(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(Q(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),wi(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}vt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Pr(t,n),l=Xt(l),r=r(l),t.flags|=1,vt(e,t,r,n),t.child;case 14:return r=t.type,l=Kt(r,t.pendingProps),l=Kt(r.type,l),Ec(e,t,r,l,n);case 15:return Ld(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Kt(r,l),Cl(e,t),t.tag=1,St(r)?(e=!0,_l(t)):e=!1,Pr(t,n),Td(t,r,l),ji(t,r,l,n),Ni(null,t,r,!0,e,n);case 19:return zd(e,t,n);case 22:return Rd(e,t,n)}throw Error(Q(156,t.tag))};function Zd(e,t){return Nu(e,t)}function Eh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new Eh(e,t,n,r)}function Ea(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Th(e){if(typeof e=="function")return Ea(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xi)return 11;if(e===Qi)return 14}return 2}function On(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sl(e,t,n,r,l,s){var i=2;if(r=e,typeof e=="function")Ea(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xr:return or(n.children,l,s,t);case Vi:i=8,l|=8;break;case Xs:return e=Ut(12,n,t,l|2),e.elementType=Xs,e.lanes=s,e;case Qs:return e=Ut(13,n,t,l),e.elementType=Qs,e.lanes=s,e;case Gs:return e=Ut(19,n,t,l),e.elementType=Gs,e.lanes=s,e;case au:return cs(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case su:i=10;break e;case iu:i=9;break e;case Xi:i=11;break e;case Qi:i=14;break e;case Tn:i=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=Ut(i,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function or(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function cs(e,t,n,r){return e=Ut(22,e,r,t),e.elementType=au,e.lanes=n,e.stateNode={isHidden:!1},e}function Os(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function Ws(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=js(0),this.expirationTimes=js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ta(e,t,n,r,l,s,i,a,c){return e=new Mh(e,t,n,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ut(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},da(s),e}function Dh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Jd(e){if(!e)return Hn;e=e._reactInternals;e:{if(dr(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(St(n))return Ju(e,n,t)}return t}function ef(e,t,n,r,l,s,i,a,c){return e=Ta(n,r,!0,e,l,s,i,a,c),e.context=Jd(null),n=e.current,r=wt(),l=Bn(n),s=gn(r,l),s.callback=t??null,$n(n,s,l),e.current.lanes=l,_o(e,l,r),Et(e,r),e}function us(e,t,n,r){var l=t.current,s=wt(),i=Bn(l);return n=Jd(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$n(l,t,i),e!==null&&(en(e,l,i,s),wl(e,l,i)),i}function Kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ma(e,t){Fc(e,t),(e=e.alternate)&&Fc(e,t)}function Lh(){return null}var tf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Da(e){this._internalRoot=e}ds.prototype.render=Da.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));us(e,t,null,null)};ds.prototype.unmount=Da.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cr(function(){us(null,e,null,null)}),t[yn]=null}};function ds(e){this._internalRoot=e}ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ru();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&Iu(e)}};function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bc(){}function Rh(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var p=Kl(i);s.call(p)}}var i=ef(t,r,e,0,null,!1,!1,"",Bc);return e._reactRootContainer=i,e[yn]=i.current,Eo(e.nodeType===8?e.parentNode:e),cr(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var p=Kl(c);a.call(p)}}var c=Ta(e,0,!1,null,null,!1,!1,"",Bc);return e._reactRootContainer=c,e[yn]=c.current,Eo(e.nodeType===8?e.parentNode:e),cr(function(){us(t,c,n,r)}),c}function ps(e,t,n,r,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var a=l;l=function(){var c=Kl(i);a.call(c)}}us(t,i,e,l)}else i=Rh(n,t,e,l,r);return Kl(i)}Du=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=so(t.pendingLanes);n!==0&&(Ki(t,n|1),Et(t,Ke()),!(Te&6)&&(Or=Ke()+500,Xn()))}break;case 13:cr(function(){var r=vn(e,1);if(r!==null){var l=wt();en(r,e,1,l)}}),Ma(e,1)}};qi=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=wt();en(t,e,134217728,n)}Ma(e,134217728)}};Lu=function(e){if(e.tag===13){var t=Bn(e),n=vn(e,t);if(n!==null){var r=wt();en(n,e,t,r)}Ma(e,t)}};Ru=function(){return Ae};Pu=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};oi=function(e,t,n){switch(t){case"input":if(qs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=rs(r);if(!l)throw Error(Q(90));uu(r),qs(r,l)}}}break;case"textarea":fu(e,n);break;case"select":t=n.value,t!=null&&Mr(e,!!n.multiple,t,!1)}};vu=ka;wu=cr;var Ph={usingClientEntryPoint:!1,Events:[Fo,br,rs,xu,yu,ka]},eo={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ih={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cu(e),e===null?null:e.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||Lh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Jl=ul.inject(Ih),an=ul}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ph;It.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!La(t))throw Error(Q(200));return Dh(e,t,null,n)};It.createRoot=function(e,t){if(!La(e))throw Error(Q(299));var n=!1,r="",l=tf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ta(e,1,!1,null,null,n,!1,r,l),e[yn]=t.current,Eo(e.nodeType===8?e.parentNode:e),new Da(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=Cu(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return cr(e)};It.hydrate=function(e,t,n){if(!fs(t))throw Error(Q(200));return ps(null,e,t,!0,n)};It.hydrateRoot=function(e,t,n){if(!La(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",i=tf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ef(t,null,e,1,n??null,l,!1,s,i),e[yn]=t.current,Eo(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ds(t)};It.render=function(e,t,n){if(!fs(t))throw Error(Q(200));return ps(null,e,t,!1,n)};It.unmountComponentAtNode=function(e){if(!fs(e))throw Error(Q(40));return e._reactRootContainer?(cr(function(){ps(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};It.unstable_batchedUpdates=ka;It.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fs(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return ps(e,t,n,!1,r)};It.version="18.3.1-next-f1338f8080-20240426";function nf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nf)}catch(e){console.error(e)}}nf(),nu.exports=It;var mn=nu.exports,rf,Oc=mn;rf=Oc.createRoot,Oc.hydrateRoot;function Ie(e=8){const t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let n="";for(let r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}const of=I.createContext(null),ye=960,ve=540,_i=(e="",t=ye*.083,n=ve*.148,r=ye*.33,l=ve*.148,s=28,i="transparent")=>({id:Ie(),type:"text",x:t,y:n,w:r,h:l,rotation:0,text:e,placeholder:"Double-click to edit",placeholderBold:!1,bgColor:i,styles:{fontFamily:"Inter, system-ui, sans-serif",fontSize:s,color:"#111827",bold:!1,italic:!1,underline:!1,align:"left",listStyle:"none",valign:"top"}});let Ah=1;const ao=()=>{const e=Ah++,t=_i("",ye*.1,ve*.18,ye*.8,ve*.18,44);t.styles={...t.styles,align:"center"},t.placeholder="Click here to add title",t.placeholderBold=!0;const n=_i("",ye*.18,ve*.38,ye*.64,ve*.16,24);return n.styles={...n.styles,align:"center"},n.placeholder="Click here to add sub title",n.placeholderBold=!1,{id:Ie(),name:`Slide ${e}`,background:"#ffffff",elements:[t,n]}},zh={slides:[ao()],currentSlideId:null,selectedElementId:null,clipboard:null,history:[],historyIndex:-1};function _h(e){const t={...e,currentSlideId:e.slides[0].id};return{...t,history:[{slides:t.slides,currentSlideId:t.currentSlideId}],historyIndex:0}}function Ot(e,t,n){const r=e.history.slice(0,e.historyIndex+1);return r.push({slides:t,currentSlideId:n||e.currentSlideId}),{history:r,historyIndex:r.length-1}}function $h(e,t){var n,r,l,s;switch(t.type){case"UNDO":{if(e.historyIndex>0){const i=e.historyIndex-1,a=e.history[i];return{...e,slides:a.slides,currentSlideId:a.currentSlideId,historyIndex:i,selectedElementId:null}}return e}case"REDO":{if(e.historyIndex<e.history.length-1){const i=e.historyIndex+1,a=e.history[i];return{...e,slides:a.slides,currentSlideId:a.currentSlideId,historyIndex:i,selectedElementId:null}}return e}case"ADD_SLIDE":{const i=ao(),a=e.slides.findIndex(g=>g.id===e.currentSlideId),c=a>=0?a+1:e.slides.length,p=[...e.slides.slice(0,c),i,...e.slides.slice(c)];return{...e,slides:p,currentSlideId:i.id,selectedElementId:null,...Ot(e,p,i.id)}}case"ADD_SLIDE_WITH_TEMPLATE":{const i=[...e.slides,t.slide];return{...e,slides:i,currentSlideId:t.slide.id,selectedElementId:null,...Ot(e,i,t.slide.id)}}case"DELETE_SLIDE":{if(e.slides.length<=1)return e;const i=e.slides.filter(c=>c.id!==t.id),a=i[Math.max(0,i.length-1)].id;return{...e,slides:i,currentSlideId:a,selectedElementId:null,...Ot(e,i,a)}}case"DUPLICATE_SLIDE":{const i=e.slides.findIndex(g=>g.id===t.id);if(i===-1)return e;const a=e.slides[i],c={...a,id:Ie(),elements:a.elements.map(g=>({...g,id:Ie()}))},p=[...e.slides.slice(0,i+1),c,...e.slides.slice(i+1)];return{...e,slides:p,currentSlideId:c.id,selectedElementId:null,...Ot(e,p,c.id)}}case"SET_CURRENT_SLIDE":return{...e,currentSlideId:t.id,selectedElementId:null};case"UPDATE_SLIDE_BACKGROUND":{const i=e.slides.map(a=>a.id===t.slideId?{...a,background:t.background}:a);return{...e,slides:i,...Ot(e,i)}}case"MOVE_SLIDE_UP":{const i=e.slides.findIndex(p=>p.id===t.slideId);if(i<=0)return e;const a=[...e.slides],c=a[i];return a[i]=a[i-1],a[i-1]=c,{...e,slides:a,...Ot(e,a)}}case"MOVE_SLIDE_DOWN":{const i=e.slides.findIndex(p=>p.id===t.slideId);if(i>=e.slides.length-1)return e;const a=[...e.slides],c=a[i];return a[i]=a[i+1],a[i+1]=c,{...e,slides:a,...Ot(e,a)}}case"REORDER_SLIDES":{const{fromIndex:i,toIndex:a}=t;if(i===a||i<0||a<0||i>=e.slides.length||a>=e.slides.length)return e;const c=[...e.slides],[p]=c.splice(i,1);return c.splice(a,0,p),{...e,slides:c,...Ot(e,c)}}case"ADD_ELEMENT":return to(e,i=>({...i,elements:[...i.elements,t.element]}));case"UPDATE_ELEMENT":return to(e,i=>({...i,elements:i.elements.map(a=>{if(a.id===t.id){const c=a,p={...a,...t.patch},g=Math.max(0,Math.min(ye-(p.w??c.w),p.x??c.x)),x=Math.max(0,Math.min(ve-(p.h??c.h),p.y??c.y)),u=Math.max(1,Math.min(p.w??c.w,ye-g)),E=Math.max(1,Math.min(p.h??c.h,ve-x));return{...p,x:g,y:x,w:u,h:E}}return a})}));case"DELETE_ELEMENT":return to(e,i=>({...i,elements:i.elements.filter(a=>a.id!==t.id)}));case"SELECT_ELEMENT":return{...e,selectedElementId:t.id};case"SET_BACKGROUND":return to(e,i=>({...i,background:t.color}));case"APPLY_TEMPLATE":return to(e,i=>({...i,elements:t.elements,background:t.background||i.background}));case"LOAD_PRESENTATION":return{...e,slides:t.data.slides||[ao()],currentSlideId:t.data.currentSlideId||((r=(n=t.data.slides)==null?void 0:n[0])==null?void 0:r.id)||null,selectedElementId:null,clipboard:null,history:[{slides:t.data.slides||[ao()],currentSlideId:t.data.currentSlideId||((s=(l=t.data.slides)==null?void 0:l[0])==null?void 0:s.id)||null}],historyIndex:0};case"APPLY_WATERMARK":{const{settings:i={},scope:a="current",replace:c=!0}=t,p=a==="all"?e.slides.map(x=>x.id):[e.currentSlideId],g=e.slides.map(x=>{if(!p.includes(x.id))return x;const u=c?x.elements.filter(N=>!N.isWatermark):x.elements,E=Le.watermark(i);return{...x,elements:[...u,E]}});return{...e,slides:g,...Ot(e,g)}}case"REMOVE_WATERMARK":{const{scope:i="current"}=t,a=i==="all"?e.slides.map(p=>p.id):[e.currentSlideId],c=e.slides.map(p=>a.includes(p.id)?{...p,elements:p.elements.filter(g=>!g.isWatermark)}:p);return{...e,slides:c,...Ot(e,c)}}case"NEW_PRESENTATION":{const i=ao(),a=[i];return{slides:a,currentSlideId:i.id,selectedElementId:null,clipboard:null,...Ot(e,a,i.id)}}default:return e}}function to(e,t){const n=e.slides.findIndex(i=>i.id===e.currentSlideId);if(n===-1)return e;const r=e.slides[n],l=t(r),s=[...e.slides];return s[n]=l,{...e,slides:s,...Ot(e,s)}}function Fh({children:e}){const[t,n]=I.useReducer($h,zh,_h),r=I.useMemo(()=>({state:t,dispatch:n}),[t]);return o.jsx(of.Provider,{value:r,children:e})}function zt(){const e=I.useContext(of);if(!e)throw new Error("useSlides must be used within SlidesProvider");return e}const Le={text:_i,watermark:({text:e="CONFIDENTIAL",fontSize:t=64,color:n="#111827",opacity:r=.15,rotation:l=-30}={})=>{const s=Math.round(ye*.8),i=Math.round(ve*.22),a=Math.round((ye-s)/2),c=Math.round((ve-i)/2),p=(x,u)=>{try{const E=x.replace("#",""),N=parseInt(E.length===3?E.split("").map(d=>d+d).join(""):E,16),C=N>>16&255,k=N>>8&255,f=N&255;return`rgba(${C}, ${k}, ${f}, ${u})`}catch{return x}},g=n.startsWith("#")?p(n,r):n;return{id:Ie(),type:"text",x:a,y:c,w:s,h:i,rotation:l,isWatermark:!0,text:e,bgColor:"transparent",styles:{fontFamily:"Inter, system-ui, sans-serif",fontSize:t,color:g,bold:!0,italic:!1,underline:!1,align:"center",listStyle:"none",valign:"middle"}}},rect:()=>({id:Ie(),type:"rect",x:ye*.1,y:ve*.18,w:ye*.21,h:ve*.22,rotation:0,fill:"#fde68a",stroke:"#f59e0b",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),square:()=>({id:Ie(),type:"square",x:ye*.1,y:ve*.18,w:ye*.16,h:ve*.28,rotation:0,fill:"#fde68a",stroke:"#f59e0b",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),circle:()=>({id:Ie(),type:"circle",x:ye*.15,y:ve*.26,w:ye*.17,h:ve*.3,rotation:0,fill:"#bfdbfe",stroke:"#3b82f6",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),triangle:()=>({id:Ie(),type:"triangle",x:ye*.1,y:ve*.18,w:ye*.16,h:ve*.28,rotation:0,fill:"#fecaca",stroke:"#ef4444",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),diamond:()=>({id:Ie(),type:"diamond",x:ye*.1,y:ve*.18,w:ye*.16,h:ve*.28,rotation:0,fill:"#d8b4fe",stroke:"#8b5cf6",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),star:()=>({id:Ie(),type:"star",x:ye*.1,y:ve*.18,w:ye*.16,h:ve*.28,rotation:0,fill:"#fef3c7",stroke:"#f59e0b",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),roundRect:()=>({id:Ie(),type:"roundRect",x:ye*.1,y:ve*.18,w:ye*.21,h:ve*.22,rotation:0,fill:"#e5e7eb",stroke:"#6b7280",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),parallelogram:()=>({id:Ie(),type:"parallelogram",x:ye*.12,y:ve*.2,w:ye*.22,h:ve*.2,rotation:0,fill:"#d1fae5",stroke:"#10b981",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),trapezoid:()=>({id:Ie(),type:"trapezoid",x:ye*.14,y:ve*.22,w:ye*.24,h:ve*.2,rotation:0,fill:"#bae6fd",stroke:"#3b82f6",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),pentagon:()=>({id:Ie(),type:"pentagon",x:ye*.1,y:ve*.18,w:ye*.18,h:ve*.24,rotation:0,fill:"#fde68a",stroke:"#f59e0b",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),hexagon:()=>({id:Ie(),type:"hexagon",x:ye*.1,y:ve*.18,w:ye*.2,h:ve*.22,rotation:0,fill:"#fbcfe8",stroke:"#ec4899",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),octagon:()=>({id:Ie(),type:"octagon",x:ye*.12,y:ve*.2,w:ye*.2,h:ve*.2,rotation:0,fill:"#fecaca",stroke:"#ef4444",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),chevron:()=>({id:Ie(),type:"chevron",x:ye*.12,y:ve*.2,w:ye*.24,h:ve*.18,rotation:0,fill:"#ddd6fe",stroke:"#8b5cf6",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),arrowRight:()=>({id:Ie(),type:"arrowRight",x:ye*.12,y:ve*.2,w:ye*.26,h:ve*.16,rotation:0,fill:"#bbf7d0",stroke:"#22c55e",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),cloud:()=>({id:Ie(),type:"cloud",x:ye*.12,y:ve*.2,w:ye*.24,h:ve*.16,rotation:0,fill:"#e0f2fe",stroke:"#38bdf8",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:16}),message:()=>({id:Ie(),type:"message",x:ye*.19,y:ve*.33,w:ye*.21,h:ve*.15,rotation:0,fill:"#d1fae5",stroke:"#10b981",text:"",placeholder:"Double-click to edit",textColor:"#111827",fontSize:14}),image:(e,t=ye*.33,n=ve*.44)=>({id:Ie(),type:"image",x:ye*.125,y:ve*.22,w:t,h:n,rotation:0,src:e}),table:(e,t,n,r,l,s,i=!0)=>({id:Ie(),type:"table",x:n,y:r,w:l,h:s,rotation:0,rows:e,cols:t,headerRow:i,headerBg:"#f3f4f6",headerTextColor:"#111827",cellBg:"#ffffff",borderColor:"#000000",cells:Array.from({length:e*t},()=>({id:Ie(),text:"",styles:{fontFamily:"Inter, system-ui, sans-serif",fontSize:14,color:"#111827",bold:!1,italic:!1,underline:!1,align:"center",valign:"middle"}}))}),chart:(e,t,n,r,l)=>({id:Ie(),type:"chart",chartType:e,x:t,y:n,w:r,h:l,rotation:0,data:e==="pie"?[30,25,20,15,10]:[65,59,80,81,56,55,40],labels:e==="pie"?["Category A","Category B","Category C","Category D","Category E"]:["Jan","Feb","Mar","Apr","May","Jun","Jul"],colors:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4"]})},lf=I.createContext(),Oo=()=>{const e=I.useContext(lf);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Bh=({children:e})=>{const[t,n]=I.useState("light");I.useEffect(()=>{const s=localStorage.getItem("ppt-slider-theme");s&&(s==="light"||s==="dark")&&n(s)},[]),I.useEffect(()=>{localStorage.setItem("ppt-slider-theme",t),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const r=()=>{n(s=>s==="light"?"dark":"light")},l=()=>t==="dark"?{mainBg:"bg-black",cardBg:"bg-neutral-900",slideBg:"bg-black",toolbarBg:"linear-gradient(135deg, #000000 0%, #1f1f1f 50%, #2b2b2b 100%)",sidebarBg:"linear-gradient(135deg, #000000 0%, #1f1f1f 50%, #2b2b2b 100%)",text:"text-white",textSecondary:"text-gray-200",textMuted:"text-gray-400",border:"border-white/10",accent:"bg-white",accentHover:"hover:bg-white/10",shadow:"shadow-xl",toolbarText:"text-white",toolbarTextSecondary:"text-gray-300",toolbarTextMuted:"text-gray-400",glassButton:"bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 transition-colors",glassButtonActive:"bg-white/20 text-white border border-white/30 backdrop-blur-md ring-1 ring-white/30",glassButtonDisabled:"bg-white/5 border border-white/10 opacity-50 cursor-not-allowed",elementGlass:"hover:bg-white/10 backdrop-blur-md border border-white/20",elementActiveGlass:"bg-white/15 backdrop-blur-md ring-1 ring-white/30",elementText:"#ffffff",elementBorder:"#3f3f46",elementBg:"#0b0b0b"}:{mainBg:"bg-gray-50",cardBg:"bg-white",slideBg:"bg-white",toolbarBg:"#E0E0E0",sidebarBg:"linear-gradient(135deg, #A7AAE1 0%, #FDAAAA 100%)",text:"text-gray-900",textSecondary:"text-gray-700",textMuted:"text-gray-600",border:"border-gray-200",accent:"bg-brand-500",accentHover:"hover:bg-brand-600",shadow:"shadow-soft",toolbarText:"text-gray-900",toolbarTextSecondary:"text-gray-700",toolbarTextMuted:"text-gray-600",glassButton:"bg-white border border-gray-300 hover:bg-gray-100 transition-colors",glassButtonActive:"bg-black text-white border border-black",glassButtonDisabled:"bg-gray-100 border border-gray-200 opacity-50 cursor-not-allowed",elementText:"#111827",elementBorder:"#e5e7eb",elementBg:"#ffffff"};return o.jsx(lf.Provider,{value:{theme:t,toggleTheme:r,getThemeColors:l,isDark:t==="dark"},children:e})};function Oh(){const{state:e,dispatch:t}=zt(),n=ae.useRef(null),[r,l]=ae.useState(null),[s,i]=ae.useState(!1),a=ae.useRef(null),c=ae.useRef({rafId:null,speed:0}),p=()=>{if(c.current.rafId)return;const f=()=>{const{speed:d}=c.current,h=a.current;h&&d&&(h.scrollTop+=d),c.current.rafId=s?requestAnimationFrame(f):null};c.current.rafId=requestAnimationFrame(f)},g=()=>{c.current.rafId&&cancelAnimationFrame(c.current.rafId),c.current.rafId=null,c.current.speed=0},x=f=>{if(f.preventDefault(),!a.current||!s)return;const d=a.current.getBoundingClientRect(),h=f.clientY-d.top,v=Math.min(80,d.height/4),S=16;let j=0;h<v?j=-Math.round((v-h)/v*S):h>d.height-v&&(j=Math.round((h-(d.height-v))/v*S)),c.current.speed=j,j!==0?p():j===0&&c.current.rafId&&g()},u=(f,d)=>{n.current=d,i(!0);try{f.dataTransfer.setData("text/plain",String(d))}catch{}f.dataTransfer.effectAllowed="move"},E=(f,d)=>{f.preventDefault(),f.dataTransfer.dropEffect="move",r!==d&&l(d)},N=(f,d)=>{r===d&&l(null)},C=(f,d)=>{f.preventDefault();const h=(()=>{try{return f.dataTransfer.getData("text/plain")}catch{return""}})(),v=Number.isInteger(Number(h))?parseInt(h,10):n.current,S=d;typeof v=="number"&&typeof S=="number"&&v!==S&&t({type:"REORDER_SLIDES",fromIndex:v,toIndex:S}),n.current=null,l(null),i(!1),g()},k=()=>{n.current=null,l(null),i(!1),g()};return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("div",{className:"p-3",children:o.jsx("div",{className:"text-sm text-black font-medium",children:"Slides"})}),o.jsx("div",{ref:a,className:"flex-1 overflow-auto p-3 space-y-3",onDragOver:x,onDragLeave:()=>{c.current.speed=0},children:e.slides.map((f,d)=>{const h=e.currentSlideId===f.id,v=r===d&&n.current!==d,S=h?{background:"#ffffff",border:"2px solid #000000",boxShadow:"none"}:{background:"#ffffff",border:"1px solid #cccccc",boxShadow:"none"};return o.jsxs("div",{className:`w-full group ${h?"ring-2 ring-white/80 rounded-lg":""} ${v?"outline outline-2 outline-white/80 rounded-lg":""}`,onDragOver:j=>E(j,d),onDragLeave:j=>N(j,d),onDrop:j=>C(j,d),children:[o.jsx("button",{draggable:!0,onDragStart:j=>u(j,d),onDragEnd:k,onClick:()=>t({type:"SET_CURRENT_SLIDE",id:f.id}),className:"w-full text-left",children:o.jsx("div",{className:"rounded-lg overflow-hidden transition-transform duration-200 hover:-translate-y-0.5",style:S,children:o.jsx("div",{className:"aspect-video relative overflow-hidden",children:o.jsx(Wh,{slide:f,slideNumber:d+1,isActive:h})})})}),o.jsxs("div",{className:"mt-1 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition",children:[o.jsx("button",{className:"text-xs px-2 py-1 rounded text-black hover:bg-gray-200",onClick:j=>{j.stopPropagation(),t({type:"DUPLICATE_SLIDE",id:f.id})},children:"Duplicate"}),o.jsx("button",{className:"text-xs px-2 py-1 rounded text-black hover:bg-gray-200",onClick:j=>{j.stopPropagation(),t({type:"DELETE_SLIDE",id:f.id})},children:"Delete"})]})]},f.id)})})]})}function Wh({slide:e,slideNumber:t,isActive:n}){const r=ae.useRef(null),[l,s]=ae.useState(.25);ae.useEffect(()=>{const a=()=>{if(!r.current)return;const p=r.current.clientWidth||0,g=r.current.clientHeight||0;if(p&&g){const x=p/960,u=g/540;s(Math.min(x,u))}};a();const c=new ResizeObserver(a);return r.current&&c.observe(r.current),()=>c.disconnect()},[]);const i=a=>{var p,g,x,u,E,N,C,k,f,d;const c={position:"absolute",left:`${a.x*l}px`,top:`${a.y*l}px`,width:`${a.w*l}px`,height:`${a.h*l}px`,transform:`rotate(${a.rotation||0}deg)`,pointerEvents:"none",overflow:"hidden",boxSizing:"border-box"};switch(a.type){case"text":return o.jsx("div",{style:{...c,backgroundColor:a.bgColor||"transparent",color:((p=a.styles)==null?void 0:p.color)||"#111827",fontSize:`${(((g=a.styles)==null?void 0:g.fontSize)||28)*l}px`,fontWeight:(x=a.styles)!=null&&x.bold?700:400,fontStyle:(u=a.styles)!=null&&u.italic?"italic":"normal",textDecoration:(E=a.styles)!=null&&E.underline?"underline":"none",textAlign:((N=a.styles)==null?void 0:N.align)||"left",fontFamily:((C=a.styles)==null?void 0:C.fontFamily)||"Inter, system-ui, sans-serif",display:"flex",alignItems:((k=a.styles)==null?void 0:k.valign)==="middle"?"center":((f=a.styles)==null?void 0:f.valign)==="bottom"?"flex-end":"flex-start",padding:`${2*l}px`,borderRadius:"2px",overflow:"hidden",lineHeight:"1.2"},children:o.jsx("div",{className:"truncate text-[8px]",style:{fontSize:`${Math.max((((d=a.styles)==null?void 0:d.fontSize)||28)*l,6)}px`},children:a.text||a.html||"Text"})},a.id);case"image":return o.jsx("div",{style:{...c,backgroundImage:a.src?`url(${a.src})`:"none",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"2px"},children:!a.src&&o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",style:{fontSize:"8px"},children:""})},a.id);case"rect":case"square":return o.jsx("div",{style:{...c,backgroundColor:a.fill||"#fde68a",border:`${Math.max(1,2*l)}px solid ${a.stroke||"#f59e0b"}`,borderRadius:"2px",display:"flex",alignItems:"center",justifyContent:"center",color:a.textColor||"#111827",fontSize:`${Math.max((a.fontSize||16)*l,6)}px`,fontWeight:"500"},children:o.jsx("span",{className:"truncate",style:{fontSize:`${Math.max((a.fontSize||16)*l,6)}px`},children:a.text||""})},a.id);case"circle":return o.jsx("div",{style:{...c,backgroundColor:a.fill||"#ddd6fe",border:`${Math.max(1,2*l)}px solid ${a.stroke||"#8b5cf6"}`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:a.textColor||"#111827",fontSize:`${Math.max((a.fontSize||16)*l,6)}px`,fontWeight:"500"},children:o.jsx("span",{className:"truncate",style:{fontSize:`${Math.max((a.fontSize||16)*l,6)}px`},children:a.text||""})},a.id);case"triangle":return o.jsx("div",{style:{...c,backgroundColor:a.fill||"#fecaca",border:`${Math.max(1,2*l)}px solid ${a.stroke||"#ef4444"}`,clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:a.textColor||"#111827",fontSize:`${Math.max((a.fontSize||16)*l,6)}px`,fontWeight:"500"},children:o.jsx("span",{className:"truncate",style:{fontSize:`${Math.max((a.fontSize||16)*l,6)}px`},children:a.text||""})},a.id);case"diamond":return o.jsx("div",{style:{...c,backgroundColor:a.fill||"#d8b4fe",border:`${Math.max(1,2*l)}px solid ${a.stroke||"#8b5cf6"}`,clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",display:"flex",alignItems:"center",justifyContent:"center",color:a.textColor||"#111827",fontSize:`${Math.max((a.fontSize||16)*l,6)}px`,fontWeight:"500"},children:o.jsx("span",{className:"truncate",style:{fontSize:`${Math.max((a.fontSize||16)*l,6)}px`},children:a.text||""})},a.id);case"star":return o.jsx("div",{style:{...c,backgroundColor:a.fill||"#fef3c7",border:`${Math.max(1,2*l)}px solid ${a.stroke||"#f59e0b"}`,clipPath:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)",display:"flex",alignItems:"center",justifyContent:"center",color:a.textColor||"#111827",fontSize:`${Math.max((a.fontSize||16)*l,6)}px`,fontWeight:"500"},children:o.jsx("span",{className:"truncate",style:{fontSize:`${Math.max((a.fontSize||16)*l,6)}px`},children:a.text||""})},a.id);case"message":return o.jsxs("div",{style:c,children:[o.jsx("div",{style:{width:"100%",height:"85%",backgroundColor:a.fill||"#d1fae5",border:`${Math.max(1,2*l)}px solid ${a.stroke||"#10b981"}`,borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"center",color:a.textColor||"#111827",fontSize:`${Math.max((a.fontSize||16)*l,6)}px`,fontWeight:"500"},children:o.jsx("span",{className:"truncate",style:{fontSize:`${Math.max((a.fontSize||16)*l,6)}px`},children:a.text||"Message"})}),o.jsx("div",{style:{position:"absolute",bottom:0,left:`${10*l}px`,width:0,height:0,borderLeft:`${5*l}px solid transparent`,borderRight:`${5*l}px solid transparent`,borderTop:`${7*l}px solid ${a.stroke||"#10b981"}`}})]},a.id);case"chart":{const h=a.chartType||"bar",v=Array.isArray(a.data)?a.data:[],S=Array.isArray(a.labels)?a.labels:[],j=Array.isArray(a.colors)&&a.colors.length?a.colors:["#60a5fa","#f59e0b","#10b981","#ef4444","#8b5cf6"],R=4*l;if(h==="bar"){const M=S.map(fe=>{const ce=parseFloat(fe);return Number.isFinite(ce)?ce:null}),L=M.some(fe=>fe!==null),_=(L?M:v).map((fe,ce)=>fe===null||!Number.isFinite(fe)?Number.isFinite(v[ce])?v[ce]:0:fe),H=Math.min(..._,0),F=Math.max(..._,1),X=Math.max(1e-6,F-H),T=_.length,q=2*l,me=a.w*l-R*2,Y=a.h*l-R*2,V=T?Math.max(1,(me-(T-1)*q)/T):0,te=Math.max(1,Math.round(1*l)),se=Math.max(6,Math.round(8*l));return o.jsx("div",{style:{...c,backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"2px"},children:o.jsx("div",{style:{position:"absolute",left:R,right:R,bottom:R,top:R},children:o.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[_.map((fe,ce)=>{const ge=Math.max(2,(fe-H)/X*Y),Re=ce*(V+q);return o.jsx("div",{style:{position:"absolute",left:Re,bottom:0,width:V,height:ge,backgroundColor:j[ce%j.length]||"#9ca3af",borderRadius:`${1*l}px`}},ce)}),Array.from({length:5}).map((fe,ce)=>{const ge=ce/4,Re=H+(1-ge)*X,_e=ge*Y;return o.jsx("div",{style:{position:"absolute",left:0,top:_e-6,fontSize:Math.max(6,Math.round(8*l)),color:"#374151"},children:Math.round(Re)},`yt-${ce}`)}),S.map((fe,ce)=>{const ge=ce*(V+q)+V/2;return o.jsx("div",{style:{position:"absolute",left:ge,bottom:te+Math.max(1,Math.round(1*l)),transform:"translateX(-50%)",fontSize:se,color:"#6b7280",maxWidth:V,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:fe},`lbl-${ce}`)}),o.jsx("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:te,backgroundColor:"#d1d5db"}}),o.jsx("div",{style:{position:"absolute",left:0,bottom:0,width:te,height:"100%",backgroundColor:"#d1d5db"}})]})})},a.id)}if(h==="line"){const M=Math.max(...v),L=Math.min(...v),_=M-L||1;return v.map((H,F)=>{const X=F/Math.max(1,v.length-1)*100,T=90-(H-L)/_*80;return`${X},${T}`}).join(" "),o.jsx("div",{style:{...c,backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"2px"},children:o.jsxs("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",preserveAspectRatio:"none",style:{position:"absolute",left:R,right:R,top:R,bottom:R},children:[o.jsx("line",{x1:"5",y1:"90",x2:"95",y2:"90",stroke:"#d1d5db",strokeWidth:Math.max(1,Math.round(1*l))}),o.jsx("line",{x1:"5",y1:"10",x2:"5",y2:"90",stroke:"#d1d5db",strokeWidth:Math.max(1,Math.round(1*l))}),Array.from({length:5}).map((H,F)=>{const X=F/4,T=L+(1-X)*_,q=90-X*80;return o.jsx("text",{x:3,y:q,fontSize:Math.max(6,Math.round(8*l)),fill:"#6b7280",textAnchor:"end",children:Math.round(T)},`yt-${F}`)}),o.jsx("polyline",{points:v.map((H,F)=>{const X=5+F/Math.max(1,v.length-1)*90,T=90-(H-L)/_*80;return`${X},${T}`}).join(" "),fill:"none",stroke:j[0],strokeWidth:"2"}),v.map((H,F)=>{const X=5+F/Math.max(1,v.length-1)*90,T=90-(H-L)/_*80;return o.jsx("circle",{cx:X,cy:T,r:"2",fill:j[0]},F)}),S.map((H,F)=>{const X=Math.max(1,S.length-1),T=S.length>1?F/X*90+5:50;return o.jsx("text",{x:T,y:96,fontSize:Math.max(6,Math.round(8*l)),fill:"#6b7280",textAnchor:"middle",children:H},`lbl-${F}`)})]})},a.id)}if(h==="pie"){const M=v.reduce((_,H)=>_+H,0)||1;let L=0;return o.jsxs("div",{style:{...c,backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"2px",display:"flex",alignItems:"center",justifyContent:"center"},children:[o.jsx("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",style:{padding:`${R}px`},children:v.map((_,H)=>{const X=_/M*360,T=L,q=L+X;L=q;const me=50+40*Math.cos((T-90)*Math.PI/180),Y=50+40*Math.sin((T-90)*Math.PI/180),V=50+40*Math.cos((q-90)*Math.PI/180),te=50+40*Math.sin((q-90)*Math.PI/180),se=X>180?1:0;return o.jsx("path",{d:`M 50 50 L ${me} ${Y} A 40 40 0 ${se} 1 ${V} ${te} Z`,fill:j[H%j.length]},H)})}),o.jsx("div",{style:{position:"absolute",right:R,top:R,display:"flex",flexDirection:"column",gap:Math.max(1,Math.round(2*l)),maxWidth:"45%"},children:S.map((_,H)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:Math.max(2,Math.round(4*l))},children:[o.jsx("div",{style:{width:Math.max(6,Math.round(8*l)),height:Math.max(6,Math.round(8*l)),backgroundColor:j[H%j.length],borderRadius:2}}),o.jsx("div",{style:{fontSize:Math.max(6,Math.round(8*l)),color:"#374151",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:_})]},`lg-${H}`))})]},a.id)}return o.jsx("div",{style:{...c,backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"2px"}},a.id)}case"table":{const h=a.rows||0,v=a.cols||0,S=a.w*l/(v||1),j=a.h*l/(h||1);return o.jsx("div",{style:{...c,backgroundColor:"#ffffff",border:"1px solid #e5e7eb"},children:Array.from({length:h}).map((R,M)=>o.jsx("div",{style:{position:"absolute",left:0,top:M*j,width:"100%",height:j},children:Array.from({length:v}).map((L,_)=>{var X,T,q,me,Y,V,te;const H=M*v+_,F=(X=a.cells)==null?void 0:X[H];return o.jsx("div",{style:{position:"absolute",left:_*S,top:0,width:S,height:j,boxSizing:"border-box",borderRight:"1px solid #e5e7eb",borderBottom:"1px solid #e5e7eb",padding:`${2*l}px`,overflow:"hidden",fontSize:`${Math.max((((T=F==null?void 0:F.styles)==null?void 0:T.fontSize)||12)*l,6)}px`,color:"#111827",display:"flex",alignItems:((q=F==null?void 0:F.styles)==null?void 0:q.valign)==="bottom"?"flex-end":((me=F==null?void 0:F.styles)==null?void 0:me.valign)==="middle"?"center":"flex-start",justifyContent:((Y=F==null?void 0:F.styles)==null?void 0:Y.align)==="right"?"flex-end":((V=F==null?void 0:F.styles)==null?void 0:V.align)==="center"?"center":"flex-start"},children:o.jsx("span",{className:"truncate",style:{fontSize:`${Math.max((((te=F==null?void 0:F.styles)==null?void 0:te.fontSize)||12)*l,6)}px`},children:(F==null?void 0:F.text)||""})},_)})},M))},a.id)}default:return null}};return o.jsxs("div",{ref:r,className:"w-full h-full relative",style:e&&typeof e.background=="object"&&e.background.type==="image"&&e.background.src?{backgroundImage:`url(${e.background.src})`,backgroundSize:e.background.mode==="stretch"?"100% 100%":e.background.mode==="custom"&&typeof e.background.scale=="number"?`${e.background.scale}% auto`:e.background.mode||"cover",backgroundPosition:e.background.position||"center",backgroundRepeat:"no-repeat",transform:"scale(1)",transformOrigin:"top left"}:{background:typeof(e==null?void 0:e.background)=="string"?e.background:"#ffffff",transform:"scale(1)",transformOrigin:"top left"},children:[e.elements&&e.elements.length>0?e.elements.map(a=>i(a)):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-gray-400 text-xs mb-1",children:["Slide ",t]}),o.jsx("div",{className:"text-gray-300 text-[10px]",children:"Empty Slide"})]})}),o.jsx("div",{className:"absolute bottom-1 right-1 bg-black/50 text-white text-[8px] px-1 py-0.5 rounded",children:t})]})}function Hh({activeTab:e,onTabChange:t,fileName:n="Untitled Presentation"}){const{theme:r,toggleTheme:l,getThemeColors:s}=Oo(),i=s(),a=r==="dark",c=["File","Home","Insert","Design"],[p,g]=I.useState(!1),x=()=>{p||(g(!0),setTimeout(()=>{l(),g(!1)},600))},u={background:"transparent",boxShadow:"none",border:"none",borderBottom:"2px solid currentColor"},E={borderBottom:"2px solid transparent"};return o.jsx("div",{className:`w-full border-b pt-2 transition-all duration-500 ease-in-out ${i.border}`,style:{background:a?i.toolbarBg:"#F0F0F0"},children:o.jsxs("div",{className:"flex items-center px-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mr-6 animate-slideInLeft",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center border border-gray-300 bg-white",children:o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"black",children:o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})})}),o.jsx("span",{className:`${a?"text-white":"text-black"} font-bold text-lg tracking-wide animate-fadeIn`,children:"PPT-Slider"})]}),o.jsx("div",{className:"flex items-center gap-2 animate-slideInDown",style:{animationDelay:"0.2s"},children:c.map((N,C)=>o.jsx("button",{onClick:()=>t(N),className:`px-4 py-2 text-sm font-medium transition-colors duration-200 relative animate-slideInDown ${a?"rounded-md":""} ${e===N?`${i.toolbarText} ${a?"bg-white/10 backdrop-blur-md":""}`:`${i.toolbarTextSecondary} hover:${i.toolbarText} ${a?"hover:bg-white/10 backdrop-blur-md":""}`}`,style:{...e===N?u:E,animationDelay:`${.1*(C+1)}s`},children:N},N))}),o.jsx("div",{className:"flex-1 flex justify-center animate-fadeIn",style:{animationDelay:"0.5s"},children:o.jsx("span",{className:`${i.toolbarText} text-sm font-medium px-4 py-2 rounded border ${a?"border-white/20 bg-white/5 backdrop-blur":"border-gray-300 bg-white"}`,children:n})}),o.jsx("div",{children:o.jsx("button",{onClick:x,disabled:p,className:`p-3 rounded-full ${i.toolbarText} transition-transform duration-300 hover:scale-110 focus:scale-110 ${p?"opacity-80":""}`,title:`Switch to ${r==="light"?"dark":"light"} theme`,children:r==="light"?o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:`transition-transform duration-500 ${p?"animate-spin-slow":""}`,children:o.jsx("path",{d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}):o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:`transition-transform duration-500 ${p?"animate-spin-slow":""}`,children:o.jsx("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})})})})]})})}const Uh=I.forwardRef(({el:e,onChange:t,onBlur:n,scale:r=1},l)=>{var Ee,Me,je,ze,Ce,qe;const s=I.useRef(null),[i,a]=I.useState(!1),[c,p]=I.useState({top:0,left:0}),[g,x]=I.useState({bold:!1,italic:!1,underline:!1}),u=I.useRef({bold:!1,italic:!1,underline:!1}),E=I.useRef(null),N=I.useRef(null),C=I.useRef("none"),[k,f]=I.useState(""),[d,h]=I.useState("none"),v=I.useRef(null),S=I.useRef(!1);I.useEffect(()=>{if(s.current){e.html?s.current.innerHTML=e.html:e.text?s.current.textContent=e.text:s.current.innerHTML="",s.current.focus();try{M()}catch{}L(),u.current={bold:!1,italic:!1,underline:!1};try{document.execCommand("styleWithCSS",!1,!0)}catch{}}},[e.id]),I.useEffect(()=>{var w;if(s.current){const P=((w=e.styles)==null?void 0:w.align)||"left";s.current.style.textAlign=P,s.current.style.flexDirection="column";const B=P==="center"?"center":P==="right"?"flex-end":"flex-start";s.current.style.alignItems=B}},[(Ee=e.styles)==null?void 0:Ee.align]);function j(){s.current&&t({html:s.current.innerHTML,text:s.current.textContent})}function R(){if(!s.current)return;const P=window.getSelection();if(!P||P.rangeCount===0||!P.isCollapsed)return;const B=P.getRangeAt(0),z=B.startContainer,A=B.startOffset;if(z.nodeType===Node.ELEMENT_NODE&&A>0){const G=z.childNodes[A-1];if(G&&G.nodeName==="BR"){G.remove();return}}if(z.nodeType===Node.TEXT_NODE&&A>0){const G=z.nodeValue||"";if(G.charCodeAt(A-1)===10){const ee=G.slice(0,A-1),re=G.slice(A);z.nodeValue=ee+re;const pe=document.createRange();pe.setStart(z,Math.max(0,A-1)),pe.collapse(!0),P.removeAllRanges(),P.addRange(pe)}}}function M(){var G;const w=s.current;if(!w)return;const P=document.createRange();function B(ee){if(ee.nodeType===Node.TEXT_NODE)return ee;for(let re=ee.childNodes.length-1;re>=0;re--){const pe=B(ee.childNodes[re]);if(pe)return pe}return null}const z=B(w)||w,A=z.nodeType===Node.TEXT_NODE?(z.nodeValue||"").length:((G=z.childNodes)==null?void 0:G.length)||0;try{P.setStart(z,A),P.collapse(!0);const ee=window.getSelection();ee.removeAllRanges(),ee.addRange(P),w.focus()}catch{}}function L(){const w=s.current;w&&(v.current={html:w.innerHTML,text:w.textContent,selection:Uc(w)})}function _(){const w=s.current,P=v.current;!w||!P||(w.innerHTML=P.html,P.selection&&dl(w,P.selection.start,P.selection.end),j(),L(),q())}function H(){const w=s.current;if(!w)return!1;const P=.5,B=1,z=w.scrollWidth-w.clientWidth>P,A=w.scrollHeight-w.clientHeight>B;return z||A}function F(){const w=s.current;if(!w)return!1;const P=960,B=540,z=Number(r||1),A=Math.max(0,(P-(e.x||0))*z),G=Math.max(0,(B-(e.y||0))*z),ee=w.scrollWidth>A+.5,re=w.scrollHeight>G+1;return ee||re}const X=()=>{var A;const w=s.current;if(!w)return"";const P=window.getSelection();if(!P||P.rangeCount===0)return"";const B=P.getRangeAt(0);if(!w.contains(B.startContainer)||!w.contains(B.endContainer))return"";if(P.isCollapsed){const G=B.startContainer.nodeType===Node.TEXT_NODE?B.startContainer.parentElement:B.startContainer;if(!G||G===w)return w.style.fontFamily||((A=e.styles)==null?void 0:A.fontFamily)||"";const ee=window.getComputedStyle(G).fontFamily||"";return T(ee)}const z=Hs(w,B);if(z.size===0)return"";if(z.size===1){const G=z.values().next().value;return T(G)}return"mixed"},T=w=>{if(!w)return"";const P={inter:"Inter, system-ui, sans-serif",arial:"Arial, sans-serif","times new roman":"'Times New Roman', serif","courier new":"'Courier New', monospace",georgia:"Georgia, serif",verdana:"Verdana, sans-serif"},B=w.toLowerCase().replace(/["']/g,""),z=["Inter, system-ui, sans-serif","Arial, sans-serif","'Times New Roman', serif","'Courier New', monospace","Georgia, serif","Verdana, sans-serif"];for(const A of z)if(w.includes(A.split(",")[0].replace(/["']/g,"")))return A;for(const[A,G]of Object.entries(P))if(B.includes(A))return G;return w};function q(){const w=s.current;if(!w){x({bold:!1,italic:!1,underline:!1}),f("");return}const P=window.getSelection();if(!P||P.rangeCount===0){x({bold:!1,italic:!1,underline:!1}),f("");return}const B=P.getRangeAt(0),z=B.commonAncestorContainer;if(!w.contains(z)){x({bold:!1,italic:!1,underline:!1}),f("");return}const A={bold:!1,italic:!1,underline:!1};let G=!1;try{const pe=document.queryCommandState("bold");typeof pe=="boolean"&&(A.bold=pe,G=!0)}catch{}try{const pe=document.queryCommandState("italic");typeof pe=="boolean"&&(A.italic=pe,G=!0)}catch{}try{const pe=document.queryCommandState("underline");typeof pe=="boolean"&&(A.underline=pe,G=!0)}catch{}if(!G){const pe=B.startContainer.nodeType===Node.TEXT_NODE?B.startContainer.parentElement:B.startContainer;if(pe){const We=window.getComputedStyle(pe);A.bold=(parseInt(We.fontWeight,10)||400)>=600,A.italic=We.fontStyle==="italic",A.underline=(We.textDecorationLine||We.textDecoration||"").includes("underline")}}x(A);const ee=X();f(ee);const re=Pe();h(re)}function me(){var Qn,Gn;const w=window.getSelection(),P=s.current;if(!(w&&!w.isCollapsed&&P&&P.contains(w.anchorNode)))return!1;const z=w.getRangeAt(0).getBoundingClientRect(),A=P.closest("[data-slide-container]")||document.body,G=A.getBoundingClientRect();N.current=A;const ee=Math.max(0,z.top-G.top),re=Math.max(0,G.bottom-z.bottom),pe=Math.max(0,z.left-G.left),We=Math.max(0,G.right-z.right),Ze=(((Qn=E.current)==null?void 0:Qn.offsetWidth)??0)||260,we=(((Gn=E.current)==null?void 0:Gn.offsetHeight)??0)||44,Se=8,Je=[{key:"TR",availW:We,availH:ee,left:()=>z.right-Ze-Se,top:()=>z.top-we-Se},{key:"TL",availW:pe,availH:ee,left:()=>z.left+Se,top:()=>z.top-we-Se},{key:"BR",availW:We,availH:re,left:()=>z.right-Ze-Se,top:()=>z.bottom+Se},{key:"BL",availW:pe,availH:re,left:()=>z.left+Se,top:()=>z.bottom+Se}],_t=ee>=re?"T":"B",un=We>=pe?"R":"L",Vr=`${_t}${un}`,Fe=Je.map(et=>({...et,fits:et.availW>=Ze+Se&&et.availH>=we+Se,score:Math.min(et.availW,et.availH),area:et.availW*et.availH,preferred:et.key===Vr}));let $t=Fe.find(et=>et.preferred&&et.fits);if(!$t){const et=Fe.filter(rn=>rn.fits);et.length?(et.sort((rn,Nn)=>Nn.score-rn.score),$t=et[0]):(Fe.sort((rn,Nn)=>Nn.area-rn.area),$t=Fe[0])}let Ft=$t.left(),nn=$t.top();const jn=G.left+0,Cn=G.right-Ze,fr=G.top+0,kn=G.bottom-we;return Ft=Math.max(jn,Math.min(Cn,Ft)),nn=Math.max(fr,Math.min(kn,nn)),p({top:Math.round(nn-G.top),left:Math.round(Ft-G.left)}),!0}const Y=()=>{me()?(a(!0),q()):(a(!1),x({bold:!1,italic:!1,underline:!1}))};I.useEffect(()=>{document.addEventListener("selectionchange",Y);const w=()=>{i&&me()},P=B=>{const z=s.current;!z||!(B.target instanceof Element&&B.target.closest("[data-slide-container]"))||z===B.target||z.contains(B.target)||n&&n()};return window.addEventListener("resize",w),window.addEventListener("scroll",w,!0),document.addEventListener("mousedown",P),()=>{document.removeEventListener("selectionchange",Y),window.removeEventListener("resize",w),window.removeEventListener("scroll",w,!0),document.removeEventListener("mousedown",P)}},[i,n]),I.useEffect(()=>{try{document.execCommand("defaultParagraphSeparator",!1,"div")}catch{}},[]),I.useEffect(()=>{x({bold:!1,italic:!1,underline:!1})},[e.id]),I.useEffect(()=>{i&&requestAnimationFrame(()=>{me()})},[i]),I.useEffect(()=>{var w;C.current=((w=e.styles)==null?void 0:w.listStyle)||"none"},[(Me=e.styles)==null?void 0:Me.listStyle]),I.useImperativeHandle(l,()=>({applyFormat:(w,P=null)=>{const B=s.current;if(!B)return;L();const z=window.getSelection();let A=null;if(z&&z.rangeCount>0){const G=z.getRangeAt(0);B.contains(G.commonAncestorContainer)&&(A=G.cloneRange())}s.current.focus(),A&&z&&(z.removeAllRanges(),z.addRange(A)),document.execCommand(w,!1,P),R();try{const G=window.getSelection();if(G&&G.isCollapsed){const ee=document.queryCommandState(w);typeof ee=="boolean"&&(u.current[w]=ee)}}catch{}if(H()){_();return}j(),L(),q()},applyListStyle:w=>{const P=s.current;if(!P)return!1;const B=window.getSelection();if(!B||B.rangeCount===0)return!1;const z=B.getRangeAt(0);if(!P.contains(z.startContainer)||!P.contains(z.endContainer))return!1;L(),P.focus();try{const A=Ze=>{let we=B.anchorNode;for(we&&we.nodeType===Node.TEXT_NODE&&(we=we.parentElement);we&&we!==P;){if(we.tagName===Ze)return we;we=we.parentElement}return null},G=Ze=>{const we=A("UL"),Se=A("OL"),Je=we||Se;Je&&(Je.style.listStyleType=Ze,Je.style.listStylePosition="inside",Je.style.paddingInlineStart="1.25em",Je.style.margin="0")},ee={bullet:"disc","bullet-circle":"circle","bullet-square":"square"},re={number:"decimal",roman:"upper-roman",alpha:"upper-alpha"},pe=A("UL"),We=A("OL");return w==="none"?(We&&document.execCommand("insertOrderedList",!1,null),pe&&document.execCommand("insertUnorderedList",!1,null),unwrapListsToPlainText(P)):w in ee?(We&&document.execCommand("insertOrderedList",!1,null),A("UL")||document.execCommand("insertUnorderedList",!1,null),G(ee[w])):w in re&&((()=>{if(We){const we=re[w];return(We.style.listStyleType||"").toLowerCase()===we}return!1})()?document.execCommand("insertOrderedList",!1,null):(pe&&document.execCommand("insertUnorderedList",!1,null),A("OL")||document.execCommand("insertOrderedList",!1,null),G(re[w]))),j(),L(),q(),!0}catch{return _(),!1}},applyFontFamily:async w=>{const P=s.current;if(!P)return!1;const B=window.getSelection();if(!B||B.rangeCount===0)return!1;const z=B.getRangeAt(0);if(!P.contains(z.startContainer)||!P.contains(z.endContainer))return!1;L();const A=Uc(P),G=w||"";if(await Vh(G),P.focus(),B.isCollapsed)return B.removeAllRanges(),B.addRange(z),document.execCommand("fontName",!1,G||"inherit"),qh(P),Hc(P),Wc(P),A&&dl(P,A.start,A.end),H()?(_(),!1):(j(),L(),q(),!0);const ee=z.cloneRange();B.removeAllRanges(),B.addRange(ee);const re=Hs(P,ee);if(G&&re.size===1&&Kh([...re][0],G))return A&&dl(P,A.start,A.end),!0;const pe=ee.cloneContents(),We=Xh(pe,G);return ee.deleteContents(),ee.insertNode(We),Hc(P),Wc(P),A&&dl(P,A.start,A.end),H()?(_(),!1):(j(),L(),q(),!0)},getCurrentFontFamily:()=>{var A;const w=s.current;if(!w)return"";const P=window.getSelection();if(!P||P.rangeCount===0)return"";const B=P.getRangeAt(0);if(!w.contains(B.startContainer)||!w.contains(B.endContainer))return"";if(P.isCollapsed){const G=B.startContainer.nodeType===Node.TEXT_NODE?B.startContainer.parentElement:B.startContainer;return!G||G===w?w.style.fontFamily||((A=e.styles)==null?void 0:A.fontFamily)||"":window.getComputedStyle(G).fontFamily||""}const z=Hs(w,B);return z.size===0?"":z.size===1?z.values().next().value:"mixed"},hasSelection:()=>{const w=s.current;if(!w)return!1;const P=window.getSelection();if(!P||P.rangeCount===0)return!1;const B=P.getRangeAt(0);return w.contains(B.startContainer)&&w.contains(B.endContainer)},editorNode:s.current,focus:()=>{var w;(w=s.current)==null||w.focus()},emitChange:()=>{j()},setTypingState:w=>{u.current={...u.current,...w||{}};try{const P=window.getSelection();if(P&&P.rangeCount>0){const B=P.getRangeAt(0),z=s.current;if(z&&z.contains(B.startContainer)&&z.contains(B.endContainer)&&P.isCollapsed){for(const[G,ee]of Object.entries(w||{}))if(["bold","italic","underline"].includes(G)){let re;try{re=document.queryCommandState(G)}catch{re=void 0}typeof re=="boolean"&&typeof ee=="boolean"&&re!==ee&&(document.execCommand(G,!1,null),R())}}}}catch{}},getTypingState:()=>({...u.current}),isCollapsedSelection:()=>{const w=s.current;if(!w)return!1;const P=window.getSelection();if(!P||P.rangeCount===0)return!1;const B=P.getRangeAt(0);return w.contains(B.startContainer)&&w.contains(B.endContainer)&&P.isCollapsed}}));const V=()=>{j(),L(),C.current="none",n&&n()},te=w=>{var P;try{if(((w==null?void 0:w.inputType)||"").startsWith("insert")&&F()){(P=w.preventDefault)==null||P.call(w);return}}catch{}try{const B=window.getSelection();B&&B.isCollapsed&&["bold","italic","underline"].forEach(z=>{const A=u.current[z];if(typeof A=="boolean"){let G;try{G=document.queryCommandState(z)}catch{G=void 0}typeof G=="boolean"&&G!==A&&document.execCommand(z,!1,null)}})}catch{}L()},se=w=>{var P;if(!S.current){if(F()&&((w==null?void 0:w.inputType)||"").startsWith("insert")){(P=w.preventDefault)==null||P.call(w),_(),M();return}j(),L(),q()}},fe=()=>{S.current=!0,L()},ce=()=>{S.current=!1,requestAnimationFrame(()=>{if(H()){_();return}j(),L(),q()})},ge=w=>{const P=s.current;if(!P)return!1;const B=window.getSelection();if(!B||B.rangeCount===0)return!1;const z=B.getRangeAt(0);if(!P.contains(z.startContainer)||!P.contains(z.endContainer)||B.isCollapsed)return!1;const A=document.createElement("span");Object.assign(A.style,w||{}),A.appendChild(z.extractContents()),z.insertNode(A),B.removeAllRanges();const G=document.createRange();return G.selectNodeContents(A),B.addRange(G),!0},Re=(w,P)=>{const B=s.current;if(!B)return!1;const z=window.getSelection();if(!z||z.rangeCount===0)return!1;const A=z.getRangeAt(0);if(!B.contains(A.startContainer)||!B.contains(A.endContainer))return!1;const G=A.startContainer.nodeType===Node.TEXT_NODE?A.startContainer.parentElement:A.startContainer,ee=G?window.getComputedStyle(G):null;if(w==="bold"){const re=ee&&(parseInt(ee.fontWeight,10)||400)>=600;return ge({fontWeight:re?"":"700"})}if(w==="italic"){const re=ee&&ee.fontStyle==="italic";return ge({fontStyle:re?"":"italic"})}if(w==="underline"){const re=ee&&(ee.textDecorationLine||ee.textDecoration||"").includes("underline");return ge({textDecoration:re?"":"underline"})}if(w==="foreColor"){const re=ee&&ee.color,pe=!!re&&!!P&&re.replace(/\s+/g,"")===(P+"").replace(/\s+/g,"");return ge({color:pe?"":P})}if(w==="backColor"||w==="hiliteColor"){const re=ee&&(ee.backgroundColor||""),pe=!!re&&!!P&&re.replace(/\s+/g,"")===(P+"").replace(/\s+/g,"");return ge({backgroundColor:pe?"":P})}return!1},_e=(w,P=null)=>{L();const B=s.current;if(!B)return;const z=w==="backColor"?"hiliteColor":w,A=window.getSelection();let G=null;if(A&&A.rangeCount>0){const re=A.getRangeAt(0);B.contains(re.commonAncestorContainer)&&(G=re.cloneRange())}B.focus(),G&&A&&(A.removeAllRanges(),A.addRange(G));let ee=!1;try{ee=document.execCommand(z,!1,P)}catch{ee=!1}ee||(ee=Re(w,P)),R();try{const re=window.getSelection();if(re&&re.isCollapsed){let pe;try{pe=document.queryCommandState(w)}catch{pe=void 0}typeof pe=="boolean"&&(u.current[w]=pe)}}catch{}if(H()){_();return}j(),L(),q()},Pe=()=>{const w=s.current;if(!w)return"none";const P=window.getSelection();if(!P||P.rangeCount===0)return"none";const B=P.getRangeAt(0);if(!w.contains(B.startContainer)||!w.contains(B.endContainer))return"none";let z=B.startContainer;z.nodeType===Node.TEXT_NODE&&(z=z.parentElement);const ee=(w.textContent||"").split(`
`)[0];return ee.trim().startsWith("")?"bullet":/^\d+\./.test(ee.trim())?"number":/^[A-Z]+\./.test(ee.trim())?"alpha":/^[IVX]+\./.test(ee.trim())?"roman":"none"},$=(w="")=>w.replace(/\w\S*/g,P=>P.charAt(0).toUpperCase()+P.slice(1).toLowerCase()),Z=w=>{const P=s.current;if(!P)return!1;const B=window.getSelection();if(!B||B.rangeCount===0)return!1;const z=B.getRangeAt(0);if(!P.contains(z.startContainer)||!P.contains(z.endContainer)||B.isCollapsed)return!1;L();const A=B.toString(),ee=((re="")=>w==="upper"?re.toUpperCase():w==="lower"?re.toLowerCase():$(re))(A);P.focus();try{document.execCommand("insertText",!1,ee)}catch{z.deleteContents(),z.insertNode(document.createTextNode(ee))}return j(),L(),q(),!0},he=w=>{const P=s.current;if(!P)return null;const B=window.getSelection();if(!B||B.rangeCount===0)return null;let z=B.anchorNode;for(z&&z.nodeType===Node.TEXT_NODE&&(z=z.parentElement);z&&z!==P;){if(z.tagName===w)return z;z=z.parentElement}return null},ue=w=>{const P=he("UL"),B=he("OL"),z=P||B;z&&(z.style.listStyleType=w,z.style.paddingInlineStart="1.25em",z.style.margin="0")},be=w=>{if(!s.current)return;const B=he("UL"),z=he("OL");if(w==="none"){B&&document.execCommand("insertUnorderedList",!1,null),z&&document.execCommand("insertOrderedList",!1,null);return}if(w==="bullet"){z&&document.execCommand("insertOrderedList",!1,null),he("UL")||document.execCommand("insertUnorderedList",!1,null),ue("disc");return}B&&document.execCommand("insertUnorderedList",!1,null),he("OL")||document.execCommand("insertOrderedList",!1,null),w==="number"&&ue("decimal"),w==="roman"&&ue("upper-roman"),w==="alpha"&&ue("upper-alpha")};return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:s,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:V,className:"w-full h-full p-2 outline-none",style:{backgroundColor:e.bgColor||"transparent",fontFamily:((je=e.styles)==null?void 0:je.fontFamily)||"Inter, system-ui, sans-serif",fontSize:(((ze=e.styles)==null?void 0:ze.fontSize)||16)*(r||1),color:((Ce=e.styles)==null?void 0:Ce.color)||"#111827",textAlign:((qe=e.styles)==null?void 0:qe.align)||"left",whiteSpace:"pre-wrap",wordBreak:"break-word",overflow:"visible",display:"block"},onBeforeInput:te,onInput:se,onCompositionStart:fe,onCompositionEnd:ce,onPaste:te,onDrop:te,onMouseDown:w=>{w.stopPropagation()},onPointerDown:w=>{w.stopPropagation()},onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(L(),requestAnimationFrame(()=>{C.current&&C.current!=="none"&&be(C.current),j(),L(),q()}))}}),i&&N.current&&mn.createPortal(o.jsxs("div",{ref:E,"data-mini-toolbar":!0,className:"absolute bg-black/80 backdrop-blur-md text-white rounded-xl shadow-2xl border border-white/20 p-3 flex gap-2 z-50",style:{top:`${c.top}px`,left:`${c.left}px`},onMouseDown:w=>w.preventDefault(),onTransitionEnd:()=>me(),children:[o.jsx("button",{onMouseDown:w=>w.preventDefault(),onClick:()=>_e("bold"),"aria-pressed":g.bold,className:`px-3 py-2 rounded-lg bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 hover:border-white/30 transition-all duration-300 ${g.bold?"bg-white/25 border-white/40 shadow-lg":""}`,title:"Bold",children:o.jsx("span",{className:"font-bold text-sm",children:"B"})}),o.jsx("button",{onMouseDown:w=>w.preventDefault(),onClick:()=>_e("italic"),"aria-pressed":g.italic,className:`px-3 py-2 rounded-lg bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 hover:border-white/30 transition-all duration-300 ${g.italic?"bg-white/25 border-white/40 shadow-lg":""}`,title:"Italic",children:o.jsx("span",{className:"italic text-sm",children:"I"})}),o.jsx("button",{onMouseDown:w=>w.preventDefault(),onClick:()=>_e("underline"),"aria-pressed":g.underline,className:`px-3 py-2 rounded-lg bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 hover:border-white/30 transition-all duration-300 ${g.underline?"bg-white/25 border-white/40 shadow-lg":""}`,title:"Underline",children:o.jsx("span",{className:"underline text-sm",children:"U"})}),o.jsx("div",{className:"w-px bg-white/30 mx-2"}),o.jsx("input",{type:"color",onMouseDown:w=>w.preventDefault(),onChange:w=>_e("foreColor",w.target.value),className:"w-10 h-10 rounded-lg cursor-pointer bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all duration-300",title:"Text Color"}),o.jsx("input",{type:"color",onMouseDown:w=>w.preventDefault(),onChange:w=>_e("backColor",w.target.value),className:"w-10 h-10 rounded-lg cursor-pointer bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all duration-300",title:"Highlight"}),o.jsx("div",{className:"w-px bg-white/30 mx-2"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onMouseDown:w=>w.preventDefault(),onClick:()=>Z("upper"),className:"px-2 py-2 rounded-lg text-xs bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 hover:border-white/30 transition-all duration-300",title:"UPPERCASE",children:"ABC"}),o.jsx("button",{onMouseDown:w=>w.preventDefault(),onClick:()=>Z("title"),className:"px-2 py-2 rounded-lg text-xs bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 hover:border-white/30 transition-all duration-300",title:"Title Case",children:"Title"}),o.jsx("button",{onMouseDown:w=>w.preventDefault(),onClick:()=>Z("lower"),className:"px-2 py-2 rounded-lg text-xs bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 hover:border-white/30 transition-all duration-300",title:"lowercase",children:"abc"})]})]}),N.current)]})});async function Vh(e){var n;if(!e||typeof document>"u"||!document.fonts)return;const t=(n=e.split(",")[0])==null?void 0:n.trim().replace(/^['"]|['"]$/g,"");if(t)try{await document.fonts.load(`16px ${t}`)}catch{}}function Xh(e,t){const n=document.createDocumentFragment();return Array.from(e.childNodes).forEach(l=>{e.removeChild(l),n.appendChild(sf(l,t))}),n}function sf(e,t){if(e.nodeType===Node.TEXT_NODE){if(!t)return e;const n=document.createElement("span");return n.style.fontFamily=t,n.textContent=e.textContent,n}if(e.nodeType===Node.ELEMENT_NODE){const n=e.cloneNode(!1);return t?n.style.fontFamily=t:n.style.removeProperty("font-family"),Array.from(e.childNodes).forEach(r=>{n.appendChild(sf(r,t))}),n}return e.cloneNode(!0)}function Wc(e){if(!e||!e.querySelectorAll)return;Array.from(e.querySelectorAll("span")).forEach(n=>{const r=n.getAttribute("style")||"";!r||!r.includes("font-family")||Qh(n)})}function Qh(e){Tr(e,"previousSibling"),Tr(e,"nextSibling")}function Tr(e,t){const n=e[t];if(n&&n.nodeType===Node.ELEMENT_NODE&&n.tagName==="SPAN"&&n.getAttribute("style")===e.getAttribute("style"))if(t==="previousSibling"){for(;e.firstChild;)n.appendChild(e.firstChild);e.remove(),Tr(n,"previousSibling"),Tr(n,"nextSibling")}else{for(;n.firstChild;)e.appendChild(n.firstChild);n.remove(),Tr(e,"previousSibling"),Tr(e,"nextSibling")}}function Hs(e,t){const n=new Set;return Gh(t,e).forEach(l=>{const s=Yh(l,e);s&&n.add(s)}),n}function Gh(e,t){const n=[];if(!e||!t)return n;const r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode(l){if(!l.nodeValue)return NodeFilter.FILTER_REJECT;if(typeof e.intersectsNode=="function")return e.intersectsNode(l)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT;const s=document.createRange();s.selectNodeContents(l);const i=e.compareBoundaryPoints(Range.END_TO_START,s)>=0,a=e.compareBoundaryPoints(Range.START_TO_END,s)<=0;return i||a?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);for(;r.nextNode();)n.push(r.currentNode);return n}function Yh(e,t){var s;let n=e.parentElement;for(;n&&n!==t;){const i=(s=n.style)==null?void 0:s.fontFamily;if(i)return ql(i);n=n.parentElement}const r=e.parentElement||t,l=window.getComputedStyle(r).fontFamily;return ql(l)}function Kh(e,t){return ql(e)===ql(t)}function ql(e){return e?e.split(",").map(t=>t.trim().replace(/^['"]|['"]$/g,"").toLowerCase()).join(","):""}function qh(e){if(!e||!e.querySelectorAll)return;Array.from(e.querySelectorAll("font[face]")).forEach(n=>{const r=document.createElement("span");for(r.style.fontFamily=n.getAttribute("face");n.firstChild;)r.appendChild(n.firstChild);n.replaceWith(r)})}function Hc(e){if(!e||!e.querySelectorAll)return;Array.from(e.querySelectorAll("span")).forEach(n=>{n.style&&!n.style.fontFamily&&n.style.removeProperty("font-family"),!n.getAttribute("style")&&n.attributes.length===0&&Zh(n)})}function Zh(e){const t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);e.remove()}}function Uc(e){const t=window.getSelection();if(!t||t.rangeCount===0)return null;const n=t.getRangeAt(0);if(!e.contains(n.startContainer)||!e.contains(n.endContainer))return null;const r=n.cloneRange();r.selectNodeContents(e),r.setEnd(n.startContainer,n.startOffset);const l=r.toString().length,s=n.cloneRange();s.selectNodeContents(e),s.setEnd(n.endContainer,n.endOffset);const i=s.toString().length;return{start:l,end:i}}function dl(e,t,n){const r=window.getSelection();if(!r)return;const l=document.createRange();let s=0,i=null,a=null,c=0,p=0;const g=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);for(;g.nextNode();){const E=g.currentNode,N=E.textContent.length;if(i===null&&s+N>=t&&(i=E,c=t-s),a===null&&s+N>=n){a=E,p=n-s;break}s+=N}if(i)a||(a=i,p=c);else{const E=document.createTextNode("");e.appendChild(E),i=E,a=E,c=0,p=0}const x=Math.max(0,Math.min(i.textContent.length,c)),u=Math.max(0,Math.min(a.textContent.length,p));l.setStart(i,x),l.setEnd(a,u),r.removeAllRanges(),r.addRange(l)}let no=0;function hr(e){const t=typeof document<"u"?document.documentElement:null;t&&(e?(no+=1,no===1&&t.classList.add("no-user-select")):(no=Math.max(0,no-1),no===0&&t.classList.remove("no-user-select")))}function Jh(){const{state:e,dispatch:t}=zt(),n=e.slides.find(f=>f.id===e.currentSlideId),r=I.useRef(null),l=I.useRef(null),[s,i]=I.useState(null),[a,c]=I.useState(null),[p,g]=I.useState({width:0,height:0}),[x,u]=I.useState(!1);window.currentTextEditorRef=I.useRef(null);const E=I.useCallback(()=>{if(l.current){const f=l.current.getBoundingClientRect(),d={width:f.width,height:f.height};g(h=>Math.abs(h.width-d.width)>1||Math.abs(h.height-d.height)>1?d:h),!x&&f.width>0&&f.height>0&&u(!0)}},[x]);I.useEffect(()=>{const f=new ResizeObserver(()=>{E()});return l.current&&f.observe(l.current),E(),()=>{f.disconnect()}},[]),ae.useEffect(()=>{const f=S=>{t({type:"UPDATE_ELEMENT",id:S.detail.id,patch:S.detail.patch})},d=S=>{var R;const j=(R=S==null?void 0:S.detail)==null?void 0:R.id;j&&c(j)},h=S=>{var R;const j=(R=S==null?void 0:S.detail)==null?void 0:R.id;j&&i(j)},v=S=>{var R;const j=(R=S==null?void 0:S.detail)==null?void 0:R.id;(!j||j===a)&&c(null)};return window.addEventListener("updateElement",f),window.addEventListener("editShapeText",d),window.addEventListener("stopShapeText",v),window.addEventListener("editTextBox",h),()=>{window.removeEventListener("updateElement",f),window.removeEventListener("editShapeText",d),window.removeEventListener("stopShapeText",v),window.removeEventListener("editTextBox",h)}},[t,a]),ae.useEffect(()=>{s&&e.selectedElementId!==s&&i(null)},[e.selectedElementId,s]),ae.useEffect(()=>{const f=()=>{};return document.addEventListener("selectionchange",f),()=>document.removeEventListener("selectionchange",f)},[]);const N=I.useMemo(()=>({padding:"0px",background:"#f2f2f2",border:"transparent",borderRadius:"0px",boxShadow:"0 32px 64px rgba(17, 25, 40, 0.5)"}),[]),C=I.useMemo(()=>({background:"#f2f2f2",borderRadius:"0px"}),[]),k=f=>{f.target===r.current&&(t({type:"SELECT_ELEMENT",id:null}),i(null))};return o.jsx("div",{className:"w-full h-full flex items-center justify-center",onMouseDown:k,children:o.jsx("div",{className:"relative w-full h-full shadow-lg",style:N,children:o.jsx("div",{ref:l,"data-slide-container":!0,className:"relative w-full h-full",style:C,onMouseDown:f=>{var h;if(!(f.target instanceof Element?f.target.closest("[data-el-box]"):null)){t({type:"SELECT_ELEMENT",id:null});try{const v=(h=window.getSelection)==null?void 0:h.call(window);v&&v.removeAllRanges&&v.removeAllRanges(),document&&document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()}catch{}i(null),c(null)}},children:o.jsxs("div",{ref:r,className:"absolute inset-0",children:[o.jsx(tm,{containerDimensions:p,background:(n==null?void 0:n.background)||"#ffffff"}),x&&(n==null?void 0:n.elements.map((f,d)=>o.jsx(em,{el:f,selected:e.selectedElementId===f.id,onSelect:()=>t({type:"SELECT_ELEMENT",id:f.id}),onDelete:()=>t({type:"DELETE_ELEMENT",id:f.id}),onChange:h=>t({type:"UPDATE_ELEMENT",id:f.id,patch:h}),editingTextId:s,setEditingTextId:i,containerDimensions:p,shapeEditingId:a},f.id||`el-${d}`)))]})})})})}function em({el:e,selected:t,onSelect:n,onDelete:r,onChange:l,editingTextId:s,setEditingTextId:i,containerDimensions:a,shapeEditingId:c}){const p=I.useRef(null),[g,x]=I.useState(null),[u,E]=I.useState(null),[N,C]=I.useState(null),k=I.useRef(null),f=I.useRef(!1),d=I.useRef(null),h=I.useRef(null),v=I.useRef(null),S=I.useRef(null),j=I.useRef(null),R=I.useRef(null),M=$=>{try{if(typeof $.pointerType=="string")return!!$.isPrimary;if(typeof $.button=="number")return $.button===0}catch{}return!1},L=I.useCallback(()=>{if(!a.width||!a.height)return{left:`${e.x}px`,top:`${e.y}px`,width:`${e.w}px`,height:`${e.h}px`};const $=960,Z=540,he=a.width/$,ue=a.height/Z,be=Math.min(he,ue),Ee=$*be,Me=Z*be,je=Math.max(0,(a.width-Ee)/2),ze=Math.max(0,(a.height-Me)/2);return{left:`${je+e.x*be}px`,top:`${ze+e.y*be}px`,width:`${e.w*be}px`,height:`${e.h*be}px`,scale:be}},[e.x,e.y,e.w,e.h,a]),_=$=>{const Z=document.querySelector("[data-slide-container]"),he=Z==null?void 0:Z.getBoundingClientRect();if(!he)return;const ue=$.clientX,be=$.clientY,Ee=960,Me=540,je=he.width/Ee,ze=he.height/Me,Ce=Math.min(je,ze),qe={containerRect:he,startX:ue,startY:be,startElX:e.x,startElY:e.y,scale:Ce};d.current=qe,x(qe),hr(!0),window.addEventListener("mousemove",F),window.addEventListener("mouseup",X),window.addEventListener("pointermove",F),window.addEventListener("pointerup",X),window.addEventListener("pointercancel",X),window.addEventListener("blur",X)},H=$=>{if(!M($))return;try{if($.detail&&$.detail>=2)return}catch{}const Z=$.target instanceof Element?$.target:null;if(Z?Z.closest('[contenteditable="true"], textarea, input'):null)return;const ue=!!(Z&&Z.closest("[data-table-cell]"));if(ue){$.stopPropagation(),$.preventDefault(),n();return}if(c===e.id)return;f.current=!0,n(),S.current={x:$.clientX,y:$.clientY};const be=4,Ee=je=>{if(!S.current)return;const ze=(je.clientX??0)-S.current.x,Ce=(je.clientY??0)-S.current.y;if(Math.hypot(ze,Ce)>=be){_(je);try{window.removeEventListener("mousemove",j.current),window.removeEventListener("pointermove",j.current),window.removeEventListener("mouseup",R.current),window.removeEventListener("pointerup",R.current)}catch{}j.current=null,R.current=null,S.current=null}},Me=()=>{try{window.removeEventListener("mousemove",j.current),window.removeEventListener("pointermove",j.current),window.removeEventListener("mouseup",R.current),window.removeEventListener("pointerup",R.current)}catch{}j.current=null,R.current=null,S.current=null};if(!ue)try{$.stopPropagation(),$.preventDefault()}catch{}j.current=Ee,R.current=Me,window.addEventListener("mousemove",j.current),window.addEventListener("pointermove",j.current),window.addEventListener("mouseup",R.current),window.addEventListener("pointerup",R.current)},F=$=>{$.preventDefault();const Z=d.current;if(!Z)return;const{startX:he,startY:ue,startElX:be,startElY:Ee,scale:Me}=Z,je=960,ze=540,Ce=($.clientX-he)/Me,qe=($.clientY-ue)/Me;let w=be+Ce,P=Ee+qe;const z=(Number.isFinite(e.rotation)?e.rotation:0)*Math.PI/180,A=Math.cos(z),G=Math.sin(z),ee=(e.w||0)/2,re=(e.h||0)/2,pe=Math.abs(ee*A)+Math.abs(re*G),We=Math.abs(ee*G)+Math.abs(re*A);let Ze=w+ee,we=P+re;const Se=pe,Je=je-pe,_t=We,un=ze-We;Se>Je?Ze=je/2:Ze=Math.max(Se,Math.min(Je,Ze)),_t>un?we=ze/2:we=Math.max(_t,Math.min(un,we)),w=Math.max(0,Math.min(je-e.w,Ze-ee)),P=Math.max(0,Math.min(ze-e.h,we-re)),l({x:w,y:P})},X=()=>{if(f.current=!1,k.current){try{clearTimeout(k.current)}catch{}k.current=null}d.current=null,x(null),hr(!1),window.removeEventListener("mousemove",F),window.removeEventListener("mouseup",X),window.removeEventListener("pointermove",F),window.removeEventListener("pointerup",X),window.removeEventListener("pointercancel",X),window.removeEventListener("blur",X)},T=$=>{if(!M($)||($.stopPropagation(),$.preventDefault(),n(),!p.current))return;const Z=p.current.getBoundingClientRect(),he=Z.left+Z.width/2,ue=Z.top+Z.height/2,Ee=((ze,Ce)=>Math.atan2(Ce-ue,ze-he)*180/Math.PI)($.clientX,$.clientY),Me=Number.isFinite(e.rotation)?e.rotation:0,je={centerX:he,centerY:ue,startAngle:Ee,startRotation:Me};h.current=je,C(je),hr(!0),window.addEventListener("mousemove",q),window.addEventListener("mouseup",me),window.addEventListener("pointermove",q),window.addEventListener("pointerup",me)},q=$=>{$.preventDefault();const Z=h.current;if(!Z)return;const he=Math.atan2($.clientY-Z.centerY,$.clientX-Z.centerX)*180/Math.PI;let ue=Z.startRotation+(he-Z.startAngle);ue=((ue+180)%360+360)%360-180,$.shiftKey&&(ue=Math.round(ue/15)*15);const be=960,Ee=540,Me=ue*Math.PI/180,je=Math.cos(Me),ze=Math.sin(Me),Ce=(e.w||0)/2,qe=(e.h||0)/2,w=Math.abs(Ce*je)+Math.abs(qe*ze),P=Math.abs(Ce*ze)+Math.abs(qe*je);let B=(e.x||0)+Ce,z=(e.y||0)+qe;const A=w,G=be-w,ee=P,re=Ee-P;A>G?B=be/2:B=Math.max(A,Math.min(G,B)),ee>re?z=Ee/2:z=Math.max(ee,Math.min(re,z));const pe=Math.max(0,Math.min(be-e.w,B-Ce)),We=Math.max(0,Math.min(Ee-e.h,z-qe));l({rotation:Math.round(ue),x:Math.round(pe),y:Math.round(We)})},me=()=>{h.current=null,C(null),hr(!1),window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",me),window.removeEventListener("pointermove",q),window.removeEventListener("pointerup",me)},Y=($,Z)=>{if(!M($))return;$.stopPropagation(),$.preventDefault(),n();const he=$.clientX,ue=$.clientY,be={startX:he,startY:ue,dir:Z,start:{x:e.x,y:e.y,w:e.w,h:e.h}};v.current=be,E(be),hr(!0),window.addEventListener("mousemove",V),window.addEventListener("mouseup",te),window.addEventListener("pointermove",V),window.addEventListener("pointerup",te)},V=$=>{$.preventDefault();const Z=v.current;if(!Z)return;let{x:he,y:ue,w:be,h:Ee}=Z.start;const Me=960,je=540,ze=a.width/Me,Ce=a.height/je,qe=Math.min(ze,Ce),w=0,P=($.clientX-Z.startX)/qe,B=($.clientY-Z.startY)/qe;if(Z.dir.includes("e")&&(be=Math.max(40,Math.min(Me-he,Z.start.w+P))),Z.dir.includes("s")&&(Ee=Math.max(40,Math.min(je-ue,Z.start.h+B))),Z.dir.includes("w")){const z=Math.max(40,Z.start.w-P),A=Math.max(-w,Z.start.x+P);A+z<=Me+w*2&&(be=z,he=A)}if(Z.dir.includes("n")){const z=Math.max(40,Z.start.h-B),A=Math.max(-w,Z.start.y+B);A+z<=je+w*2&&(Ee=z,ue=A)}he<0&&(be+=he,he=0),ue<0&&(Ee+=ue,ue=0),be=Math.max(40,Math.min(be,Me-he)),Ee=Math.max(40,Math.min(Ee,je-ue)),he=Math.max(0,Math.min(he,Me-be)),ue=Math.max(0,Math.min(ue,je-Ee)),l({x:he,y:ue,w:be,h:Ee})},te=()=>{v.current=null,E(null),hr(!1),window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",te),window.removeEventListener("pointermove",V),window.removeEventListener("pointerup",te)},se=$=>{var Z,he;if(k.current){try{clearTimeout(k.current)}catch{}k.current=null}try{X()}catch{}e.type==="text"&&((Z=$==null?void 0:$.stopPropagation)==null||Z.call($),(he=$==null?void 0:$.preventDefault)==null||he.call($),n(),i(e.id)),e.type},fe=()=>{var $;try{const Z=($=window.getSelection)==null?void 0:$.call(window);Z&&Z.removeAllRanges&&Z.removeAllRanges(),document&&document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()}catch{}i(null)},ce=L(),ge=ce.scale||1,{scale:Re,..._e}=ce,Pe={position:"absolute",..._e,transform:`rotate(${Number.isFinite(e.rotation)?e.rotation:0}deg)`,transformOrigin:"center center",cursor:t?"move":"pointer",border:e.borderWidth?`${e.borderWidth}px solid ${e.borderColor||"#000000"}`:void 0};return o.jsxs("div",{ref:p,"data-el-box":!0,"data-el-id":e.id,draggable:!1,className:`absolute ${t?"ring-2 ring-brand-500":""}`,style:{...Pe,zIndex:t?20:10,pointerEvents:"auto",userSelect:"auto",WebkitUserSelect:"auto",touchAction:"none"},onMouseDown:H,onPointerDown:$=>{const Z=$.target instanceof Element?$.target:null,he=Z?Z.closest('[contenteditable="true"], textarea, input'):null,ue=Z?Z.closest("[data-table-cell]"):null;if(!(he||ue)){try{$.isPrimary&&$.currentTarget.setPointerCapture($.pointerId)}catch{}$.detail&&$.detail>=2||M($)&&H($)}},onDoubleClick:se,children:[om(e,{editing:(s===e.id||c===e.id)&&t,onChange:l,stopEditing:fe,scale:ge,selected:t,onSelect:n}),t&&o.jsxs(o.Fragment,{children:[["n","e","s","w","ne","nw","se","sw"].map($=>o.jsx("div",{onMouseDown:Z=>Y(Z,$),onPointerDown:Z=>{try{Z.isPrimary&&Z.currentTarget.setPointerCapture(Z.pointerId)}catch{}M(Z)&&Y(Z,$)},className:"absolute bg-white border border-brand-500 rounded-full w-3 h-3 -translate-x-1/2 -translate-y-1/2",style:{...rm($,e.w,e.h,a),cursor:nm($),pointerEvents:"auto",zIndex:25,touchAction:"none"}},$)),o.jsx("div",{onMouseDown:T,onPointerDown:$=>{try{$.isPrimary&&$.currentTarget.setPointerCapture($.pointerId)}catch{}M($)&&T($)},title:"Rotate",className:"absolute -top-6 left-1/2 -translate-x-1/2 w-4 h-4 bg-white border border-brand-500 rounded-full shadow",style:{cursor:"grab",pointerEvents:"auto",zIndex:25,touchAction:"none"}}),o.jsx("div",{onMouseDown:$=>{$.preventDefault(),$.stopPropagation(),_($)},onPointerDown:$=>{$.preventDefault(),$.stopPropagation();try{$.isPrimary&&$.currentTarget.setPointerCapture($.pointerId)}catch{}_($)},title:"Move",className:"absolute -top-3 left-3 w-6 h-6 bg-white border border-brand-500 rounded-full shadow flex items-center justify-center",style:{cursor:"move",pointerEvents:"auto",zIndex:25,touchAction:"none"},children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:o.jsx("path",{d:"M12 2v20M2 12h20"})})}),o.jsx("button",{type:"button",onPointerDown:$=>{$.preventDefault(),$.stopPropagation()},onMouseDown:$=>{$.preventDefault(),$.stopPropagation()},onClick:$=>{$.preventDefault(),$.stopPropagation(),r()},className:"absolute -top-3 -right-3 bg-red-500 text-white rounded-full w-6 h-6 text-xs shadow",style:{zIndex:99,pointerEvents:"auto",touchAction:"none"},title:"Delete","aria-label":"Delete element",children:""})]})]})}function tm({containerDimensions:e,background:t}){const{isDark:n}=Oo(),r=960,l=540,s=Math.min((e.width||0)/r,(e.height||0)/l)||0,i=r*s,a=l*s,c=Math.max(0,(e.width-i)/2),p=Math.max(0,(e.height-a)/2),g={position:"absolute",left:c,top:p,width:i,height:a,border:n?"1px solid rgba(255,255,255,0.15)":"1px solid rgba(0,0,0,0.08)",boxShadow:"0 8px 28px rgba(0,0,0,0.35), 0 2px 10px rgba(0,0,0,0.25)"};let x={};if(t&&typeof t=="object"&&t.type==="image"&&t.src){const u=t.mode==="stretch"?"100% 100%":t.mode==="custom"&&typeof t.scale=="number"?`${t.scale}% auto`:t.mode||"cover";x={backgroundImage:`url(${t.src})`,backgroundSize:u,backgroundPosition:t.position||"center",backgroundRepeat:"no-repeat"}}else typeof t=="string"?x={background:t}:x={background:"#ffffff"};return o.jsx("div",{style:{...g,...x}})}function nm(e){switch(e){case"n":case"s":return"ns-resize";case"e":case"w":return"ew-resize";case"ne":case"sw":return"nesw-resize";case"nw":case"se":return"nwse-resize";default:return"default"}}function rm(e,t,n,r){let i=1;if(r&&r.width>0&&r.height>0){const g=r.width/960,x=r.height/540;i=Math.min(g,x)||1}const a=(Number(t)||0)*i,c=(Number(n)||0)*i;return{n:{left:a/2,top:0},s:{left:a/2,top:c},e:{left:a,top:c/2},w:{left:0,top:c/2},ne:{left:a,top:0},nw:{left:0,top:0},se:{left:a,top:c},sw:{left:0,top:c}}[e]}function om(e,t={}){const n=t.scale||1;switch(e.type){case"text":return o.jsx(am,{el:e,editing:t.editing,onChange:t.onChange,stopEditing:t.stopEditing,scale:n});case"table":return o.jsx(im,{el:e,editing:t.editing,selected:t.selected,onSelect:t.onSelect,onChange:t.onChange,stopEditing:t.stopEditing,scale:n});case"chart":return o.jsx(sm,{el:e,scale:n});case"rect":return o.jsx(yt,{el:e,shapeClass:"rounded-md",scale:n,onChange:t.onChange,editing:t.editing});case"square":return o.jsx(yt,{el:e,shapeClass:"rounded-md",scale:n,onChange:t.onChange,editing:t.editing});case"circle":return o.jsx(yt,{el:e,shapeClass:"rounded-full",scale:n,onChange:t.onChange,editing:t.editing});case"triangle":return o.jsx(yt,{el:e,shapeClass:"",clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)",scale:n,onChange:t.onChange,editing:t.editing});case"diamond":return o.jsx(yt,{el:e,shapeClass:"",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",scale:n,onChange:t.onChange,editing:t.editing});case"star":return o.jsx(yt,{el:e,shapeClass:"",clipPath:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)",scale:n,onChange:t.onChange,editing:t.editing});case"roundRect":return o.jsx(yt,{el:e,shapeClass:"rounded-xl",scale:n,onChange:t.onChange,editing:t.editing});case"parallelogram":return o.jsx(yt,{el:e,clipPath:"polygon(20% 0%, 100% 0%, 80% 100%, 0% 100%)",scale:n,onChange:t.onChange,editing:t.editing});case"trapezoid":return o.jsx(yt,{el:e,clipPath:"polygon(10% 0%, 90% 0%, 100% 100%, 0% 100%)",scale:n,onChange:t.onChange,editing:t.editing});case"pentagon":return o.jsx(yt,{el:e,clipPath:"polygon(50% 0%, 100% 38%, 81% 100%, 19% 100%, 0% 38%)",scale:n,onChange:t.onChange,editing:t.editing});case"hexagon":return o.jsx(yt,{el:e,clipPath:"polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%)",scale:n,onChange:t.onChange,editing:t.editing});case"octagon":return o.jsx(yt,{el:e,clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)",scale:n,onChange:t.onChange,editing:t.editing});case"chevron":return o.jsx(yt,{el:e,clipPath:"polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%)",scale:n,onChange:t.onChange,editing:t.editing});case"arrowRight":return o.jsx(yt,{el:e,clipPath:"polygon(0% 0%, 80% 0%, 80% 25%, 100% 50%, 80% 75%, 80% 100%, 0% 100%, 0% 0%)",scale:n,onChange:t.onChange,editing:t.editing});case"cloud":return o.jsx(yt,{el:e,clipPath:"polygon(10% 60%, 20% 45%, 35% 40%, 45% 25%, 60% 30%, 70% 45%, 85% 50%, 90% 65%, 80% 80%, 60% 85%, 40% 80%, 25% 75%)",scale:n,onChange:t.onChange,editing:t.editing});case"message":return o.jsx(lm,{el:e,scale:n,onChange:t.onChange,editing:t.editing});case"image":return e.src?o.jsx("img",{src:e.src,alt:"",className:"w-full h-full object-contain pointer-events-none",draggable:!1}):o.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center border border-dashed border-gray-300 bg-white/70 text-gray-500 select-none",children:[o.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),o.jsx("path",{d:"M6 17 L11 12 L18 19",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),o.jsx("div",{className:"text-xs mt-1",children:"Add image"})]});default:return null}}function yt({el:e,shapeClass:t,clipPath:n,scale:r=1,onChange:l,editing:s}){const[i,a]=I.useState(!!s),[c,p]=I.useState(e.text||""),g=I.useRef(null);ae.useEffect(()=>{i&&g.current&&(g.current.focus(),g.current.select())},[i]),ae.useEffect(()=>{typeof s=="boolean"&&a(s)},[s]),ae.useEffect(()=>{p(e.text||"")},[e.text]);const x=j=>{a(!0)},u=j=>{const R=(j==null?void 0:j.relatedTarget)||document.activeElement,M=R instanceof Element?!!R.closest("[data-slide-container]"):!1,L=R instanceof Element?g.current&&(R===g.current||g.current.contains(R)):!1;if(!M||L){requestAnimationFrame(()=>{try{g.current&&g.current.focus()}catch{}});return}if(a(!1),c!==(e.text||""))if(typeof l=="function")l({text:c});else try{window.dispatchEvent(new CustomEvent("updateElement",{detail:{id:e.id,patch:{text:c}}}))}catch{}try{window.dispatchEvent(new CustomEvent("stopShapeText",{detail:{id:e.id}}))}catch{}},E=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),u()),j.key==="Escape"&&(p(e.text||""),a(!1))},N={background:e.fill,border:`2px solid ${e.stroke}`,...n&&{clipPath:n}},C=e.fontFamily||"Inter, system-ui, sans-serif",k=e.bold?700:400,f=e.italic?"italic":"normal",d=e.textAlign||"center",h=e.textVAlign||"middle",v=d==="right"?"flex-end":d==="center"?"center":"flex-start",S=h==="bottom"?"flex-end":h==="middle"?"center":"flex-start";return o.jsx("div",{className:`w-full h-full ${t}`,style:N,onDoubleClick:x,children:i?o.jsx("textarea",{id:`shape-text-${e.id}`,name:`shape-text-${e.id}`,autoComplete:"off","aria-label":"Shape text",ref:g,autoFocus:!0,value:c,onChange:j=>p(j.target.value),onBlur:u,onKeyDown:E,onPointerDown:j=>j.stopPropagation(),onMouseDown:j=>j.stopPropagation(),className:"w-full h-full resize-none outline-none bg-transparent p-2",style:{color:c&&c.length?e.textColor:"#9ca3af",fontSize:`${e.fontSize*r}px`,fontFamily:C,fontWeight:k,fontStyle:f,textAlign:d,textDecoration:e.underline?"underline":"none"}}):o.jsx("div",{className:"w-full h-full p-2 cursor-pointer",style:{display:"flex",flexDirection:"column",justifyContent:S,alignItems:v,color:e.textColor,fontSize:`${e.fontSize*r}px`,fontFamily:C,fontWeight:k,fontStyle:f,textDecoration:e.underline?"underline":"none",wordWrap:"break-word",textAlign:d},children:c})})}function lm({el:e,scale:t=1,onChange:n,editing:r}){const[l,s]=I.useState(!!r),[i,a]=I.useState(e.text||""),c=I.useRef(null),p=e.fontFamily||"Inter, system-ui, sans-serif",g=e.bold?700:400,x=e.italic?"italic":"normal",u=e.textAlign||"center",E=e.textVAlign||"middle",N=u==="right"?"flex-end":u==="center"?"center":"flex-start",C=E==="bottom"?"flex-end":E==="middle"?"center":"flex-start";ae.useEffect(()=>{l&&c.current&&(c.current.focus(),c.current.select())},[l]),ae.useEffect(()=>{typeof r=="boolean"&&s(r)},[r]),ae.useEffect(()=>{a(e.text||"")},[e.text]);const k=h=>{s(!0)},f=h=>{const v=(h==null?void 0:h.relatedTarget)||document.activeElement,S=v instanceof Element?!!v.closest("[data-slide-container]"):!1,j=v instanceof Element?c.current&&(v===c.current||c.current.contains(v)):!1;if(!S||j){requestAnimationFrame(()=>{try{c.current&&c.current.focus()}catch{}});return}if(s(!1),i!==(e.text||""))if(typeof n=="function")n({text:i});else try{window.dispatchEvent(new CustomEvent("updateElement",{detail:{id:e.id,patch:{text:i}}}))}catch{}try{window.dispatchEvent(new CustomEvent("stopShapeText",{detail:{id:e.id}}))}catch{}},d=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),f()),h.key==="Escape"&&(a(e.text||"Message"),s(!1))};return o.jsxs("div",{className:"w-full h-full relative",onDoubleClick:k,children:[o.jsx("div",{className:"w-full h-full rounded-lg relative",style:{background:e.fill,border:`2px solid ${e.stroke}`},children:l?o.jsx("textarea",{id:`message-text-${e.id}`,name:`message-text-${e.id}`,autoComplete:"off","aria-label":"Message text",ref:c,autoFocus:!0,value:i,onChange:h=>a(h.target.value),onBlur:f,onKeyDown:d,onPointerDown:h=>h.stopPropagation(),onMouseDown:h=>h.stopPropagation(),className:"w-full h-full resize-none outline-none bg-transparent p-2",style:{color:e.textColor,fontSize:`${e.fontSize*t}px`,fontFamily:p,fontWeight:g,fontStyle:x,textAlign:u,textDecoration:e.underline?"underline":"none"}}):o.jsx("div",{className:"w-full h-full p-2 cursor-pointer",style:{display:"flex",flexDirection:"column",justifyContent:C,alignItems:N,color:e.textColor,fontSize:`${e.fontSize*t}px`,fontFamily:p,fontWeight:g,fontStyle:x,textDecoration:e.underline?"underline":"none",wordWrap:"break-word",textAlign:u},children:i})}),o.jsx("div",{className:"absolute bottom-0 left-4 w-0 h-0",style:{borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:`15px solid ${e.stroke}`}}),o.jsx("div",{className:"absolute bottom-1 left-5 w-0 h-0",style:{borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderTop:`12px solid ${e.fill}`}})]})}function sm({el:e,scale:t=1}){const{chartType:n,data:r,labels:l,colors:s}=e,[i,a]=I.useState(null),c=Array.isArray(r)?r:[],p=Array.isArray(l)?l:[],g=c.map((k,f)=>p[f]??String(f+1)),x=Array.isArray(s)&&s.length?s:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4"],u=Math.max(4,Math.round(6*t)),E=Math.max(12,Math.round(14*t)),N=Math.max(0,e.w*t-u*2),C=Math.max(0,e.h*t-u*2);if(n==="bar"){const k=p.map(T=>{const q=parseFloat(T);return Number.isFinite(q)?q:null}),f=k.some(T=>T!==null),d=(f?k:c).map((T,q)=>T===null||!Number.isFinite(T)?Number.isFinite(c[q])?c[q]:0:T),h=d.length>0,v=h?Math.max(...d):1,S=h?Math.min(...d):0,j=Math.max(1e-6,v-S),R=Math.max(0,C-E),M=Math.max(28,Math.round(32*t)),L=Math.max(0,N-M),_=Math.max(1,Math.round(2*t)),H=d.length,F=H?Math.max(1,Math.floor((L-(H-1)*_)/H)):0,X=Math.max(1,Math.round(1*t));return o.jsxs("div",{className:"w-full h-full bg-white relative",style:{boxSizing:"border-box",border:"1px solid #e5e7eb",borderRadius:2},children:[o.jsxs("div",{style:{position:"absolute",left:u,top:u,width:N,height:R},children:[o.jsx("div",{style:{position:"absolute",left:M,bottom:0,width:L,height:X,backgroundColor:"#9ca3af"}}),o.jsx("div",{style:{position:"absolute",left:M,bottom:0,width:X,height:R,backgroundColor:"#9ca3af"}}),o.jsx("div",{className:"relative w-full h-full",style:{position:"absolute",left:M,top:0,width:L,height:R,display:"flex",alignItems:"flex-end"},children:d.map((T,q)=>o.jsxs("div",{className:"relative group",onMouseEnter:()=>a(q),onMouseLeave:()=>a(null),style:{width:F,height:R,marginRight:q<H-1?_:0,display:"flex",alignItems:"flex-end"},children:[o.jsx("div",{className:"w-full rounded-t cursor-pointer transition-opacity hover:opacity-80",style:{height:Math.max(Math.round((j>0?(T-S)/j:.5)*R),2),backgroundColor:x[q%x.length]}}),i===q&&o.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-gray-900 text-white px-2 py-0.5 rounded text-[10px] whitespace-nowrap z-10 shadow-lg",children:[g[q],": ",T]})]},q))}),o.jsx("div",{style:{position:"absolute",left:0,top:0,width:M-4,height:R},children:Array.from({length:5}).map((T,q)=>{const me=q/4,Y=S+(1-me)*j,V=Math.round(me*R);return o.jsx("div",{style:{position:"absolute",left:0,top:V-6,width:"100%",textAlign:"right",fontSize:Math.max(8,Math.round(10*t)),color:"#6b7280"},children:Number.isFinite(Y)?Math.round(Y):""},q)})})]}),o.jsx("div",{style:{position:"absolute",left:u+M,bottom:u,width:L,height:E,display:"flex",justifyContent:"space-around",alignItems:"center",gap:4},children:(f?p:g).map((T,q)=>o.jsx("span",{className:"text-gray-600 truncate",style:{fontSize:Math.max(8,Math.round(10*t)),maxWidth:F},children:T},q))})]})}if(n==="line"){const k=c.length>0,f=k?Math.max(...c):1,d=k?Math.min(...c):0,h=Math.max(1e-6,f-d),v=Math.max(0,C-E),S=Math.max(28,Math.round(32*t)),j=Math.max(0,N-S),R=Math.max(1,Math.round(2*t)),M=Math.max(0,j-2*R),L=c.map((_,H)=>{const F=H/Math.max(1,c.length-1)*M+R,X=v-(_-d)/h*v;return`${F},${X}`}).join(" ");return o.jsxs("div",{className:"w-full h-full bg-white relative",style:{boxSizing:"border-box",border:"1px solid #e5e7eb",borderRadius:2},children:[o.jsx("div",{style:{position:"absolute",left:u,top:u,width:S-4,height:v},children:Array.from({length:5}).map((_,H)=>{const F=H/4,X=d+(1-F)*h,T=Math.round(F*v);return o.jsx("div",{style:{position:"absolute",left:0,top:T-6,width:"100%",textAlign:"right",fontSize:Math.max(8,Math.round(10*t)),color:"#6b7280"},children:Number.isFinite(X)?Math.round(X):""},H)})}),o.jsxs("div",{style:{position:"absolute",left:u+S,top:u,width:j,height:v,overflow:"hidden"},children:[o.jsxs("svg",{viewBox:`0 0 ${j} ${v}`,width:"100%",height:"100%",preserveAspectRatio:"none",onMouseLeave:()=>a(null),children:[o.jsx("line",{x1:"0",y1:v,x2:j,y2:v,stroke:"#9ca3af",strokeWidth:Math.max(1,Math.round(1*t))}),o.jsx("line",{x1:"0",y1:"0",x2:"0",y2:v,stroke:"#9ca3af",strokeWidth:Math.max(1,Math.round(1*t))}),o.jsx("polyline",{points:L,fill:"none",stroke:x[0],strokeWidth:"2",onMouseMove:_=>{const H=c.length;if(!H)return;const F=_.currentTarget.getBoundingClientRect(),X=_.clientX-F.left,T=Math.round((X-R)/Math.max(1,j-2*R)*(H-1)),q=Math.max(0,Math.min(H-1,T));a(q)}}),c.map((_,H)=>{const F=H/Math.max(1,c.length-1)*(j-2*R)+R,X=v-(_-d)/h*v;return o.jsx("circle",{cx:F,cy:X,r:"2",fill:x[0],onMouseEnter:()=>a(H),onMouseLeave:()=>a(null)},H)})]}),i!==null&&c.length>0&&(()=>{const _=c.length,H=i/Math.max(1,_-1)*(j-2*R)+R,F=v-(c[i]-d)/h*v;return o.jsxs("div",{className:"absolute",style:{left:H,top:F,transform:"translate(-50%, -120%)",background:"rgba(17,24,39,0.92)",color:"#fff",fontSize:Math.max(8,Math.round(10*t)),padding:"4px 6px",borderRadius:4,pointerEvents:"none",whiteSpace:"nowrap"},children:["#",i+1," ",g[i],": ",c[i]]})})()]}),o.jsx("div",{style:{position:"absolute",left:u+S,bottom:u,width:j,height:E,display:"flex",justifyContent:"space-between",alignItems:"center"},children:g.map((_,H)=>o.jsx("span",{className:"text-gray-600 truncate",style:{fontSize:Math.max(8,Math.round(10*t))},children:_},H))})]})}if(n==="pie"){const k=Math.max(1,c.reduce((v,S)=>v+S,0)),f=Math.max(0,Math.min(N,C)),d=Math.max(0,Math.floor(f/2)-Math.max(1,Math.round(2*t)));let h=0;return o.jsx("div",{className:"w-full h-full bg-white relative",style:{boxSizing:"border-box",border:"1px solid #e5e7eb",borderRadius:2},children:o.jsxs("div",{style:{position:"absolute",left:u,top:u,width:N,height:C,display:"flex",alignItems:"center",justifyContent:"center"},children:[o.jsx("svg",{viewBox:"0 0 100 100",width:Math.max(10,f),height:Math.max(10,f),children:c.map((v,S)=>{const R=v/k*360,M=h,L=h+R;h=L;const _=f>0?Math.max(1,d/f*100)*.8:40,H=50+_*Math.cos((M-90)*Math.PI/180),F=50+_*Math.sin((M-90)*Math.PI/180),X=50+_*Math.cos((L-90)*Math.PI/180),T=50+_*Math.sin((L-90)*Math.PI/180),q=R>180?1:0;return o.jsx("path",{d:`M 50 50 L ${H} ${F} A ${_} ${_} 0 ${q} 1 ${X} ${T} Z`,fill:x[S%x.length],onMouseEnter:()=>a(S),onMouseLeave:()=>a(null)},S)})}),o.jsx("div",{style:{position:"absolute",right:u,top:u,display:"flex",flexDirection:"column",gap:Math.max(2,Math.round(4*t)),maxWidth:N*.45},children:g.map((v,S)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:Math.max(4,Math.round(6*t))},children:[o.jsx("div",{style:{width:Math.max(8,Math.round(10*t)),height:Math.max(8,Math.round(10*t)),backgroundColor:x[S%x.length],borderRadius:2}}),o.jsx("div",{style:{fontSize:Math.max(8,Math.round(10*t)),color:"#374151",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:v})]},`pie-lg-${S}`))}),i!==null&&o.jsxs("div",{className:"absolute",style:{left:u+8,top:u+8,background:"rgba(17,24,39,0.92)",color:"#fff",fontSize:Math.max(8,Math.round(10*t)),padding:"4px 6px",borderRadius:4,pointerEvents:"none"},children:[g[i],": ",c[i]," (",(c[i]/k*100).toFixed(1),"%)"]})]})})}return null}function im({el:e,editing:t,selected:n=!0,onSelect:r,onChange:l,stopEditing:s,scale:i=1}){const[a,c]=I.useState(null),p=I.useRef(null),g=e.w*i/e.cols,x=e.h*i/e.rows,u=`1px solid ${e.borderColor||"#000000"}`;ae.useEffect(()=>{typeof window<"u"&&a!==null&&(window.currentEditingTableCell={id:e.id,cellIndex:a})},[a,e.id]);const E=(C,k)=>{const f=[...e.cells];f[C]={...f[C],text:k},l({cells:f})},N=C=>{var j;C.stopPropagation(),typeof r=="function"&&r();const k=(j=p.current)==null?void 0:j.getBoundingClientRect();if(!k)return;const f=C.clientX-k.left,d=C.clientY-k.top,h=Math.max(0,Math.min(e.cols-1,Math.floor(f/(k.width/e.cols)))),S=Math.max(0,Math.min(e.rows-1,Math.floor(d/(k.height/e.rows))))*e.cols+h;c(S)};return ae.useEffect(()=>{var h;if(a===null)return;const C=(h=e.cells)==null?void 0:h[a];if(!C)return;const k=`table-cell-${C.id}`,d=requestAnimationFrame(()=>{const v=document.getElementById(k);if(v)try{v.focus()}catch{}});return()=>{try{cancelAnimationFrame(d)}catch{}}},[a,e.cells]),ae.useEffect(()=>{var C;if(!n&&a!==null){try{const k=(C=e.cells)==null?void 0:C[a],f=k?`table-cell-${k.id}`:null,d=f?document.getElementById(f):null,h=d?d.textContent||"":(k==null?void 0:k.text)||"";E(a,h)}catch{}c(null)}},[n,a,e.cells]),ae.useEffect(()=>{const C=k=>{var h,v;const f=(h=k==null?void 0:k.detail)==null?void 0:h.tableId,d=(v=k==null?void 0:k.detail)==null?void 0:v.cellIndex;f===e.id&&Number.isInteger(d)&&(typeof r=="function"&&r(),c(Math.max(0,Math.min(e.rows*e.cols-1,d))))};return window.addEventListener("editTableCell",C),()=>window.removeEventListener("editTableCell",C)},[e.id,e.rows,e.cols]),o.jsx("div",{ref:p,className:"w-full h-full relative",style:{boxSizing:"border-box",overflow:"hidden",background:"#ffffff",border:`1px solid ${e.borderColor||"#000000"}`},onClick:C=>{C.stopPropagation(),typeof r=="function"&&r()},onDoubleClick:N,children:e.cells.map((C,k)=>{var L,_,H,F,X,T,q,me,Y,V,te,se,fe,ce;const f=Math.floor(k/e.cols),d=k%e.cols,h=a===k,v=!!e.headerRow&&f===0,S=(L=C.styles)!=null&&L.bgColor?C.styles.bgColor:v?e.headerBg||"#f3f4f6":e.cellBg||"#ffffff",j=v?e.headerTextColor||"#111827":((_=C.styles)==null?void 0:_.color)||"#111827",R=((H=C.styles)==null?void 0:H.valign)||"middle",M=((F=C.styles)==null?void 0:F.align)||"center";return o.jsx("div",{"data-table-cell":!0,className:"absolute",style:{boxSizing:"border-box",left:d*g,top:f*x,width:g,height:x,borderRight:u,borderBottom:u},onMouseDown:ge=>{try{typeof window<"u"&&(window.currentSelectedTableCell={id:e.id,cellIndex:k})}catch{}},onDoubleClick:ge=>{ge.stopPropagation(),c(k)},children:h?o.jsx("div",{id:`table-cell-${C.id}`,contentEditable:!0,suppressContentEditableWarning:!0,"aria-label":`Table cell ${k+1}`,onBlur:ge=>{E(k,ge.currentTarget.textContent||"");const Re=(ge==null?void 0:ge.relatedTarget)||document.activeElement,_e=Re instanceof Element?!!Re.closest("[data-slide-container]"):!1,Pe=Re instanceof Element?!!Re.closest("[data-table-cell]"):!1;if(!(typeof window<"u"&&window.keepTableEditing))if(!_e||Pe){const Z=`table-cell-${C.id}`;requestAnimationFrame(()=>{const he=document.getElementById(Z);if(he)try{he.focus()}catch{}})}else c(null)},onMouseDown:ge=>ge.stopPropagation(),onKeyDown:ge=>{ge.key==="Enter"&&ge.preventDefault()},onPaste:ge=>{try{ge.preventDefault();const _e=((ge.clipboardData||window.clipboardData).getData("text")||"").replace(/\r?\n/g," ");if(!(document.execCommand&&document.execCommand("insertText",!1,_e))){const $=window.getSelection&&window.getSelection();if($&&$.getRangeAt&&$.rangeCount){const Z=$.getRangeAt(0);Z.deleteContents(),Z.insertNode(document.createTextNode(_e))}else ge.currentTarget.textContent+=_e}}catch{}},className:"w-full h-full p-2 outline-none",style:{boxSizing:"border-box",background:S,color:j,fontSize:`${(((X=C.styles)==null?void 0:X.fontSize)||14)*i}px`,fontFamily:((T=C.styles)==null?void 0:T.fontFamily)||"Inter, system-ui, sans-serif",fontWeight:(q=C.styles)!=null&&q.bold?700:400,fontStyle:(me=C.styles)!=null&&me.italic?"italic":"normal",textDecoration:(Y=C.styles)!=null&&Y.underline?"underline":"none",textAlign:M,display:"flex",alignItems:R==="middle"?"center":R==="bottom"?"flex-end":"flex-start",justifyContent:M==="right"?"flex-end":M==="center"?"center":"flex-start",whiteSpace:"pre-wrap",wordBreak:"break-word",overflow:"hidden"},children:C.text}):o.jsx("div",{className:"w-full h-full p-2 select-none",style:{background:S,color:j,fontSize:`${(((V=C.styles)==null?void 0:V.fontSize)||14)*i}px`,fontFamily:((te=C.styles)==null?void 0:te.fontFamily)||"Inter, system-ui, sans-serif",fontWeight:(se=C.styles)!=null&&se.bold?700:400,fontStyle:(fe=C.styles)!=null&&fe.italic?"italic":"normal",textDecoration:(ce=C.styles)!=null&&ce.underline?"underline":"none",textAlign:M,whiteSpace:"pre-wrap",wordBreak:"break-word",overflow:"hidden",display:"flex",alignItems:R==="middle"?"center":R==="bottom"?"flex-end":"flex-start",justifyContent:M==="right"?"flex-end":M==="center"?"center":"flex-start"},children:C.text})},C.id)})})}function am({el:e,editing:t,onChange:n,stopEditing:r,scale:l=1}){var E;const[s,i]=I.useState(e.text),a=I.useRef(null);if(ae.useEffect(()=>{var N;t&&((N=a.current)==null||N.focus())},[t]),ae.useEffect(()=>{i(e.text)},[e.text]),t)return o.jsx(Uh,{ref:window.currentTextEditorRef,el:e,onChange:n,onBlur:r,scale:l});const c=e.bgColor||"transparent",p=((E=e.styles)==null?void 0:E.listStyle)||"none",g=N=>{const C=[["X",10],["IX",9],["V",5],["IV",4],["I",1]];let k="";for(const[f,d]of C)for(;N>=d;)k+=f,N-=d;return k},x=N=>p==="none"||!N?N:N.split(`
`).map((k,f)=>{if(!k.trim())return k;let d="";switch(p){case"bullet":d=" ";break;case"number":d=`${f+1}. `;break;case"roman":d=`${g(f+1)}. `;break;case"alpha":d=`${String.fromCharCode(65+f)}. `;break;default:d=""}return k.trim().startsWith("")||/^\d+\./.test(k.trim())||/^[A-Z]+\./.test(k.trim())||/^[IVX]+\./.test(k.trim())?k:d+k}).join(`
`),u=()=>{var C;switch(((C=e.styles)==null?void 0:C.valign)||"top"){case"top":return{justifyContent:"flex-start"};case"middle":return{justifyContent:"center"};case"bottom":return{justifyContent:"flex-end"};default:return{justifyContent:"flex-start"}}};if(!t){if(e.html){const f=e.styles||{},d=f.align||"left",h=!(e.text&&String(e.text).trim().length),v=()=>{switch(d){case"center":return"center";case"right":return"flex-end";case"justify":return"space-between";default:return"flex-start"}};return o.jsx("div",{className:"w-full h-full select-none p-2",style:{backgroundColor:c,fontFamily:f.fontFamily||"Inter, system-ui, sans-serif",fontSize:`${(f.fontSize||16)*l}px`,color:f.color||"#111827",fontWeight:f.bold?700:400,fontStyle:f.italic?"italic":"normal",textDecoration:f.underline?"underline":"none",overflow:"visible",display:"flex",flexDirection:"column",alignItems:v(),...u(),pointerEvents:"none"},children:h?o.jsx("div",{style:{width:"100%",textAlign:f.align||"left"},children:e.placeholder?o.jsx("span",{style:{color:"#9ca3af",fontWeight:e.placeholderBold?700:400},children:e.placeholder}):"Double-click to edit"}):o.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",textAlign:f.align||"left",textOverflow:"ellipsis",width:"100%"},dangerouslySetInnerHTML:{__html:e.html}})})}const N=e.styles||{},C=N.align||"left",k=()=>{switch(C){case"center":return"center";case"right":return"flex-end";case"justify":return"space-between";default:return"flex-start"}};return o.jsx("div",{className:"w-full h-full select-none p-2",style:{backgroundColor:c,fontFamily:N.fontFamily||"Inter, system-ui, sans-serif",color:N.color||"#111827",fontSize:`${(N.fontSize||16)*l}px`,fontWeight:N.bold?700:400,fontStyle:N.italic?"italic":"normal",textDecoration:N.underline?"underline":"none",overflow:"visible",display:"flex",flexDirection:"column",alignItems:k(),...u()},children:o.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",textAlign:N.align||"left",textOverflow:"ellipsis",width:"100%",pointerEvents:"none"},children:e.text&&e.text.trim().length?x(e.text):e.placeholder?o.jsx("span",{style:{color:"#9ca3af",fontWeight:e.placeholderBold?700:400},children:e.placeholder}):"Double-click to edit"})})}return o.jsx("textarea",{id:`text-box-${e.id}`,name:`text-box-${e.id}`,autoComplete:"off","aria-label":"Text box",ref:a,value:s,onChange:N=>i(N.target.value),onBlur:()=>{n({text:s}),r()},className:"w-full h-full resize-none outline-none p-2",style:{backgroundColor:c,fontFamily:e.styles.fontFamily,color:e.styles.color,fontSize:`${e.styles.fontSize*l}px`,fontWeight:e.styles.bold?700:400,fontStyle:e.styles.italic?"italic":"normal",textDecoration:e.styles.underline?"underline":"none",textAlign:e.styles.align||"left"}})}function cm({activeTab:e,onToggleSidebar:t,onPresent:n,onSlideShow:r}){var b,D,W,J,oe,le,xe,ke,tt,at,rt,Bt,He,gt,Ve,Tt,xt,Kn;const{state:l,dispatch:s}=zt(),{getThemeColors:i,isDark:a}=Oo(),c=i(),p=y=>`px-2 py-1 rounded-md tool-btn anim-zoom ${c.toolbarText} ${y?"is-active":""}`,g=y=>{const O=u&&u.type===y,U=a?`${c.elementGlass} ${O?c.elementActiveGlass:""}`:"";return`flex flex-col items-center gap-1 px-3 py-2 rounded-lg tool-btn anim-zoom ${c.toolbarText} ${U}`},x=l.slides.find(y=>y.id===l.currentSlideId),u=x==null?void 0:x.elements.find(y=>y.id===l.selectedElementId),[E,N]=I.useState(!1),[C,k]=I.useState(!1),[f,d]=I.useState(!1),[h,v]=I.useState(3),[S,j]=I.useState(3),[R,M]=I.useState(1),[L,_]=I.useState(1),H=I.useRef(null),F=I.useRef(null),[X,T]=I.useState({top:0,left:0}),[q,me]=I.useState(!1),[Y,V]=I.useState("bar"),[te,se]=I.useState(!1),[fe,ce]=I.useState("CONFIDENTIAL"),[ge,Re]=I.useState(.15),[_e,Pe]=I.useState(-30),[$,Z]=I.useState(64),[he,ue]=I.useState("#111827"),[be,Ee]=I.useState(!0),[Me,je]=I.useState({bold:!1,italic:!1,underline:!1}),[ze,Ce]=I.useState(!1),[qe,w]=I.useState(!1),P=I.useRef(null),B=I.useRef(null),[z,A]=I.useState(!1),G=I.useRef(null),ee=I.useRef(null),[re,pe]=I.useState({top:0,left:0}),We=[{name:"Sunset",background:"linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)",preview:{header:"#ffe1e6",block1:"#ffc2cc",block2:"#ffd9e1"}},{name:"Ocean",background:"linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%)",preview:{header:"#d6e9ff",block1:"#cfe0ff",block2:"#e0f3ff"}},{name:"Emerald",background:"linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%)",preview:{header:"#eafdd9",block1:"#dcf8c6",block2:"#c8efbb"}},{name:"Slate",background:"linear-gradient(135deg, #bdc3c7 0%, #2c3e50 100%)",preview:{header:"#e5eaed",block1:"#d3dde3",block2:"#c1cdd4"}},{name:"Peach",background:"linear-gradient(135deg, #f6d365 0%, #fda085 100%)",preview:{header:"#fff0cc",block1:"#ffe0b3",block2:"#ffd1a6"}},{name:"Grape",background:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)",preview:{header:"#efe6fb",block1:"#e2d3f6",block2:"#f7d8ee"}},{name:"Aurora",background:"linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)",preview:{header:"#d9fbf5",block1:"#cdeaf4",block2:"#e3d6f0"}},{name:"Mono",background:"linear-gradient(135deg, #e0e0e0 0%, #9e9e9e 100%)",preview:{header:"#f2f2f2",block1:"#e0e0e0",block2:"#cccccc"}}],Ze=y=>{const O=l.slides.findIndex(ie=>ie.id===l.currentSlideId);if(O<0)return;const U=l.currentSlideId,K=Math.max(0,O+4-l.slides.length);for(let ie=0;ie<K;ie++)s({type:"ADD_SLIDE"});K>0&&s({type:"SET_CURRENT_SLIDE",id:U}),l.slides.slice(O,O+4).map(ie=>ie.id).forEach(ie=>{s({type:"UPDATE_SLIDE_BACKGROUND",slideId:ie,background:y.background})})};I.useEffect(()=>{const y=()=>{w(window.innerWidth<1030)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),I.useEffect(()=>{const y=O=>{if((O.ctrlKey||O.metaKey)&&O.key==="z"&&!O.shiftKey){O.preventDefault(),s({type:"UNDO"});return}if((O.ctrlKey||O.metaKey)&&(O.key==="y"||O.key==="z"&&O.shiftKey)){O.preventDefault(),s({type:"REDO"});return}if((O.ctrlKey||O.metaKey)&&(O.key==="a"||O.key==="A")){const U=l.slides.find(de=>de.id===l.currentSlideId),K=U==null?void 0:U.elements.find(de=>de.id===l.selectedElementId);if(K){if(O.preventDefault(),K.type==="text"){try{window.dispatchEvent(new CustomEvent("editTextBox",{detail:{id:K.id}}))}catch{}setTimeout(()=>{const ie=we(),De=ie==null?void 0:ie.editorNode;De&&rn(De)},30);return}if(["rect","square","circle","triangle","diamond","star","message","roundRect","parallelogram","trapezoid","pentagon","hexagon","octagon","chevron","arrowRight","cloud"].includes(K.type)){try{window.dispatchEvent(new CustomEvent("editShapeText",{detail:{id:K.id}}))}catch{}setTimeout(()=>{const ie=document.querySelector(`[data-el-box][data-el-id="${K.id}"] textarea`);ie&&(ie.focus(),ie.select())},30);return}}O.preventDefault();return}if(O.key==="Delete"){O.preventDefault(),r();return}if(O.key==="F6"){O.preventDefault(),n();return}if(O.key==="Delete"||O.key==="Backspace"){const U=document.activeElement;!(U&&(U.tagName==="INPUT"||U.tagName==="TEXTAREA"||U.isContentEditable))&&u&&(O.preventDefault(),s({type:"DELETE_ELEMENT",id:u.id}))}};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[s,n,r,u]);const we=()=>{var y;return((y=window.currentTextEditorRef)==null?void 0:y.current)??null},Se=!!(u&&u.type==="text"&&we()),Je=y=>{try{return document.queryCommandState(y)}catch{return!1}},_t=()=>{var De,Gt,Mt;if(!u||u.type!=="text"){je({bold:!1,italic:!1,underline:!1});return}const y=we(),U=!!(u!=null&&u.html)?{bold:!1,italic:!1,underline:!1}:{bold:!!((De=u==null?void 0:u.styles)!=null&&De.bold),italic:!!((Gt=u==null?void 0:u.styles)!=null&&Gt.italic),underline:!!((Mt=u==null?void 0:u.styles)!=null&&Mt.underline)};if(!y){je(U);return}if(typeof y.isCollapsedSelection=="function"&&y.isCollapsedSelection()){typeof y.getTypingState=="function"&&je(y.getTypingState());return}if(typeof y.hasSelection=="function"&&y.hasSelection()){je({bold:Je("bold"),italic:Je("italic"),underline:Je("underline")});return}const K=y.editorNode??null,de=window.getSelection();if(!K||!de||de.rangeCount===0){je(U);return}const ie=de.getRangeAt(0);K.contains(ie.startContainer)&&K.contains(ie.endContainer)?je({bold:Je("bold"),italic:Je("italic"),underline:Je("underline")}):je(U)},un=(y,O=null)=>{const U=we();return U?(setTimeout(()=>{U.applyFormat(y,O),_t()},10),!0):!1},Vr=()=>{const y=we();if(!y)return!1;if(typeof y.hasSelection=="function")return y.hasSelection();const O=y.editorNode??null;if(!O)return!1;const U=window.getSelection();if(!U||U.rangeCount===0)return!1;const K=U.getRangeAt(0);return O.contains(K.startContainer)&&O.contains(K.endContainer)},Fe=y=>{y.preventDefault()},$t=()=>{var y;return((y=u==null?void 0:u.styles)==null?void 0:y.align)||"left"},Ft=()=>{var O;const y=we();if(y&&y.editorNode){const U=y.editorNode,K=window.getSelection();if(K&&K.rangeCount>0){let ie=K.getRangeAt(0).startContainer;for(ie.nodeType===Node.TEXT_NODE&&(ie=ie.parentElement);ie&&ie!==U;){if(ie.tagName==="UL"){const De=ie.style.listStyleType||"disc";return"bullet"}if(ie.tagName==="OL"){const De=ie.style.listStyleType||"decimal";return De==="upper-roman"?"roman":De==="upper-alpha"?"alpha":"number"}ie=ie.parentElement}}}return((O=u==null?void 0:u.styles)==null?void 0:O.listStyle)||"none"},nn=(y,O)=>{if(!u)return;const U=!Me[y],K=we(),de=(()=>{try{if(K&&typeof K.hasSelection=="function")return K.hasSelection()}catch{}return!1})();if(K&&de){un(O),typeof K.setTypingState=="function"&&K.setTypingState({[y]:U}),setTimeout(_t,20);return}const ie={...u.styles,[y]:U};if(s({type:"UPDATE_ELEMENT",id:u.id,patch:{styles:ie}}),K&&K.editorNode){const De=K.editorNode;y==="bold"&&(De.style.fontWeight=U?"700":"400"),y==="italic"&&(De.style.fontStyle=U?"italic":"normal"),y==="underline"&&(De.style.textDecoration=U?"underline":"none")}je(De=>({...De,[y]:U})),setTimeout(_t,20)},jn=y=>{if(!u||u.type!=="text")return;const O={...u.styles,align:y};s({type:"UPDATE_ELEMENT",id:u.id,patch:{styles:O}});const U=we();if(U&&U.editorNode){const K=U.editorNode;K.style.textAlign=y,K.focus(),typeof U.emitChange=="function"&&setTimeout(()=>{U.emitChange()},0)}},Cn=y=>{if(!u||u.type!=="text")return;const O={...u.styles,valign:y};s({type:"UPDATE_ELEMENT",id:u.id,patch:{styles:O}})},fr=(y="")=>y.replace(/\w\S*/g,O=>O.charAt(0).toUpperCase()+O.slice(1).toLowerCase()),kn=y=>{const O=we(),U=(K="")=>y==="upper"?K.toUpperCase():y==="lower"?K.toLowerCase():fr(K);if(O&&O.editorNode){const K=O.editorNode,de=ie=>{ie.nodeType===Node.TEXT_NODE?ie.nodeValue=U(ie.nodeValue):ie.nodeType===Node.ELEMENT_NODE&&ie.childNodes.forEach(de)};return de(K),typeof O.emitChange=="function"&&O.emitChange(),!0}if(u&&u.type==="text"&&!u.html){const K=U(u.text||"");return s({type:"UPDATE_ELEMENT",id:u.id,patch:{text:K}}),!0}return!1},Qn=y=>{if(!u)return;const O=we();if(u.type==="text"&&(O!=null&&O.applyFontFamily)&&Vr()){O.applyFontFamily(y);return}if(u.type==="text"){const U={...u.styles,fontFamily:y};s({type:"UPDATE_ELEMENT",id:u.id,patch:{styles:U}}),O&&O.editorNode&&setTimeout(()=>{O.editorNode.style.fontFamily=y},10);return}if(u.type==="table"){const U=u.cells.map(K=>({...K,styles:{...K.styles,fontFamily:y}}));s({type:"UPDATE_ELEMENT",id:u.id,patch:{cells:U}})}},Gn=y=>{if(!u||u.type!=="text")return;const O={...u.styles,fontSize:Number(y.target.value)};s({type:"UPDATE_ELEMENT",id:u.id,patch:{styles:O}})},et=y=>{if(!u||u.type!=="text")return;const O={...u.styles,color:y.target.value};s({type:"UPDATE_ELEMENT",id:u.id,patch:{styles:O}})},rn=y=>{const O=document.createRange();O.selectNodeContents(y);const U=window.getSelection();U.removeAllRanges(),U.addRange(O)},Nn=y=>{const O=[];return y.childNodes.forEach(U=>{U.nodeType===1&&(U.tagName==="UL"||U.tagName==="OL")&&O.push(U)}),O},Wo=y=>{y.querySelectorAll("ul, ol").forEach(U=>{const K=document.createDocumentFragment();U.querySelectorAll(":scope > li").forEach((de,ie,De)=>{for(;de.firstChild;)K.appendChild(de.firstChild);ie<De.length-1&&K.appendChild(document.createTextNode(`
`))}),U.replaceWith(K)})},Yn=(y,O)=>{Nn(y).forEach(U=>{(U.tagName==="UL"&&(O==="disc"||O==="circle"||O==="square")||U.tagName==="OL")&&(U.style.listStyleType=O,U.style.listStylePosition="inside",U.style.paddingInlineStart="1.25em",U.style.margin="0")})},Sn=y=>{if(!u||u.type!=="text")return;const O=we();if(O&&O.editorNode){const K=O.editorNode;K.focus(),window.getSelection(),setTimeout(()=>{try{y==="none"?(document.execCommand("insertOrderedList",!1,null),document.execCommand("insertUnorderedList",!1,null),Wo(K)):y==="bullet"||y==="bullet-circle"||y==="bullet-square"?(K.querySelector("ol")&&document.execCommand("insertOrderedList",!1,null),document.execCommand("insertUnorderedList",!1,null),Yn(K,y==="bullet-circle"?"circle":y==="bullet-square"?"square":"disc")):y==="number"?(K.querySelector("ul")&&document.execCommand("insertUnorderedList",!1,null),document.execCommand("insertOrderedList",!1,null),Yn(K,"decimal")):y==="roman"?(K.querySelector("ul")&&document.execCommand("insertUnorderedList",!1,null),document.execCommand("insertOrderedList",!1,null),Yn(K,"upper-roman")):y==="alpha"&&(K.querySelector("ul")&&document.execCommand("insertUnorderedList",!1,null),document.execCommand("insertOrderedList",!1,null),Yn(K,"upper-alpha"));const de=new Event("input",{bubbles:!0});K.dispatchEvent(de)}catch(de){console.warn("List formatting error:",de)}},10)}const U={...u.styles||{},listStyle:y};s({type:"UPDATE_ELEMENT",id:u.id,patch:{styles:U}})};I.useEffect(()=>{_t()},[u==null?void 0:u.id,(b=u==null?void 0:u.styles)==null?void 0:b.bold,(D=u==null?void 0:u.styles)==null?void 0:D.italic,(W=u==null?void 0:u.styles)==null?void 0:W.underline]),I.useEffect(()=>{const y=()=>{_t()};return document.addEventListener("selectionchange",y),()=>document.removeEventListener("selectionchange",y)},[u==null?void 0:u.id,(J=u==null?void 0:u.styles)==null?void 0:J.bold,(oe=u==null?void 0:u.styles)==null?void 0:oe.italic,(le=u==null?void 0:u.styles)==null?void 0:le.underline,(xe=u==null?void 0:u.styles)==null?void 0:xe.align,(ke=u==null?void 0:u.styles)==null?void 0:ke.listStyle]);const Ho=y=>{var K;const O=(K=y.target.files)==null?void 0:K[0];if(!O)return;const U=new FileReader;U.onload=()=>{const de=U.result;s({type:"UPDATE_SLIDE_BACKGROUND",slideId:l.currentSlideId,background:{type:"image",src:de,mode:"cover"}})},U.readAsDataURL(O),y.target.value=""};I.useEffect(()=>{const y=O=>{O.key==="Escape"&&ze&&Ce(!1)};if(ze)return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[ze]);const Uo=y=>{var K;const O=(K=y.target.files)==null?void 0:K[0];if(!O)return;const U=new FileReader;U.onload=()=>{const de=U.result,ie=new Image;ie.onload=()=>{const De=ie.naturalWidth||1,Gt=ie.naturalHeight||1,Mt=De/Gt,qn=960,hs=540,ms=qn*.33,Xo=qn*.6,Ra=hs*.6;let gs=Math.min(ms,Xo),Qo=gs/Mt;Qo>Ra&&(Qo=Ra,gs=Qo*Mt);const af=Le.image(de,Math.round(gs),Math.round(Qo));s({type:"ADD_ELEMENT",element:af})},ie.src=de},U.readAsDataURL(O),y.target.value=""},Xr=(y,O)=>{const de=Math.round(576),ie=Math.round(540*.5);let De=Math.max(50,Math.floor(de/O)),Gt=Math.max(28,Math.floor(ie/y)),Mt=De*O,qn=Gt*y;Mt>de&&(De=Math.floor(de/O),Mt=De*O),qn>ie&&(Gt=Math.floor(ie/y),qn=Gt*y);const hs=Math.round((960-Mt)/2),ms=Math.round((540-qn)/2),Xo=Le.table(y,O,hs,ms,Mt,qn);s({type:"ADD_ELEMENT",element:Xo}),s({type:"SELECT_ELEMENT",id:Xo.id}),d(!1),k(!1)},Vo=()=>{const y=Le.chart(Y,150,100,600,350);s({type:"ADD_ELEMENT",element:y}),me(!1)},m=()=>{s({type:"APPLY_WATERMARK",settings:{text:fe,fontSize:$,color:he,opacity:ge,rotation:_e},scope:be?"all":"current",replace:!0})};return I.useEffect(()=>{const y=()=>{var U,K;if(f){const de=(U=H.current)==null?void 0:U.getBoundingClientRect();de&&T({top:de.bottom+8,left:de.left})}if(z){const de=(K=G.current)==null?void 0:K.getBoundingClientRect();de&&pe({top:de.bottom+8,left:de.left})}},O=U=>{if(f){const K=H.current,de=F.current,ie=K&&(K===U.target||K.contains(U.target)),De=de&&(de===U.target||de.contains(U.target));ie||De||d(!1)}if(z){const K=G.current,de=ee.current,ie=K&&(K===U.target||K.contains(U.target)),De=de&&(de===U.target||de.contains(U.target));ie||De||A(!1)}};return window.addEventListener("resize",y),window.addEventListener("scroll",y,!0),document.addEventListener("mousedown",O),()=>{window.removeEventListener("resize",y),window.removeEventListener("scroll",y,!0),document.removeEventListener("mousedown",O)}},[f,z]),o.jsxs("div",{className:`w-full border-b px-1 py-1 flex items-center gap-2 sticky top-0 z-10 transition-all duration-500 ${c.border} animate-slideInDown responsive-toolbar overflow-hidden toolbar`,style:{background:c.toolbarBg,minHeight:"60px",maxHeight:"86px",height:"86px"},children:[o.jsx("button",{onClick:t,className:`px-2 py-1 rounded-lg ${c.glassButton} ${c.toolbarText} responsive-toolbar-button`,children:""}),o.jsx("div",{className:`h-6 w-px mx-1 ${c.toolbarTextMuted} opacity-30`,style:{backgroundColor:"currentColor"}}),o.jsx("button",{onClick:()=>s({type:"UNDO"}),disabled:l.historyIndex<=0,className:`px-2 py-1 rounded-lg ${l.historyIndex<=0?c.glassButtonDisabled:c.glassButton} ${c.toolbarText} responsive-toolbar-button`,title:"Undo (Ctrl+Z)",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M3 7v6h6"}),o.jsx("path",{d:"M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"})]})}),o.jsx("button",{onClick:()=>s({type:"REDO"}),disabled:l.historyIndex>=l.history.length-1,className:`px-2 py-1 rounded-lg ${l.historyIndex>=l.history.length-1?c.glassButtonDisabled:c.glassButton} ${c.toolbarText} responsive-toolbar-button`,title:"Redo (Ctrl+Y)",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M21 7v6h-6"}),o.jsx("path",{d:"M3 17 C 6 12, 9 8, 12 8 C 15 8, 18 9.7, 21 13"})]})}),e!=="Insert"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`h-6 w-px mx-1 ${c.toolbarTextMuted} opacity-30`,style:{backgroundColor:"currentColor"}}),o.jsx("button",{onClick:()=>s({type:"ADD_SLIDE"}),className:`px-3 py-1.5 rounded-lg tool-btn anim-zoom ${c.toolbarText} font-medium responsive-toolbar-button responsive-toolbar-text keep-default`,children:"+ New Slide"}),o.jsx("button",{onClick:()=>s({type:"ADD_ELEMENT",element:Le.text()}),className:`px-3 py-1.5 rounded-lg tool-btn anim-zoom font-medium transition-all duration-300 ${c.toolbarText} responsive-toolbar-button responsive-toolbar-text keep-default ${u&&u.type==="text"?"is-active":""}`,children:"+ Text"}),o.jsx("div",{className:`h-6 w-px mx-1 ${c.toolbarTextMuted} opacity-30`,style:{backgroundColor:"currentColor"}})]}),e==="Design"&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex items-center gap-2 responsive-toolbar-gap",children:[o.jsx("span",{className:`${c.toolbarTextSecondary} text-xs responsive-toolbar-text`,children:"Themes:"}),o.jsx("div",{className:"flex items-center gap-2",children:We.map((y,O)=>{var U,K,de,ie,De,Gt,Mt;return o.jsx("button",{onClick:()=>Ze(y),className:`${g("theme")} responsive-toolbar-button`,title:`${y.name}  applies to 4 slides`,children:o.jsxs("div",{className:"w-16 h-10 rounded border border-gray-300 overflow-hidden shadow-sm relative",style:{background:y.background},children:[o.jsx("div",{className:"absolute left-1 right-1 top-1 h-1.5 rounded",style:{background:((U=y.preview)==null?void 0:U.header)||"rgba(255,255,255,0.7)"}}),O%3===0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute left-1 top-3 w-1/2 h-4 rounded",style:{background:((K=y.preview)==null?void 0:K.block1)||"rgba(255,255,255,0.5)"}}),o.jsx("div",{className:"absolute right-1 top-3 w-1/3 h-4 rounded",style:{background:((de=y.preview)==null?void 0:de.block2)||"rgba(255,255,255,0.4)"}})]}),O%3===1&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute left-1 right-1 top-3 h-4 rounded",style:{background:((ie=y.preview)==null?void 0:ie.block1)||"rgba(255,255,255,0.45)"}}),o.jsx("div",{className:"absolute left-1 right-1 bottom-1 h-3 rounded",style:{background:((De=y.preview)==null?void 0:De.block2)||"rgba(255,255,255,0.35)"}})]}),O%3===2&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute left-1 top-3 w-1/3 h-5 rounded",style:{background:((Gt=y.preview)==null?void 0:Gt.block1)||"rgba(255,255,255,0.5)"}}),o.jsx("div",{className:"absolute left-1/2 top-3 w-1/3 h-5 rounded",style:{background:((Mt=y.preview)==null?void 0:Mt.block2)||"rgba(255,255,255,0.4)"}})]})]})},y.name)})})]})}),e==="Insert"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`h-6 w-px mx-1 ${c.toolbarTextMuted} opacity-30`,style:{backgroundColor:"currentColor"}}),o.jsx("button",{onClick:()=>s({type:"ADD_SLIDE"}),className:`px-3 py-1.5 rounded-lg tool-btn anim-zoom ${c.toolbarText} font-medium responsive-toolbar-button responsive-toolbar-text keep-default`,children:"+ New Slide"}),o.jsx("button",{onClick:()=>s({type:"ADD_ELEMENT",element:Le.text()}),className:`px-3 py-1.5 rounded-lg tool-btn anim-zoom font-medium transition-all duration-300 ${c.toolbarText} responsive-toolbar-button responsive-toolbar-text keep-default ${u&&u.type==="text"?"is-active":""}`,children:"+ Text"}),o.jsx("div",{className:`h-6 w-px mx-1 ${c.toolbarTextMuted} opacity-30`,style:{backgroundColor:"currentColor"}}),o.jsx("div",{className:"flex items-center gap-2 responsive-toolbar-gap",children:o.jsx("div",{className:"relative",children:o.jsxs("button",{ref:G,onClick:()=>{var O;const y=(O=G.current)==null?void 0:O.getBoundingClientRect();y&&pe({top:y.bottom+8,left:y.left}),A(U=>!U)},className:`${g("shapes")} responsive-toolbar-button`,title:"Add shape",children:[o.jsx("div",{className:"w-5 h-3 rounded-sm",style:{background:"#d1d5db",border:"1px solid #9ca3af"}}),o.jsx("span",{className:"text-xs responsive-toolbar-text",children:"Shapes"})]})})}),z&&mn.createPortal(o.jsxs("div",{ref:ee,className:"fixed bg-white border border-gray-300 rounded-lg shadow-xl p-3 z-[1000] grid grid-cols-4 gap-2",style:{top:re.top,left:re.left},children:[o.jsx("button",{onClick:()=>{const y=Le.rect();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Rectangle",children:o.jsx("div",{className:"w-8 h-5 rounded-sm",style:{background:"#fde68a",border:"1px solid #f59e0b"}})}),o.jsx("button",{onClick:()=>{const y=Le.square();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Square",children:o.jsx("div",{className:"w-6 h-6 rounded-sm",style:{background:"#fde68a",border:"1px solid #f59e0b"}})}),o.jsx("button",{onClick:()=>{const y=Le.circle();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Circle",children:o.jsx("div",{className:"w-6 h-6 rounded-full",style:{background:"#bfdbfe",border:"1px solid #3b82f6"}})}),o.jsx("button",{onClick:()=>{const y=Le.triangle();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Triangle",children:o.jsx("div",{className:"w-6 h-6",style:{background:"#fecaca",border:"1px solid #ef4444",clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)"}})}),o.jsx("button",{onClick:()=>{const y=Le.diamond();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Diamond",children:o.jsx("div",{className:"w-6 h-6",style:{background:"#d8b4fe",border:"1px solid #8b5cf6",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)"}})}),o.jsx("button",{onClick:()=>{const y=Le.star();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Star",children:o.jsx("div",{className:"w-6 h-6",style:{background:"#fef3c7",border:"1px solid #f59e0b",clipPath:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)"}})}),o.jsx("button",{onClick:()=>{const y=Le.message();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Message",children:o.jsx("div",{className:"w-10 h-6 rounded relative",style:{background:"#d1fae5",border:"1px solid #10b981"},children:o.jsx("div",{className:"absolute bottom-0 left-1 w-0 h-0",style:{borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"8px solid #10b981"}})})}),o.jsx("button",{onClick:()=>{const y=Le.roundRect();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Rounded Rect",children:o.jsx("div",{className:"w-8 h-5 rounded-lg",style:{background:"#e5e7eb",border:"1px solid #6b7280"}})}),o.jsx("button",{onClick:()=>{const y=Le.parallelogram();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Parallelogram",children:o.jsx("div",{className:"w-8 h-5",style:{background:"#d1fae5",border:"1px solid #10b981",clipPath:"polygon(20% 0%, 100% 0%, 80% 100%, 0% 100%)"}})}),o.jsx("button",{onClick:()=>{const y=Le.trapezoid();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Trapezoid",children:o.jsx("div",{className:"w-8 h-5",style:{background:"#bae6fd",border:"1px solid #3b82f6",clipPath:"polygon(10% 0%, 90% 0%, 100% 100%, 0% 100%)"}})}),o.jsx("button",{onClick:()=>{const y=Le.pentagon();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Pentagon",children:o.jsx("div",{className:"w-6 h-6",style:{background:"#fde68a",border:"1px solid #f59e0b",clipPath:"polygon(50% 0%, 100% 38%, 81% 100%, 19% 100%, 0% 38%)"}})}),o.jsx("button",{onClick:()=>{const y=Le.hexagon();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Hexagon",children:o.jsx("div",{className:"w-8 h-5",style:{background:"#fbcfe8",border:"1px solid #ec4899",clipPath:"polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%)"}})}),o.jsx("button",{onClick:()=>{const y=Le.octagon();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Octagon",children:o.jsx("div",{className:"w-6 h-6",style:{background:"#fecaca",border:"1px solid #ef4444",clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)"}})}),o.jsx("button",{onClick:()=>{const y=Le.chevron();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Chevron",children:o.jsx("div",{className:"w-8 h-5",style:{background:"#ddd6fe",border:"1px solid #8b5cf6",clipPath:"polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%)"}})}),o.jsx("button",{onClick:()=>{const y=Le.arrowRight();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Arrow Right",children:o.jsx("div",{className:"w-8 h-5",style:{background:"#bbf7d0",border:"1px solid #22c55e",clipPath:"polygon(0% 0%, 80% 0%, 80% 25%, 100% 50%, 80% 75%, 80% 100%, 0% 100%, 0% 0%)"}})}),o.jsx("button",{onClick:()=>{const y=Le.cloud();s({type:"ADD_ELEMENT",element:y}),s({type:"SELECT_ELEMENT",id:y.id}),A(!1)},className:"p-2 rounded hover:bg-gray-100",title:"Cloud",children:o.jsx("div",{className:"w-8 h-5",style:{background:"#e0f2fe",border:"1px solid #38bdf8",clipPath:"polygon(10% 60%, 20% 45%, 35% 40%, 45% 25%, 60% 30%, 70% 45%, 85% 50%, 90% 65%, 80% 80%, 60% 85%, 40% 80%, 25% 75%)"}})})]}),document.body),o.jsxs("button",{onClick:()=>{var y;return(y=P.current)==null?void 0:y.click()},className:`${g("image")} w-16 responsive-toolbar-button keep-default`,children:[o.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),o.jsx("path",{d:"M6 17 L11 12 L18 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),o.jsx("span",{className:"text-xs responsive-toolbar-text keep-default show-label",children:"Image"})]}),o.jsxs("button",{onClick:()=>{var y;return(y=B.current)==null?void 0:y.click()},className:`${g("bgimage")} w-20 responsive-toolbar-button keep-default`,title:"Set Slide Background Image",children:[o.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("path",{d:"M4 16 L10 10 L14 14 L20 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),o.jsx("span",{className:"text-xs responsive-toolbar-text keep-default show-label",children:"BG Image"})]}),o.jsx("input",{ref:P,type:"file",accept:"image/*",className:"hidden",onChange:Uo}),o.jsx("input",{ref:B,type:"file",accept:"image/*",className:"hidden",onChange:Ho}),o.jsxs("button",{onClick:()=>se(!0),className:`${g("watermark")} w-16 responsive-toolbar-button keep-default`,title:"Insert Watermark",children:[o.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("text",{x:"6",y:"16",fontSize:"8",fill:"currentColor",opacity:"0.6",children:"WM"})]}),o.jsx("span",{className:"text-xs responsive-toolbar-text keep-default show-label",children:"Watermark"})]}),te&&mn.createPortal(o.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>se(!1)}),o.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl border border-gray-300 w-[420px] p-4",children:[o.jsx("div",{className:"text-base font-semibold mb-3",children:"Insert Watermark"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Text"}),o.jsx("input",{type:"text",value:fe,onChange:y=>ce(y.target.value),className:"w-full border rounded px-2 py-1",placeholder:"CONFIDENTIAL"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Font Size"}),o.jsx("input",{type:"number",min:"12",max:"200",value:$,onChange:y=>Z(Number(y.target.value)||64),className:"w-full border rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Opacity"}),o.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"1",value:ge,onChange:y=>Re(Math.max(.05,Math.min(1,Number(y.target.value)||.15))),className:"w-full border rounded px-2 py-1"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Rotation (deg)"}),o.jsx("input",{type:"number",min:"-90",max:"90",value:_e,onChange:y=>Pe(Number(y.target.value)||-30),className:"w-full border rounded px-2 py-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Color"}),o.jsx("input",{type:"color",value:he,onChange:y=>ue(y.target.value),className:"w-full h-[34px] border rounded"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{id:"wmAll",type:"checkbox",checked:be,onChange:y=>Ee(y.target.checked)}),o.jsx("label",{htmlFor:"wmAll",className:"text-sm",children:"Apply to all slides"})]})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>se(!1),className:"px-3 py-1.5 rounded border",children:"Cancel"}),o.jsx("button",{onClick:()=>{s({type:"REMOVE_WATERMARK",scope:be?"all":"current"})},className:"px-3 py-1.5 rounded border text-red-600",children:"Remove"}),o.jsx("button",{onClick:()=>{m(),se(!1)},className:"px-3 py-1.5 rounded bg-black text-white",children:"Apply"})]})]})]}),document.body),o.jsx("div",{className:"relative",children:o.jsxs("button",{ref:H,onClick:()=>{var O;const y=(O=H.current)==null?void 0:O.getBoundingClientRect();y&&T({top:y.bottom+8,left:y.left}),d(U=>!U)},className:`${g("table")} w-16 responsive-toolbar-button keep-default`,children:[o.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),o.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),o.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),o.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"})]}),o.jsx("span",{className:"text-xs responsive-toolbar-text keep-default show-label",children:"Table"})]})}),f&&mn.createPortal(o.jsxs("div",{ref:F,className:"fixed bg-white border border-gray-300 rounded-lg shadow-xl p-4 z-[1000]",style:{top:X.top,left:X.left},onClick:y=>y.stopPropagation(),children:[o.jsx("div",{className:"text-sm font-semibold mb-3",children:"Insert Table"}),o.jsx("div",{className:"grid gap-0.5",style:{gridTemplateColumns:"repeat(10, 1fr)"},children:Array.from({length:80},(y,O)=>{const U=Math.floor(O/10)+1,K=O%10+1,de=U<=R&&K<=L;return o.jsx("div",{onMouseEnter:()=>{M(U),_(K)},onClick:()=>{Xr(U,K),d(!1)},className:`w-5 h-5 border border-gray-300 cursor-pointer ${de?"bg-brand-400":"bg-white hover:bg-gray-100"}`},O)})}),o.jsxs("div",{className:"text-xs text-gray-600 mt-2 text-center",children:[R,"  ",L," Table"]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:o.jsxs("button",{onClick:()=>{k(!0),d(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded flex items-center gap-2",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),o.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),o.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),o.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"})]}),"Insert Table..."]})})]}),document.body),o.jsxs("button",{onClick:()=>me(!0),className:`${g("chart")} w-16 responsive-toolbar-button keep-default`,children:[o.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("rect",{x:"7",y:"10",width:"2",height:"7",fill:"currentColor",rx:"0.5"}),o.jsx("rect",{x:"11",y:"7",width:"2",height:"10",fill:"currentColor",rx:"0.5"}),o.jsx("rect",{x:"15",y:"13",width:"2",height:"4",fill:"currentColor",rx:"0.5"})]}),o.jsx("span",{className:"text-xs responsive-toolbar-text keep-default show-label",children:"Chart"})]}),o.jsxs("label",{className:`${g("background")} w-16 cursor-pointer responsive-toolbar-button keep-default`,children:[o.jsx("svg",{width:"32",height:"32",viewBox:"0 0 512 512",fill:"none",children:o.jsx("path",{fill:"currentColor",d:"M512 256c0 .9 0 1.8 0 2.7-.4 36.5-33.6 61.3-70.1 61.3L344 320c-26.5 0-48 21.5-48 48 0 3.4 .4 6.7 1 9.9 2.1 10.2 6.5 20 10.8 29.9 6.1 13.8 12.1 27.5 12.1 42 0 31.8-21.6 60.7-53.4 62-3.5 .1-7 .2-10.6 .2-141.4 0-256-114.6-256-256S114.6 0 256 0 512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"})}),o.jsx("span",{className:"text-xs responsive-toolbar-text keep-default show-label",children:"Background"}),o.jsx("input",{type:"color",value:(x==null?void 0:x.background)||"#ffffff",onChange:y=>{s({type:"UPDATE_SLIDE_BACKGROUND",slideId:l.currentSlideId,background:y.target.value})},className:"absolute opacity-0 w-0 h-0"})]}),o.jsx("div",{className:`h-6 w-px mx-1 ${c.toolbarTextMuted} opacity-30`,style:{backgroundColor:"currentColor"}}),o.jsxs("div",{className:"flex flex-col items-center gap-1",children:[o.jsx("span",{className:`text-[10px] ${c.toolbarTextSecondary} font-medium`}),o.jsxs("div",{className:"flex gap-1",id:"list-itmes",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>Sn("none"),className:p(Ft()==="none"),title:"No List",disabled:!u||u.type!=="text",children:""}),o.jsx("span",{className:`text-[9px] ${c.toolbarTextMuted}`,children:"None"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>Sn("bullet"),className:p(Ft()==="bullet"),title:"Bullet List",disabled:!u||u.type!=="text",children:""}),o.jsx("span",{className:`text-[9px] ${c.toolbarTextMuted}`,children:"Dots"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>Sn("number"),className:p(Ft()==="number"),title:"Numbered List",disabled:!u||u.type!=="text",children:"1."}),o.jsx("span",{className:`text-[9px] ${c.toolbarTextMuted}`,children:"Numbers"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>Sn("roman"),className:p(Ft()==="roman"),title:"Roman Numerals",disabled:!u||u.type!=="text",children:"I."}),o.jsx("span",{className:`text-[9px] ${c.toolbarTextMuted}`,children:"Roman"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>Sn("alpha"),className:p(Ft()==="alpha"),title:"Alphabetical List",disabled:!u||u.type!=="text",children:"A."}),o.jsx("span",{className:`text-[9px] ${c.toolbarTextMuted}`,children:"Alphabets"})]})]})]}),o.jsx("div",{className:"flex-1"})]}),e==="Home"&&o.jsxs("div",{className:"flex items-center gap-2 text-sm responsive-toolbar-gap overflow-hidden",children:[o.jsxs("select",{value:(u==null?void 0:u.type)==="text"?((tt=u==null?void 0:u.styles)==null?void 0:tt.fontFamily)||"Inter, system-ui, sans-serif":(u==null?void 0:u.type)==="table"&&((Bt=(rt=(at=u==null?void 0:u.cells)==null?void 0:at[0])==null?void 0:rt.styles)==null?void 0:Bt.fontFamily)||"Inter, system-ui, sans-serif",onChange:y=>Qn(y.target.value),className:`px-2 py-1 rounded-lg ${c.glassButton} ${c.toolbarText} text-sm min-w-[100px] responsive-toolbar-button responsive-toolbar-text ${a?"dark-theme-dropdown":"light-theme-dropdown"} keep-default`,disabled:!u||u.type!=="text"&&u.type!=="table",children:[o.jsx("option",{value:"Inter, system-ui, sans-serif",children:"Inter"}),o.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),o.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),o.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),o.jsx("option",{value:"Georgia, serif",children:"Georgia"}),o.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"})]}),o.jsx("label",{className:`${c.toolbarTextSecondary} text-xs responsive-toolbar-text`,children:"Size"}),o.jsx("input",{type:"number",min:"8",max:"96",step:"1",value:((He=u==null?void 0:u.styles)==null?void 0:He.fontSize)??28,onChange:Gn,className:`w-16 px-1 py-1 rounded-lg ${c.glassButton} ${c.toolbarText} text-sm responsive-toolbar-button responsive-toolbar-text keep-default`,disabled:!u||u.type!=="text"}),o.jsx("label",{className:`${c.toolbarTextSecondary} text-xs responsive-toolbar-text`,children:"Text"}),o.jsxs("label",{className:`relative cursor-pointer inline-flex items-center justify-center w-8 h-8 rounded-lg ${c.glassButton} hover:${c.glassButton} responsive-toolbar-button`,title:"Text Color",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:((gt=u==null?void 0:u.styles)==null?void 0:gt.color)??"#111827",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}),o.jsx("path",{d:"m5 2 5 5"}),o.jsx("path",{d:"M2 13h15"}),o.jsx("path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"})]}),o.jsx("input",{type:"color",value:((Ve=u==null?void 0:u.styles)==null?void 0:Ve.color)??"#111827",onChange:et,className:"absolute opacity-0 w-0 h-0",disabled:!u||u.type!=="text"})]}),o.jsx("button",{onMouseDown:Fe,onClick:()=>nn("bold","bold"),className:`${p(Me.bold)} responsive-toolbar-button responsive-toolbar-text ${Se?"":"opacity-50 cursor-not-allowed"}`,disabled:!Se,children:"B"}),o.jsx("button",{onMouseDown:Fe,onClick:()=>nn("italic","italic"),className:`${p(Me.italic)} responsive-toolbar-button responsive-toolbar-text ${Se?"":"opacity-50 cursor-not-allowed"}`,disabled:!Se,children:o.jsx("i",{children:"I"})}),o.jsx("button",{onMouseDown:Fe,onClick:()=>nn("underline","underline"),className:`${p(Me.underline)} responsive-toolbar-button responsive-toolbar-text ${Se?"":"opacity-50 cursor-not-allowed"}`,disabled:!Se,children:o.jsx("u",{children:"U"})}),o.jsx("div",{className:`h-6 w-px mx-1 ${c.toolbarTextMuted} opacity-30`,style:{backgroundColor:"currentColor"}}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>kn("title"),className:`${p(!1)} responsive-toolbar-button responsive-toolbar-text ${Se?"":"opacity-50 cursor-not-allowed"}`,title:"Title Case",disabled:!Se,children:"Aa"}),o.jsx("button",{onMouseDown:Fe,onClick:()=>kn("upper"),className:`${p(!1)} responsive-toolbar-button responsive-toolbar-text ${Se?"":"opacity-50 cursor-not-allowed"}`,title:"UPPER CASE",disabled:!Se,children:"AA"}),o.jsx("button",{onMouseDown:Fe,onClick:()=>kn("lower"),className:`${p(!1)} responsive-toolbar-button responsive-toolbar-text ${Se?"":"opacity-50 cursor-not-allowed"}`,title:"lower case",disabled:!Se,children:"aa"})]}),o.jsx("div",{className:`h-6 w-px mx-1 ${c.toolbarTextMuted} opacity-30`,style:{backgroundColor:"currentColor"}}),o.jsxs("div",{className:"flex flex-col items-center gap-1 responsive-alignment-section",children:[o.jsx("span",{className:`text-[8px] ${c.toolbarTextMuted} font-medium responsive-alignment-text`,children:"H-Alignment"}),o.jsxs("div",{className:"flex gap-1 responsive-toolbar-gap",children:[o.jsxs("div",{className:"flex flex-col items-center responsive-alignment-section",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>jn("left"),className:`${p($t()==="left")} responsive-toolbar-button force-black`,disabled:!u||u.type!=="text",children:""}),o.jsx("span",{className:`text-[7px] ${c.toolbarTextMuted} responsive-alignment-text`,children:"Left"})]}),o.jsxs("div",{className:"flex flex-col items-center responsive-alignment-section",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>jn("center"),className:`${p($t()==="center")} responsive-toolbar-button`,disabled:!u||u.type!=="text",children:""}),o.jsx("span",{className:`text-[7px] ${c.toolbarTextMuted} responsive-alignment-text`,children:"Center"})]}),o.jsxs("div",{className:"flex flex-col items-center responsive-alignment-section",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>jn("right"),className:`${p($t()==="right")} responsive-toolbar-button`,disabled:!u||u.type!=="text",children:""}),o.jsx("span",{className:`text-[7px] ${c.toolbarTextMuted} responsive-alignment-text`,children:"Right"})]})]})]}),o.jsxs("div",{className:"flex flex-col items-center gap-1 responsive-alignment-section",children:[o.jsx("span",{className:`text-[8px] ${c.toolbarTextMuted} font-medium responsive-alignment-text`,children:"V-Alignment"}),o.jsxs("div",{className:"flex gap-1 responsive-toolbar-gap",children:[o.jsxs("div",{className:"flex flex-col items-center responsive-alignment-section",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>Cn("top"),className:`${p(((Tt=u==null?void 0:u.styles)==null?void 0:Tt.valign)==="top")} responsive-toolbar-button`,disabled:!u||u.type!=="text",children:""}),o.jsx("span",{className:`text-[7px] ${c.toolbarTextMuted} responsive-alignment-text`,children:"Top"})]}),o.jsxs("div",{className:"flex flex-col items-center responsive-alignment-section",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>Cn("middle"),className:`${p(((xt=u==null?void 0:u.styles)==null?void 0:xt.valign)==="middle")} responsive-toolbar-button`,disabled:!u||u.type!=="text",children:""}),o.jsx("span",{className:`text-[7px] ${c.toolbarTextMuted} responsive-alignment-text`,children:"Middle"})]}),o.jsxs("div",{className:"flex flex-col items-center responsive-alignment-section",children:[o.jsx("button",{onMouseDown:Fe,onClick:()=>Cn("bottom"),className:`${p(((Kn=u==null?void 0:u.styles)==null?void 0:Kn.valign)==="bottom")} responsive-toolbar-button`,disabled:!u||u.type!=="text",children:""}),o.jsx("span",{className:`text-[7px] ${c.toolbarTextMuted} responsive-alignment-text`,children:"Bottom"})]})]})]}),o.jsx("div",{className:`h-6 w-px mx-1 ${c.toolbarTextMuted} opacity-30`,style:{backgroundColor:"currentColor"}})]}),o.jsx("div",{className:"ml-auto flex items-center gap-2 responsive-toolbar-gap",children:o.jsxs("button",{onClick:n,className:`px-3 py-1.5 rounded-lg ${c.glassButton} ${c.toolbarText} font-medium responsive-toolbar-button responsive-toolbar-text force-border items-center justify-center gap-2 text-center`,title:"Start Manual Presentation (F6)",children:[o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M15 3l4 6-4 6-1.5-1.5L16 10H4V8h12l-2.5-3.5z"})}),o.jsx("span",{children:"Present"})]})}),q&&mn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[1000] flex items-center justify-center",onClick:()=>me(!1),children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-96 relative z-[1001]",onClick:y=>y.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Insert Chart"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart Type"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("button",{onClick:()=>V("bar"),className:`p-4 border-2 rounded-lg flex flex-col items-center gap-2 ${Y==="bar"?"border-brand-500 bg-brand-50":"border-gray-300 hover:border-brand-300"}`,children:[o.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M8 10v7"}),o.jsx("path",{d:"M12 7v10"}),o.jsx("path",{d:"M16 13v4"})]}),o.jsx("span",{className:"text-xs",children:"Bar Chart"})]}),o.jsxs("button",{onClick:()=>V("line"),className:`p-4 border-2 rounded-lg flex flex-col items-center gap-2 ${Y==="line"?"border-brand-500 bg-brand-50":"border-gray-300 hover:border-brand-300"}`,children:[o.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("polyline",{points:"4 17 8 13 12 15 16 9 20 13"})}),o.jsx("span",{className:"text-xs",children:"Line Chart"})]}),o.jsxs("button",{onClick:()=>V("pie"),className:`p-4 border-2 rounded-lg flex flex-col items-center gap-2 ${Y==="pie"?"border-brand-500 bg-brand-50":"border-gray-300 hover:border-brand-300"}`,children:[o.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M12 2v10l7 4"})]}),o.jsx("span",{className:"text-xs",children:"Pie Chart"})]})]})]})}),o.jsxs("div",{className:"flex gap-2 mt-6",children:[o.jsx("button",{onClick:Vo,className:"flex-1 px-4 py-2 bg-black text-white rounded hover:bg-gray-900",children:"Insert"}),o.jsx("button",{onClick:()=>me(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]})]})}),document.body),C&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:()=>k(!1),children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-80",onClick:y=>y.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Insert Table"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rows"}),o.jsx("input",{type:"number",min:"1",max:"20",value:h,onChange:y=>v(Math.max(1,parseInt(y.target.value)||1)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Columns"}),o.jsx("input",{type:"number",min:"1",max:"20",value:S,onChange:y=>j(Math.max(1,parseInt(y.target.value)||1)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),o.jsxs("div",{className:"flex gap-2 mt-6",children:[o.jsx("button",{onClick:()=>{Xr(h,S),d(!1)},className:"flex-1 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600",children:"Insert"}),o.jsx("button",{onClick:()=>{k(!1),d(!1)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})}),ze&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:()=>Ce(!1),children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-80",onClick:y=>y.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Select Shape"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:()=>{s({type:"ADD_ELEMENT",element:Le.roundRect()}),Ce(!1)},className:"flex flex-col items-center gap-2 p-4 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",title:"Rounded Rectangle",children:[o.jsx("div",{className:"w-10 h-6 rounded-lg",style:{background:"#e5e7eb",border:"2px solid #6b7280"}}),o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Rounded Rect"})]}),o.jsxs("button",{onClick:()=>{s({type:"ADD_ELEMENT",element:Le.parallelogram()}),Ce(!1)},className:"flex flex-col items-center gap-2 p-4 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",title:"Parallelogram",children:[o.jsx("div",{className:"w-10 h-6",style:{background:"#d1fae5",border:"2px solid #10b981",clipPath:"polygon(20% 0%, 100% 0%, 80% 100%, 0% 100%)"}}),o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Parallelogram"})]}),o.jsxs("button",{onClick:()=>{s({type:"ADD_ELEMENT",element:Le.trapezoid()}),Ce(!1)},className:"flex flex-col items-center gap-2 p-4 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",title:"Trapezoid",children:[o.jsx("div",{className:"w-10 h-6",style:{background:"#bae6fd",border:"2px solid #3b82f6",clipPath:"polygon(10% 0%, 90% 0%, 100% 100%, 0% 100%)"}}),o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Trapezoid"})]}),o.jsxs("button",{onClick:()=>{s({type:"ADD_ELEMENT",element:Le.pentagon()}),Ce(!1)},className:"flex flex-col items-center gap-2 p-4 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",title:"Pentagon",children:[o.jsx("div",{className:"w-8 h-8",style:{background:"#fde68a",border:"2px solid #f59e0b",clipPath:"polygon(50% 0%, 100% 38%, 81% 100%, 19% 100%, 0% 38%)"}}),o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Pentagon"})]}),o.jsxs("button",{onClick:()=>{s({type:"ADD_ELEMENT",element:Le.hexagon()}),Ce(!1)},className:"flex flex-col items-center gap-2 p-4 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",title:"Hexagon",children:[o.jsx("div",{className:"w-10 h-6",style:{background:"#fbcfe8",border:"2px solid #ec4899",clipPath:"polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%)"}}),o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Hexagon"})]}),o.jsxs("button",{onClick:()=>{s({type:"ADD_ELEMENT",element:Le.octagon()}),Ce(!1)},className:"flex flex-col items-center gap-2 p-4 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",title:"Octagon",children:[o.jsx("div",{className:"w-8 h-8",style:{background:"#fecaca",border:"2px solid #ef4444",clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)"}}),o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Octagon"})]}),o.jsxs("button",{onClick:()=>{s({type:"ADD_ELEMENT",element:Le.chevron()}),Ce(!1)},className:"flex flex-col items-center gap-2 p-4 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",title:"Chevron",children:[o.jsx("div",{className:"w-10 h-6",style:{background:"#ddd6fe",border:"2px solid #8b5cf6",clipPath:"polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%)"}}),o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Chevron"})]}),o.jsxs("button",{onClick:()=>{s({type:"ADD_ELEMENT",element:Le.arrowRight()}),Ce(!1)},className:"flex flex-col items-center gap-2 p-4 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",title:"Arrow Right",children:[o.jsx("div",{className:"w-10 h-6",style:{background:"#bbf7d0",border:"2px solid #22c55e",clipPath:"polygon(0% 0%, 80% 0%, 80% 25%, 100% 50%, 80% 75%, 80% 100%, 0% 100%, 0% 0%)"}}),o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Arrow"})]}),o.jsxs("button",{onClick:()=>{s({type:"ADD_ELEMENT",element:Le.cloud()}),Ce(!1)},className:"flex flex-col items-center gap-2 p-4 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",title:"Cloud",children:[o.jsx("div",{className:"w-10 h-6",style:{background:"#e0f2fe",border:"2px solid #38bdf8",clipPath:"polygon(10% 60%, 20% 45%, 35% 40%, 45% 25%, 60% 30%, 70% 45%, 85% 50%, 90% 65%, 80% 80%, 60% 85%, 40% 80%, 25% 75%)"}}),o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Cloud"})]})]}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx("button",{onClick:()=>Ce(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})]})}function ro({applyToCurrent:e=!1}){const{dispatch:t}=zt(),n=(g,x,u,E,N,C=28,k="transparent",f="left")=>({id:Ie(),type:"text",x,y:u,w:E,h:N,rotation:0,text:g,bgColor:k,styles:{fontFamily:"Inter, system-ui, sans-serif",fontSize:C,color:"#111827",bold:!1,italic:!1,underline:!1,align:f}}),r=[{name:"Title Slide",description:"First slide",preview:o.jsxs("div",{className:"w-full h-full bg-white p-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-3/4 h-2 bg-blue-400 mb-2"}),o.jsx("div",{className:"w-1/2 h-1.5 bg-blue-300"})]})},{name:"Title + Subtitle",description:"Most common",preview:o.jsxs("div",{className:"w-full h-full bg-white p-2",children:[o.jsx("div",{className:"w-full h-1.5 bg-blue-400 mb-2"}),o.jsx("div",{className:"w-full h-8 bg-gray-200 rounded"})]})},{name:"Section Header",description:"New section",preview:o.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-purple-200 to-blue-200 p-2 flex flex-col justify-center",children:[o.jsx("div",{className:"w-3/4 h-2 bg-purple-500 mb-1"}),o.jsx("div",{className:"w-1/2 h-1 bg-purple-400"})]})},{name:"Title Only",description:"Minimal layout",preview:o.jsx("div",{className:"w-full h-full bg-white p-2",children:o.jsx("div",{className:"w-full h-1.5 bg-blue-400"})})},{name:"Two Content",description:"Side by side",preview:o.jsxs("div",{className:"w-full h-full bg-white p-2",children:[o.jsx("div",{className:"w-full h-1.5 bg-blue-400 mb-1"}),o.jsxs("div",{className:"flex gap-1 h-8",children:[o.jsx("div",{className:"flex-1 bg-gray-200 rounded"}),o.jsx("div",{className:"flex-1 bg-gray-200 rounded"})]})]})},{name:"Comparison",description:"Labeled boxes",preview:o.jsxs("div",{className:"w-full h-full bg-white p-2",children:[o.jsx("div",{className:"w-full h-1.5 bg-blue-400 mb-1"}),o.jsxs("div",{className:"flex gap-1 h-8",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-1 bg-green-400 mb-0.5"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-1 bg-red-400 mb-0.5"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded"})]})]})]})},{name:"Blank Slide",description:"Custom content",preview:o.jsx("div",{className:"w-full h-full bg-white border-2 border-dashed border-gray-300"})},{name:"Content + Caption",description:"Text beside",preview:o.jsxs("div",{className:"w-full h-full bg-white p-2",children:[o.jsx("div",{className:"w-full h-1.5 bg-blue-400 mb-1"}),o.jsxs("div",{className:"flex gap-1 h-8",children:[o.jsx("div",{className:"w-2/3 bg-gray-200 rounded"}),o.jsx("div",{className:"w-1/3 bg-gray-100 rounded"})]})]})},{name:"Picture + Caption",description:"Large image",preview:o.jsxs("div",{className:"w-full h-full bg-white p-2",children:[o.jsx("div",{className:"w-full h-1.5 bg-blue-400 mb-1"}),o.jsxs("div",{className:"flex gap-1 h-8",children:[o.jsx("div",{className:"w-3/4 bg-gradient-to-br from-blue-200 to-purple-200 rounded"}),o.jsx("div",{className:"w-1/4 bg-gray-100 rounded"})]})]})},{name:"Title + Picture",description:"Image focus",preview:o.jsxs("div",{className:"w-full h-full bg-white p-2",children:[o.jsx("div",{className:"w-full h-1.5 bg-blue-400 mb-1"}),o.jsx("div",{className:"w-full h-8 bg-gradient-to-br from-green-200 to-blue-200 rounded"})]})},{name:"Quote Slide",description:"Quotations",preview:o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-yellow-100 to-orange-100 p-2 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-1 bg-orange-400 mx-auto mb-1"}),o.jsx("div",{className:"w-6 h-0.5 bg-orange-300 mx-auto"})]})})},{name:"Chart / Graph",description:"Data visuals",preview:o.jsxs("div",{className:"w-full h-full bg-white p-2",children:[o.jsx("div",{className:"w-full h-1.5 bg-blue-400 mb-1"}),o.jsxs("div",{className:"w-full h-8 bg-gray-100 rounded flex items-end justify-around p-1",children:[o.jsx("div",{className:"w-1 bg-blue-400 h-4"}),o.jsx("div",{className:"w-1 bg-green-400 h-6"}),o.jsx("div",{className:"w-1 bg-red-400 h-3"}),o.jsx("div",{className:"w-1 bg-yellow-400 h-5"})]})]})},{name:"SmartArt / Process",description:"Workflows",preview:o.jsxs("div",{className:"w-full h-full bg-white p-2",children:[o.jsx("div",{className:"w-full h-1.5 bg-blue-400 mb-1"}),o.jsxs("div",{className:"flex items-center justify-around h-8",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-300 rounded-full"}),o.jsx("div",{className:"w-2 h-0.5 bg-gray-400"}),o.jsx("div",{className:"w-3 h-3 bg-green-300 rounded-full"}),o.jsx("div",{className:"w-2 h-0.5 bg-gray-400"}),o.jsx("div",{className:"w-3 h-3 bg-purple-300 rounded-full"})]})]})},{name:"Thank You",description:"Closing slide",preview:o.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-pink-200 to-purple-200 p-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-3/4 h-2 bg-purple-500 mb-1"}),o.jsx("div",{className:"w-1/2 h-1 bg-purple-400"})]})}],l=960,s=540,i=g=>{switch(g){case"Title Slide":return{elements:[n("Click to add title",l*.208,s*.278,l*.583,s*.185,48,"transparent","center"),n("Click to add subtitle",l*.26,s*.519,l*.479,s*.111,32,"transparent","center")],background:"#ffffff"};case"Title + Subtitle":return{elements:[n("Click to add title",l*.083,s*.111,l*.833,s*.148,36,"transparent","left"),n("Click to add content",l*.083,s*.333,l*.833,s*.519,24,"transparent","left")],background:"#ffffff"};case"Section Header":return{elements:[n("Section Title",l*.104,s*.333,l*.792,s*.185,44,"transparent","center"),n("Section Description",l*.156,s*.556,l*.688,s*.111,28,"transparent","center")],background:"linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%)"};case"Title Only":return{elements:[n("Click to add title",l*.083,s*.111,l*.833,s*.148,36,"transparent","left")],background:"#ffffff"};case"Two Content":return{elements:[n("Click to add title",l*.083,s*.111,l*.833,s*.148,36,"transparent","left"),n("Content 1",l*.083,s*.333,l*.396,s*.519,24,"transparent","left"),n("Content 2",l*.521,s*.333,l*.396,s*.519,24,"transparent","left")],background:"#ffffff"};case"Comparison":return{elements:[n("Click to add title",l*.083,s*.111,l*.833,s*.148,36,"transparent","left"),n("Option A",l*.083,s*.296,l*.396,s*.074,28,"#d4edda","center"),n("Content A",l*.083,s*.407,l*.396,s*.444,24,"transparent","left"),n("Option B",l*.521,s*.296,l*.396,s*.074,28,"#f8d7da","center"),n("Content B",l*.521,s*.407,l*.396,s*.444,24,"transparent","left")],background:"#ffffff"};case"Blank Slide":return{elements:[],background:"#ffffff"};case"Content + Caption":return{elements:[n("Click to add title",l*.083,s*.111,l*.833,s*.148,36,"transparent","left"),n("Main Content",l*.083,s*.333,l*.542,s*.519,24,"transparent","left"),n("Caption text",l*.667,s*.333,l*.25,s*.519,20,"transparent","left")],background:"#ffffff"};case"Picture + Caption":return{elements:[n("Click to add title",l*.083,s*.111,l*.833,s*.148,36,"transparent","left"),{id:Ie(),type:"image",x:l*.083,y:s*.333,w:l*.625,h:s*.519,rotation:0,src:null},n("Caption",l*.75,s*.333,l*.167,s*.519,20,"transparent","left")],background:"#ffffff"};case"Title + Picture":return{elements:[n("Click to add title",l*.083,s*.111,l*.833,s*.148,36,"transparent","left"),{id:Ie(),type:"image",x:l*.083,y:s*.333,w:l*.833,h:s*.519,rotation:0,src:null}],background:"#ffffff"};case"Quote Slide":return{elements:[n('"Click to add quote"',l*.156,s*.333,l*.688,s*.222,32,"transparent","center"),n("- Author Name",l*.313,s*.593,l*.375,s*.074,24,"transparent","center")],background:"linear-gradient(135deg, #fff9e6 0%, #ffe6cc 100%)"};case"Chart / Graph":return{elements:[n("Click to add title",l*.083,s*.111,l*.833,s*.148,36,"transparent","left"),n(`Chart Area
(Add chart/graph here)`,l*.083,s*.333,l*.833,s*.519,24,"#f5f5f5","center")],background:"#ffffff"};case"SmartArt / Process":return{elements:[n("Click to add title",l*.083,s*.111,l*.833,s*.148,36,"transparent","left"),n("Step 1",l*.104,s*.444,l*.188,s*.148,20,"#bbdefb","center"),n("Step 2",l*.406,s*.444,l*.188,s*.148,20,"#c8e6c9","center"),n("Step 3",l*.708,s*.444,l*.188,s*.148,20,"#e1bee7","center")],background:"#ffffff"};case"Thank You":return{elements:[n("Thank You!",l*.208,s*.37,l*.583,s*.185,48,"transparent","center"),n("Questions?",l*.313,s*.593,l*.375,s*.111,32,"transparent","center")],background:"linear-gradient(135deg, #fce4ec 0%, #e1bee7 100%)"};default:return{elements:[n("Click to add title",l*.104,s*.148,l*.625,s*.185,44,"transparent","left"),n("Click to add subtitle",l*.104,s*.407,l*.625,s*.148,28,"transparent","left")],background:"#ffffff"}}},a=g=>{const x=i(g.name);if(e)t({type:"APPLY_TEMPLATE",elements:x.elements,background:x.background});else{const u={id:Ie(),background:x.background,elements:x.elements};t({type:"ADD_SLIDE_WITH_TEMPLATE",slide:u})}},c=["Title Slide","Title + Subtitle","Two Content","Picture + Caption","Thank You"],p=e?r.filter(g=>c.includes(g.name)):r;return o.jsxs("div",{className:"h-full overflow-y-auto",children:[o.jsx("div",{className:"font-semibold text-gray-800 mb-3 text-base",children:e?"Templates":"Slide Layouts"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map((g,x)=>o.jsxs("button",{onClick:()=>a(g),className:"group flex flex-col",children:[o.jsx("div",{className:"aspect-video rounded-lg bg-white/20 backdrop-blur-md border border-white/30 hover:bg-white/30 hover:border-white/40 transition-all duration-300 overflow-hidden shadow-lg hover:shadow-xl",children:g.preview}),o.jsxs("div",{className:"mt-1 text-center",children:[o.jsx("div",{className:"text-xs font-medium text-gray-800 group-hover:text-brand-600",children:g.name}),o.jsx("div",{className:"text-[10px] text-gray-600",children:g.description})]})]},x))})]})}function fl(){const{state:e,dispatch:t}=zt(),n=e.slides.find(i=>i.id===e.currentSlideId),r=n==null?void 0:n.elements.find(i=>i.id===e.selectedElementId);if(r&&r.type==="table")return o.jsx(um,{selected:r,dispatch:t});if(!r||r.type!=="chart")return o.jsx("div",{className:"text-center text-gray-500 py-8",children:o.jsx("p",{className:"text-sm",children:"Select a chart or table to edit"})});const l=(i,a)=>{const c=[...r.data];c[i]=Number(a),t({type:"UPDATE_ELEMENT",id:r.id,patch:{data:c}})},s=(i,a)=>{const c=[...r.labels];c[i]=a,t({type:"UPDATE_ELEMENT",id:r.id,patch:{labels:c}})};return o.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Edit Chart Data"}),o.jsx("div",{className:"space-y-2 overflow-y-auto flex-1",children:r.data.map((i,a)=>o.jsx("div",{className:"space-y-1",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:r.labels[a],onChange:c=>s(a,c.target.value),className:"flex-1 px-2 py-1.5 border border-gray-300 rounded-md text-sm",placeholder:"Label"}),o.jsx("input",{type:"number",value:i,onChange:c=>l(a,c.target.value),className:"w-16 px-2 py-1.5 border border-gray-300 rounded-md text-sm",placeholder:"Value"})]})},a))}),o.jsx("div",{className:"pt-3 border-t",children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Chart Type: ",o.jsx("span",{className:"font-medium capitalize",children:r.chartType})]})})]})}function um({selected:e,dispatch:t}){var i;const n=(a,c)=>{const p=e.cells.map(g=>({...g,styles:{...g.styles,[a]:c}}));t({type:"UPDATE_ELEMENT",id:e.id,patch:{cells:p}})},r=a=>{var p,g;const c=((g=(p=e.cells[0])==null?void 0:p.styles)==null?void 0:g[a])||!1;n(a,!c)},l=((i=e.cells[0])==null?void 0:i.styles)||{},s=a=>a?"px-3 py-1.5 rounded-md bg-brand-500 text-white font-semibold":"px-3 py-1.5 rounded-md border border-gray-300 hover:bg-gray-50";return o.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Table Formatting"}),o.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),o.jsxs("select",{value:l.fontFamily||"Inter, system-ui, sans-serif",onChange:a=>n("fontFamily",a.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md text-sm",children:[o.jsx("option",{value:"Inter, system-ui, sans-serif",children:"Inter"}),o.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),o.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),o.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),o.jsx("option",{value:"Georgia, serif",children:"Georgia"}),o.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),o.jsx("input",{type:"number",min:"8",max:"72",value:l.fontSize||14,onChange:a=>n("fontSize",Number(a.target.value)),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Style"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>r("bold"),className:s(l.bold),title:"Bold",children:o.jsx("span",{className:"font-bold",children:"B"})}),o.jsx("button",{onClick:()=>r("italic"),className:s(l.italic),title:"Italic",children:o.jsx("span",{className:"italic",children:"I"})}),o.jsx("button",{onClick:()=>r("underline"),className:s(l.underline),title:"Underline",children:o.jsx("span",{className:"underline",children:"U"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Alignment"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>n("align","left"),className:s(l.align==="left"),title:"Align Left",children:""}),o.jsx("button",{onClick:()=>n("align","center"),className:s(l.align==="center"),title:"Align Center",children:""}),o.jsx("button",{onClick:()=>n("align","right"),className:s(l.align==="right"),title:"Align Right",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),o.jsx("input",{type:"color",value:l.color||"#111827",onChange:a=>n("color",a.target.value),className:"w-full h-10 rounded-md border border-gray-300 cursor-pointer"})]})]}),o.jsx("div",{className:"pt-3 border-t",children:o.jsx("p",{className:"text-xs text-gray-500",children:"Formatting applies to all cells in the table"})})]})}function dm({mode:e="auto",onClose:t}){const{state:n,dispatch:r}=zt(),l=n.slides.findIndex(T=>T.id===n.currentSlideId),[s,i]=I.useState(!1),[a,c]=I.useState(5),[p,g]=I.useState(e),[x,u]=I.useState(!1),[E,N]=I.useState(!1),C=I.useRef(null),k=I.useRef(null),f=I.useRef(null),d=I.useRef(null);I.useEffect(()=>{g(e)},[e]),I.useEffect(()=>{if(n.slides.length>0){const T=n.slides[0].id;n.currentSlideId!==T&&r({type:"SET_CURRENT_SLIDE",id:T})}},[]);const h=()=>{N(!1),f.current&&(clearTimeout(f.current),f.current=null)},v=()=>{h(),l<n.slides.length-1?r({type:"SET_CURRENT_SLIDE",id:n.slides[l+1].id}):(N(!0),f.current=setTimeout(()=>{N(!1)},5e3),g("manual"),i(!0))},S=()=>{h(),l>0&&r({type:"SET_CURRENT_SLIDE",id:n.slides[l-1].id})};I.useEffect(()=>(p==="auto"&&!s?(c(5),k.current=setInterval(()=>{c(T=>T<=1?l<n.slides.length-1?(r({type:"SET_CURRENT_SLIDE",id:n.slides[l+1].id}),5):(N(!0),f.current=setTimeout(()=>N(!1),5e3),g("manual"),i(!0),5):T-1)},1e3)):k.current&&(clearInterval(k.current),k.current=null),()=>{k.current&&(clearInterval(k.current),k.current=null)}),[p,s,l,n.slides,r]),I.useEffect(()=>()=>{C.current&&clearInterval(C.current),k.current&&clearInterval(k.current)},[]),I.useEffect(()=>{const T=d.current;if(!T)return;const me=setTimeout(async()=>{try{!document.fullscreenElement&&T.requestFullscreen&&await T.requestFullscreen({navigationUI:"hide"}).catch(()=>{})}catch{}},0);return()=>{clearTimeout(me);try{document.fullscreenElement&&document.exitFullscreen&&document.exitFullscreen().catch(()=>{})}catch{}}},[]),I.useEffect(()=>{const T=q=>{q.key==="Escape"&&t(),(q.key==="ArrowRight"||q.key==="PageDown")&&(p==="auto"&&!s&&(g("manual"),i(!0)),v()),(q.key==="ArrowLeft"||q.key==="PageUp")&&(p==="auto"&&!s&&(g("manual"),i(!0)),S())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[l,n.slides,r,t,s,p]);const[j,R]=I.useState(!!(typeof document<"u"&&document.fullscreenElement));I.useEffect(()=>{const T=()=>{const q=!!document.fullscreenElement;if(R(q),!q)try{t&&t()}catch{}};return document.addEventListener("fullscreenchange",T),()=>document.removeEventListener("fullscreenchange",T)},[t]);const M=I.useRef(!1),L=async()=>{var T;try{!document.fullscreenElement&&((T=d.current)!=null&&T.requestFullscreen)&&(await d.current.requestFullscreen({navigationUI:"hide"}),M.current=!0)}catch{}},_=async()=>{try{document.fullscreenElement&&document.exitFullscreen&&await document.exitFullscreen()}catch{}try{t&&t()}catch{}},H=()=>u(!0),F=()=>u(!1),X=()=>{!document.fullscreenElement&&!M.current&&L()};return o.jsx("div",{ref:d,className:"fixed inset-0 z-50 bg-black",onPointerDownCapture:X,onMouseMove:X,children:o.jsxs("div",{className:"absolute inset-0",children:[o.jsx(fm,{}),o.jsx("div",{className:"absolute left-0 right-0 bottom-0",style:{height:80},onMouseEnter:H,onMouseLeave:F}),x&&o.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-3 bg-black/70 text-white rounded-full px-4 py-2 flex items-center gap-3 shadow-lg",onMouseEnter:H,onMouseLeave:F,children:[o.jsxs("div",{className:"text-sm whitespace-nowrap",children:[l+1," / ",n.slides.length]}),o.jsx("button",{onClick:T=>{T.stopPropagation(),j?_():L()},className:"w-7 h-7 rounded-full bg-white/90 text-black flex items-center justify-center hover:bg-white",title:j?"Exit Fullscreen":"Enter Fullscreen",children:j?o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M9 15H5v4"}),o.jsx("path",{d:"M15 9h4V5"}),o.jsx("path",{d:"M15 19l4-4"}),o.jsx("path",{d:"M9 5L5 9"})]}):o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M9 5H5v4"}),o.jsx("path",{d:"M15 19h4v-4"}),o.jsx("path",{d:"M5 9l4-4"}),o.jsx("path",{d:"M19 15l-4 4"})]})}),p==="auto"&&!s?o.jsx("button",{onClick:T=>{T.stopPropagation(),g("manual"),i(!0),k.current&&(clearInterval(k.current),k.current=null),h()},className:"w-7 h-7 rounded-full bg-white/90 text-black flex items-center justify-center hover:bg-white",title:"Pause slideshow",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[o.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),o.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})}):o.jsx("button",{onClick:T=>{T.stopPropagation(),g("auto"),i(!1),c(5),h()},className:"w-7 h-7 rounded-full bg-white/90 text-black flex items-center justify-center hover:bg-white",title:"Play slideshow from current",children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("polygon",{points:"5,3 19,12 5,21"})})}),p==="auto"&&!s&&o.jsx("div",{className:"h-1 w-24 bg-white/40 rounded overflow-hidden",children:o.jsx("div",{className:"h-full bg-white",style:{width:`${(5-a)/5*100}%`,transition:"width 1s linear"}})})]}),E&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:"rgba(0,0,0,0.35)"},onClick:T=>{T.stopPropagation(),h()},children:o.jsx("div",{className:"text-white text-xl font-semibold px-6 py-4 rounded-lg keynote-pop",style:{background:"rgba(0,0,0,0.65)"},children:"This is your last slide"})})]})})}function fm(){const{state:e}=zt(),t=e.slides.find(h=>h.id===e.currentSlideId);let n={};const r=t==null?void 0:t.background;if(r&&typeof r=="object"&&r.type==="image"&&r.src){const h=r.mode==="stretch"?"100% 100%":r.mode==="custom"&&typeof r.scale=="number"?`${r.scale}% auto`:r.mode||"cover";n={backgroundImage:`url(${r.src})`,backgroundSize:h,backgroundPosition:r.position||"center",backgroundRepeat:"no-repeat"}}else typeof r=="string"?n={background:r}:n={background:"#ffffff"};const[l,s]=I.useState({w:0,h:0});I.useEffect(()=>{const h=()=>{try{s({w:window.innerWidth||0,h:window.innerHeight||0})}catch{s({w:0,h:0})}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const i=960,a=540,c=l.w||(typeof window<"u"?window.innerWidth:i),p=l.h||(typeof window<"u"?window.innerHeight:a),g=Math.min(c/i,p/a),x=i*g,u=a*g,E=Math.max(0,(c-x)/2),N=Math.max(0,(p-u)/2),C=e.slides.findIndex(h=>h.id===e.currentSlideId),k=ae.useRef(C),[f,d]=I.useState("slide-anim-next");return I.useEffect(()=>{const h=k.current,v=C>h?"slide-anim-next":C<h?"slide-anim-prev":"slide-anim-next";d(v),k.current=C},[C]),o.jsx("div",{className:"absolute inset-0",style:{background:"transparent"},children:o.jsx("div",{style:{position:"absolute",left:E,top:N,width:i,height:a,transform:`scale(${g})`,transformOrigin:"top left",...n},children:o.jsx("div",{className:f,style:{position:"absolute",inset:0},children:t==null?void 0:t.elements.map(h=>o.jsx("div",{className:"absolute",style:{left:h.x,top:h.y,width:h.w,height:h.h,transform:`rotate(${h.rotation}deg)`},children:pm(h,!0)},h.id))})})})}function pm(e,t=!1){var r,l;const n=e.bgColor||"transparent";switch(e.type){case"text":return o.jsx("div",{className:"w-full h-full p-2",style:{backgroundColor:n,color:e.styles.color,fontSize:e.styles.fontSize,fontWeight:e.styles.bold?700:400,fontStyle:e.styles.italic?"italic":"normal",textDecoration:e.styles.underline?"underline":"none",textAlign:e.styles.align,display:"flex",flexDirection:"column",justifyContent:((r=e.styles)==null?void 0:r.valign)==="middle"?"center":((l=e.styles)==null?void 0:l.valign)==="bottom"?"flex-end":"flex-start"},children:e.text});case"rect":return o.jsx(mr,{el:e,shapeClass:"rounded-md"});case"square":return o.jsx(mr,{el:e,shapeClass:"rounded-md"});case"circle":return o.jsx(mr,{el:e,shapeClass:"rounded-full"});case"triangle":return o.jsx(mr,{el:e,shapeClass:"",clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)"});case"diamond":return o.jsx(mr,{el:e,shapeClass:"",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)"});case"star":return o.jsx(mr,{el:e,shapeClass:"",clipPath:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)"});case"message":return o.jsx(hm,{el:e});case"chart":return o.jsx(gm,{el:e});case"table":return o.jsx(mm,{el:e});case"image":return o.jsx("img",{src:e.src,alt:"",className:"w-full h-full object-contain",draggable:!1});default:return null}}function mr({el:e,shapeClass:t,clipPath:n}){const r={background:e.fill,border:`2px solid ${e.stroke}`,...n&&{clipPath:n}};return o.jsx("div",{className:`w-full h-full ${t}`,style:r,children:o.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",style:{color:e.textColor,fontSize:e.fontSize,fontFamily:"Inter, system-ui, sans-serif",wordWrap:"break-word",textAlign:"center"},children:e.text||""})})}function hm({el:e}){return o.jsxs("div",{className:"w-full h-full relative",children:[o.jsx("div",{className:"w-full h-full rounded-lg relative",style:{background:e.fill,border:`2px solid ${e.stroke}`},children:o.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",style:{color:e.textColor,fontSize:e.fontSize,fontFamily:"Inter, system-ui, sans-serif",wordWrap:"break-word",textAlign:"center"},children:e.text||"Message"})}),o.jsx("div",{className:"absolute bottom-0 left-4 w-0 h-0",style:{borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:`15px solid ${e.stroke}`}}),o.jsx("div",{className:"absolute bottom-1 left-5 w-0 h-0",style:{borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderTop:`12px solid ${e.fill}`}})]})}function mm({el:e}){const t=e.rows||0,n=e.cols||0,r=e.w/(n||1),l=e.h/(t||1),s=`1px solid ${e.borderColor||"#000000"}`;return o.jsx("div",{className:"w-full h-full",style:{position:"relative",background:"#ffffff",border:`1px solid ${e.borderColor||"#000000"}`},children:Array.from({length:t}).map((i,a)=>o.jsx("div",{style:{position:"absolute",left:0,top:a*l,width:"100%",height:l},children:Array.from({length:n}).map((c,p)=>{var f,d,h,v,S,j,R,M,L,_;const g=a*n+p,x=(f=e.cells)==null?void 0:f[g],u=!!e.headerRow&&a===0,E=(d=x==null?void 0:x.styles)!=null&&d.bgColor?x.styles.bgColor:u?e.headerBg||"#f3f4f6":e.cellBg||"#ffffff",N=u?e.headerTextColor||"#111827":((h=x==null?void 0:x.styles)==null?void 0:h.color)||"#111827",C=((v=x==null?void 0:x.styles)==null?void 0:v.valign)||"middle",k=((S=x==null?void 0:x.styles)==null?void 0:S.align)||"center";return o.jsx("div",{style:{position:"absolute",left:p*r,top:0,width:r,height:l,boxSizing:"border-box",borderRight:s,borderBottom:s,padding:8,background:E,color:N,display:"flex",alignItems:C==="middle"?"center":C==="bottom"?"flex-end":"flex-start",justifyContent:k==="right"?"flex-end":k==="center"?"center":"flex-start",overflow:"hidden",fontSize:`${((j=x==null?void 0:x.styles)==null?void 0:j.fontSize)||12}px`,fontFamily:((R=x==null?void 0:x.styles)==null?void 0:R.fontFamily)||"Inter, system-ui, sans-serif",fontWeight:(M=x==null?void 0:x.styles)!=null&&M.bold?700:400,fontStyle:(L=x==null?void 0:x.styles)!=null&&L.italic?"italic":"normal",textDecoration:(_=x==null?void 0:x.styles)!=null&&_.underline?"underline":"none",textAlign:k},children:o.jsx("span",{className:"truncate",children:(x==null?void 0:x.text)||""})},p)})},a))})}function gm({el:e}){const{chartType:t,data:n=[],labels:r=[],colors:l=[]}=e;if(t==="bar"){const p=Math.max(0,e.w-16),g=Math.max(0,p-28),x=r.map(S=>{const j=parseFloat(S);return Number.isFinite(j)?j:null}),u=x.some(S=>S!==null),E=(u?x:n).map((S,j)=>S===null||!Number.isFinite(S)?Number.isFinite(n[j])?n[j]:0:S),N=E.length>0,C=N?Math.max(...E):1,k=N?Math.min(...E):0,f=Math.max(1e-6,C-k),d=2,h=E.length,v=h?Math.max(1,Math.floor((g-(h-1)*d)/h)):0;return o.jsxs("div",{className:"w-full h-full bg-white relative",style:{boxSizing:"border-box",padding:8},children:[o.jsx("div",{style:{position:"absolute",left:36,bottom:8,width:g,height:1,backgroundColor:"#9ca3af"}}),o.jsx("div",{style:{position:"absolute",left:36,bottom:8,width:1,height:180,backgroundColor:"#9ca3af"}}),o.jsx("div",{style:{position:"absolute",left:36,bottom:9,width:g,height:180,display:"flex",alignItems:"flex-end"},children:E.map((S,j)=>o.jsx("div",{style:{width:v,height:180,marginRight:j<h-1?d:0,display:"flex",alignItems:"flex-end"},children:o.jsx("div",{className:"w-full rounded-t",style:{height:Math.max(Math.round((f>0?(S-k)/f:.5)*180),2),backgroundColor:l[j%l.length]||"#60a5fa"}})},j))}),o.jsx("div",{style:{position:"absolute",left:8,top:8,width:24,height:180},children:Array.from({length:5}).map((S,j)=>{const R=j/4,M=k+(1-R)*f,L=Math.round(R*180);return o.jsx("div",{style:{position:"absolute",left:0,top:8+L-6,width:"100%",textAlign:"right",fontSize:10,color:"#6b7280"},children:Number.isFinite(M)?Math.round(M):""},j)})}),o.jsx("div",{style:{position:"absolute",left:36,bottom:8,width:g,transform:"translateY(100%)",display:"flex",justifyContent:"space-around",alignItems:"center",gap:4},children:r.map((S,j)=>o.jsx("span",{className:"text-gray-600 truncate",style:{fontSize:10,maxWidth:v},children:S},j))})]})}if(t==="line"){const c=Math.max(0,e.w-16),p=Math.max(0,c-28),g=n.length>0,x=g?Math.max(...n):1,u=g?Math.min(...n):0,E=Math.max(1e-6,x-u),N=2,C=Math.max(0,p-2*N),k=n.map((f,d)=>{const h=d/Math.max(1,n.length-1)*C+N,v=180-(f-u)/E*180;return`${h},${v}`}).join(" ");return o.jsxs("div",{className:"w-full h-full bg-white relative",style:{boxSizing:"border-box",padding:8},children:[o.jsx("div",{style:{position:"absolute",left:36,bottom:8,width:p,height:1,backgroundColor:"#9ca3af"}}),o.jsx("div",{style:{position:"absolute",left:36,bottom:8,width:1,height:180,backgroundColor:"#9ca3af"}}),o.jsx("div",{style:{position:"absolute",left:36,top:8,width:p,height:180},children:o.jsxs("svg",{viewBox:`0 0 ${p} 180`,width:"100%",height:"100%",preserveAspectRatio:"none",children:[o.jsx("polyline",{points:k,fill:"none",stroke:l[0]||"#60a5fa",strokeWidth:"2"}),n.map((f,d)=>{const h=d/Math.max(1,n.length-1)*(p-2*N)+N,v=180-(f-u)/E*180;return o.jsx("circle",{cx:h,cy:v,r:"2",fill:l[0]||"#60a5fa"},d)})]})}),o.jsx("div",{style:{position:"absolute",left:8,top:8,width:24,height:180},children:Array.from({length:5}).map((f,d)=>{const h=d/4,v=u+(1-h)*E,S=Math.round(h*180);return o.jsx("div",{style:{position:"absolute",left:0,top:8+S-6,width:"100%",textAlign:"right",fontSize:10,color:"#6b7280"},children:Number.isFinite(v)?Math.round(v):""},d)})}),o.jsx("div",{style:{position:"absolute",left:36,bottom:8,width:p,transform:"translateY(100%)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:r.map((f,d)=>o.jsx("span",{className:"text-gray-600 truncate",style:{fontSize:10},children:f},d))})]})}if(t==="pie"){const s=Math.max(1,n.reduce((a,c)=>a+c,0));let i=0;return o.jsxs("div",{className:"w-full h-full bg-white relative",style:{boxSizing:"border-box",padding:8},children:[o.jsx("svg",{viewBox:"0 0 100 100",className:"w-1/2 h-full",children:n.map((a,c)=>{const g=a/s*360,x=i,u=i+g;i=u;const E=50+40*Math.cos((x-90)*Math.PI/180),N=50+40*Math.sin((x-90)*Math.PI/180),C=50+40*Math.cos((u-90)*Math.PI/180),k=50+40*Math.sin((u-90)*Math.PI/180),f=g>180?1:0;return o.jsx("path",{d:`M 50 50 L ${E} ${N} A 40 40 0 ${f} 1 ${C} ${k} Z`,fill:l[c%l.length]||"#60a5fa"},c)})}),o.jsx("div",{style:{position:"absolute",right:8,top:8,display:"flex",flexDirection:"column",gap:6,maxWidth:"45%"},children:r.map((a,c)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[o.jsx("div",{style:{width:10,height:10,backgroundColor:l[c%l.length]||"#60a5fa",borderRadius:2}}),o.jsx("div",{style:{fontSize:10,color:"#374151",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a})]},`pie-lg-${c}`))})]})}return null}function pl(){const{state:e,dispatch:t}=zt(),n=e.slides.find(i=>i.id===e.currentSlideId),r=n==null?void 0:n.elements.find(i=>i.id===e.selectedElementId);if(!r||!["rect","square","circle","triangle","diamond","star","message","roundRect","parallelogram","trapezoid","pentagon","hexagon","octagon","chevron","arrowRight","cloud"].includes(r.type))return o.jsx("div",{className:"text-sm text-gray-600",children:"Select a shape to edit its colors."});const l=i=>t({type:"UPDATE_ELEMENT",id:r.id,patch:i}),s=({label:i,children:a})=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600",children:i}),a]});return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Shape Style"}),o.jsx(s,{label:"Text",children:o.jsx("div",{className:"flex gap-2",children:o.jsx("button",{onClick:()=>{try{window.dispatchEvent(new CustomEvent("editShapeText",{detail:{id:r.id}}))}catch{}},className:"px-3 py-1.5 rounded-md text-sm border bg-white border-gray-300 hover:bg-gray-50",title:"Edit text in shape",children:"Edit Text"})})}),o.jsx(s,{label:"Font Family",children:o.jsxs("select",{value:r.fontFamily||"Inter, system-ui, sans-serif",onChange:i=>l({fontFamily:i.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md text-sm",children:[o.jsx("option",{value:"Inter, system-ui, sans-serif",children:"Inter"}),o.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),o.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),o.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),o.jsx("option",{value:"Georgia, serif",children:"Georgia"}),o.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"})]})}),o.jsx(s,{label:"Emphasis",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>l({bold:!r.bold}),className:`px-3 py-1.5 rounded-md text-sm border ${r.bold?"bg-black text-white border-black":"bg-white border-gray-300 hover:bg-gray-50"}`,children:o.jsx("span",{className:"font-bold",children:"B"})}),o.jsx("button",{onClick:()=>l({italic:!r.italic}),className:`px-3 py-1.5 rounded-md text-sm border ${r.italic?"bg-black text-white border-black":"bg-white border-gray-300 hover:bg-gray-50"}`,children:o.jsx("span",{className:"italic",children:"I"})}),o.jsx("button",{onClick:()=>l({underline:!r.underline}),className:`px-3 py-1.5 rounded-md text-sm border ${r.underline?"bg-black text-white border-black":"bg-white border-gray-300 hover:bg-gray-50"}`,children:o.jsx("span",{className:"underline",children:"U"})})]})}),o.jsx(s,{label:"Horizontal Alignment",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>l({textAlign:"left"}),className:`px-3 py-1.5 rounded-md text-sm border ${(r.textAlign||"center")==="left"?"bg-black text-white border-black":"bg-white border-gray-300 hover:bg-gray-50"}`,children:""}),o.jsx("button",{onClick:()=>l({textAlign:"center"}),className:`px-3 py-1.5 rounded-md text-sm border ${(r.textAlign||"center")==="center"?"bg-black text-white border-black":"bg-white border-gray-300 hover:bg-gray-50"}`,children:""}),o.jsx("button",{onClick:()=>l({textAlign:"right"}),className:`px-3 py-1.5 rounded-md text-sm border ${(r.textAlign||"center")==="right"?"bg-black text-white border-black":"bg-white border-gray-300 hover:bg-gray-50"}`,children:""})]})}),o.jsx(s,{label:"Vertical Alignment",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>l({textVAlign:"top"}),className:`px-3 py-1.5 rounded-md text-sm border ${(r.textVAlign||"middle")==="top"?"bg-black text-white border-black":"bg-white border-gray-300 hover:bg-gray-50"}`,children:""}),o.jsx("button",{onClick:()=>l({textVAlign:"middle"}),className:`px-3 py-1.5 rounded-md text-sm border ${(r.textVAlign||"middle")==="middle"?"bg-black text-white border-black":"bg-white border-gray-300 hover:bg-gray-50"}`,children:""}),o.jsx("button",{onClick:()=>l({textVAlign:"bottom"}),className:`px-3 py-1.5 rounded-md text-sm border ${(r.textVAlign||"middle")==="bottom"?"bg-black text-white border-black":"bg-white border-gray-300 hover:bg-gray-50"}`,children:""})]})}),o.jsx(s,{label:"Border Color",children:o.jsx("input",{type:"color",value:r.stroke||"#000000",onChange:i=>l({stroke:i.target.value}),className:"w-full h-10 rounded border border-gray-300 cursor-pointer"})}),o.jsx(s,{label:"Background Color",children:o.jsx("input",{type:"color",value:r.fill||"#ffffff",onChange:i=>l({fill:i.target.value}),className:"w-full h-10 rounded border border-gray-300 cursor-pointer"})}),o.jsx(s,{label:"Text Color",children:o.jsx("input",{type:"color",value:r.textColor||"#111827",onChange:i=>l({textColor:i.target.value}),className:"w-full h-10 rounded border border-gray-300 cursor-pointer"})})]})}function Us(){const{state:e,dispatch:t}=zt(),n=e.slides.find(a=>a.id===e.currentSlideId),r=n==null?void 0:n.elements.find(a=>a.id===e.selectedElementId);if(!r||r.type!=="text")return o.jsx("div",{className:"text-sm text-gray-600",children:"Select a text box to edit its style."});const l=r.styles||{},s=a=>{const c={...l,...a};t({type:"UPDATE_ELEMENT",id:r.id,patch:{styles:c}})},i=({active:a,title:c,onClick:p,children:g})=>o.jsx("button",{title:c,onClick:p,className:`px-3 py-1.5 rounded-md text-sm border ${a?"bg-black text-white border-black":"bg-white border-gray-300 hover:bg-gray-50"}`,children:g});return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Text Style"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Font Family"}),o.jsxs("select",{value:l.fontFamily||"Inter, system-ui, sans-serif",onChange:a=>s({fontFamily:a.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md text-sm",children:[o.jsx("option",{value:"Inter, system-ui, sans-serif",children:"Inter"}),o.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),o.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),o.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),o.jsx("option",{value:"Georgia, serif",children:"Georgia"}),o.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Emphasis"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(i,{title:"Bold",active:!!l.bold,onClick:()=>s({bold:!l.bold}),children:o.jsx("span",{className:"font-bold",children:"B"})}),o.jsx(i,{title:"Italic",active:!!l.italic,onClick:()=>s({italic:!l.italic}),children:o.jsx("span",{className:"italic",children:"I"})}),o.jsx(i,{title:"Underline",active:!!l.underline,onClick:()=>s({underline:!l.underline}),children:o.jsx("span",{className:"underline",children:"U"})})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Text Color"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",value:l.color||"#111827",onChange:a=>s({color:a.target.value}),className:"h-9 w-9 p-1 rounded border"}),o.jsx("input",{type:"text",value:l.color||"#111827",onChange:a=>s({color:a.target.value}),className:"flex-1 border rounded px-2 py-1 text-sm"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Horizontal Alignment"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(i,{title:"Align Left",active:(l.align||"left")==="left",onClick:()=>s({align:"left"}),children:""}),o.jsx(i,{title:"Align Center",active:l.align==="center",onClick:()=>s({align:"center"}),children:""}),o.jsx(i,{title:"Align Right",active:l.align==="right",onClick:()=>s({align:"right"}),children:""})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Vertical Alignment"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(i,{title:"Top",active:(l.valign||"top")==="top",onClick:()=>s({valign:"top"}),children:""}),o.jsx(i,{title:"Middle",active:l.valign==="middle",onClick:()=>s({valign:"middle"}),children:""}),o.jsx(i,{title:"Bottom",active:l.valign==="bottom",onClick:()=>s({valign:"bottom"}),children:""})]})]})]})}function xm(){const{state:e,dispatch:t}=zt(),n=e.slides.find(g=>g.id===e.currentSlideId),r=n&&typeof n.background=="object"&&n.background.type==="image"?n.background:null,l=I.useRef(null);if(!r)return o.jsx("div",{className:"text-sm text-gray-600",children:"No background image on this slide."});const s=g=>{t({type:"UPDATE_SLIDE_BACKGROUND",slideId:n.id,background:{...r,...g}})},i=g=>{var E;const x=(E=g.target.files)==null?void 0:E[0];if(!x)return;const u=new FileReader;u.onload=()=>{const N=u.result;s({src:N})},u.readAsDataURL(x),g.target.value=""},a=r.mode||"cover",c=typeof r.scale=="number"?r.scale:100,p=r.position||"center";return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Background Image"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs text-gray-600",children:"Fit"}),o.jsxs("select",{value:a,onChange:g=>s({mode:g.target.value}),className:"w-full border rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"cover",children:"Cover (fill)"}),o.jsx("option",{value:"contain",children:"Contain"}),o.jsx("option",{value:"stretch",children:"Stretch"}),o.jsx("option",{value:"custom",children:"Custom Scale"})]})]}),a==="custom"&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[o.jsx("span",{children:"Scale"}),o.jsxs("span",{children:[c,"%"]})]}),o.jsx("input",{type:"range",min:"50",max:"200",step:"1",value:c,onChange:g=>s({scale:Number(g.target.value)}),className:"w-full"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs text-gray-600",children:"Position"}),o.jsxs("select",{value:p,onChange:g=>s({position:g.target.value}),className:"w-full border rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"center",children:"Center"}),o.jsx("option",{value:"left top",children:"Top Left"}),o.jsx("option",{value:"center top",children:"Top"}),o.jsx("option",{value:"right top",children:"Top Right"}),o.jsx("option",{value:"left center",children:"Left"}),o.jsx("option",{value:"right center",children:"Right"}),o.jsx("option",{value:"left bottom",children:"Bottom Left"}),o.jsx("option",{value:"center bottom",children:"Bottom"}),o.jsx("option",{value:"right bottom",children:"Bottom Right"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>{var g;return(g=l.current)==null?void 0:g.click()},className:"px-3 py-1.5 rounded border text-sm",children:"Replace Image"}),o.jsx("button",{onClick:()=>t({type:"UPDATE_SLIDE_BACKGROUND",slideId:n.id,background:"#ffffff"}),className:"px-3 py-1.5 rounded border text-sm text-red-600",children:"Remove"})]}),o.jsx("input",{ref:l,type:"file",accept:"image/*",className:"hidden",onChange:i})]})}function hl(){var Ft,nn,jn,Cn,fr,kn,Qn,Gn,et,rn,Nn,Wo,Yn,Sn,Ho,Uo,Xr,Vo;const{state:e,dispatch:t}=zt(),n=e.slides.find(m=>m.id===e.currentSlideId),r=n==null?void 0:n.elements.find(m=>m.id===e.selectedElementId&&m.type==="table");if(!r)return o.jsx("div",{className:"text-sm text-gray-600",children:"Select a table to edit its style."});const l=m=>t({type:"UPDATE_ELEMENT",id:r.id,patch:m}),s=()=>{typeof window<"u"&&(window.keepTableEditing=!0,setTimeout(()=>{window.keepTableEditing=!1},800))},i=()=>{if(typeof window>"u")return null;const m=window.currentEditingTableCell;if(m&&m.id===r.id&&Number.isInteger(m.cellIndex))return m.cellIndex;const b=window.currentSelectedTableCell;return b&&b.id===r.id&&Number.isInteger(b.cellIndex)?b.cellIndex:null},a=(m,b={})=>{try{const D=document.getElementById(`table-cell-${m}`);if(!D)return;b.fontFamily&&(D.style.fontFamily=b.fontFamily),b.color&&(D.style.color=b.color),typeof b.bold=="boolean"&&(D.style.fontWeight=b.bold?"700":"400"),typeof b.italic=="boolean"&&(D.style.fontStyle=b.italic?"italic":"normal"),typeof b.underline=="boolean"&&(D.style.textDecoration=b.underline?"underline":"none"),b.bgColor&&(D.style.background=b.bgColor),b.align&&(D.style.textAlign=b.align,D.style.justifyContent=b.align==="right"?"flex-end":b.align==="center"?"center":"flex-start"),b.valign&&(D.style.alignItems=b.valign==="middle"?"center":b.valign==="bottom"?"flex-end":"flex-start"),b.fontSize&&(D.style.fontSize=`${b.fontSize}px`)}catch{}},c=()=>{try{const m=typeof window<"u"?window:null;if(m&&m.crypto&&typeof m.crypto.randomUUID=="function")return m.crypto.randomUUID()}catch{}return`cell-${Date.now()}-${Math.random().toString(36).slice(2,8)}`},p=m=>{const b=r.cells.map(D=>({...D,styles:{...D.styles||{},...m||{}}}));l({cells:b})},g=m=>{const b=r.cols,D=r.cells.map((W,J)=>J<b?{...W,styles:{...W.styles||{},...m||{}}}:W);l({cells:D});try{const W=typeof window<"u"?window.currentEditingTableCell:null;if(W&&W.id===r.id&&W.cellIndex<b){const J=r.cells[W.cellIndex];a(J.id,m)}}catch{}},x=m=>{const b=r.cols,D=r.cells.map((W,J)=>J>=b?{...W,styles:{...W.styles||{},...m||{}}}:W);l({cells:D});try{const W=typeof window<"u"?window.currentEditingTableCell:null;if(W&&W.id===r.id&&W.cellIndex>=b){const J=r.cells[W.cellIndex];a(J.id,m)}}catch{}},u=m=>{try{window.dispatchEvent(new CustomEvent("editTableCell",{detail:{tableId:r.id,cellIndex:m}}))}catch{}},E=()=>{if(r.rows<=1){B("Removing the last row will delete the table. Do you want to proceed?",()=>{try{t({type:"DELETE_ELEMENT",id:r.id})}catch{}});return}const m=r.cols,b=typeof window<"u"?window.currentEditingTableCell:null,D=b&&b.id===r.id?Math.floor(b.cellIndex/m):r.rows-1;if(k==="cell"&&b&&b.id===r.id){const oe=D,le=r.rows-1,xe=[];for(let tt=0;tt<r.rows;tt++){if(tt===oe)continue;const at=tt*m;xe.push(...r.cells.slice(at,at+m))}l({rows:le,cells:xe});const ke=Math.max(0,oe-1);setTimeout(()=>u(Math.min(le*m-1,ke*m+b.cellIndex%m)),0);return}const W=r.rows-1,J=r.cells.slice(0,W*m);l({rows:W,cells:J})},N=()=>{if(r.cols<=1){B("Removing the last column will delete the table. Do you want to proceed?",()=>{try{t({type:"DELETE_ELEMENT",id:r.id})}catch{}});return}const m=r.rows,b=typeof window<"u"?window.currentEditingTableCell:null,D=b&&b.id===r.id?b.cellIndex%r.cols:r.cols-1;if(k==="cell"&&b&&b.id===r.id){const oe=D,le=r.cols-1,xe=[];for(let ke=0;ke<m;ke++){const tt=ke*r.cols;for(let at=0;at<r.cols;at++){if(at===oe)continue;const rt=tt+at;xe.push(r.cells[rt])}}l({cols:le,cells:xe}),setTimeout(()=>{const ke=Math.floor(b.cellIndex/(le+1)),tt=Math.max(0,Math.min(le-1,oe-1));u(ke*le+tt)},0);return}const W=r.cols-1,J=[];for(let oe=0;oe<m;oe++){const le=oe*r.cols,xe=r.cells.slice(le,le+W);J.push(...xe)}l({cols:W,cells:J})},C=({label:m,children:b})=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600",children:m}),b]}),[k,f]=ae.useState("cell"),[d,h]=ae.useState(1),[v,S]=ae.useState(1),[j,R]=ae.useState(!1),[M,L]=ae.useState(!1),[_,H]=ae.useState(!1),F=ae.useRef(null),X=ae.useRef(null),[T,q]=ae.useState(null),[me,Y]=ae.useState(!1),[V,te]=ae.useState(null),[se,fe]=ae.useState(null),[ce,ge]=ae.useState({open:!1,text:"",confirm:null}),Re=ae.useRef(null),_e=ae.useRef(null),[Pe,$]=ae.useState(null),Z=ae.useRef(null),he=ae.useRef(null),[ue,be]=ae.useState(null),[Ee,Me]=ae.useState(!0),[je,ze]=ae.useState([]),[Ce,qe]=ae.useState({fontFamily:"Inter, system-ui, sans-serif",fontSize:14,align:"center",valign:"middle",color:"#111827",bgColor:"#ffffff",text:"Demo"}),w=(m,b={})=>{try{console.log("[TableStylePanel]",m,b)}catch{}ze(D=>{const W=`${m}:${JSON.stringify(b)}`;return[...D,W].slice(-8)})};ae.useEffect(()=>{if(!j)return;const m=()=>{var J;const W=(J=F.current)==null?void 0:J.getBoundingClientRect();W&&q({top:W.bottom+8,left:W.left,width:W.width})},b=setTimeout(()=>Y(!0),0);m(),window.addEventListener("resize",m),window.addEventListener("scroll",m,!0);const D=W=>{const J=F.current,oe=X.current,le=J&&(J===W.target||J.contains(W.target)),xe=oe&&(oe===W.target||oe.contains(W.target));le||xe||(R(!1),Y(!1))};return document.addEventListener("mousedown",D),()=>{clearTimeout(b),window.removeEventListener("resize",m),window.removeEventListener("scroll",m,!0),document.removeEventListener("mousedown",D)}},[j]),ae.useEffect(()=>{try{console.log("TableStylePanel showOps:",j)}catch{}},[j]);const P=()=>ge({open:!1,text:"",confirm:null}),B=(m,b=null)=>ge({open:!0,text:m,confirm:b});ae.useEffect(()=>{const m=W=>{se&&(fe(null),te(null))},b=W=>{W.key==="Escape"&&(fe(null),te(null))},D=()=>{se&&(fe(null),te(null))};return document.addEventListener("mousedown",m),document.addEventListener("keydown",b),window.addEventListener("resize",D),window.addEventListener("scroll",D,!0),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",b),window.removeEventListener("resize",D),window.removeEventListener("scroll",D,!0)}},[se]);const z=m=>{try{const b={};m.fontFamily&&(b.fontFamily=m.fontFamily),m.fontSize&&(b.fontSize=m.fontSize),m.align&&(b.align=m.align),m.valign&&(b.valign=m.valign),m.color&&(b.color=m.color),m.bgColor&&(b.bgColor=m.bgColor),Object.keys(b).length&&qe(D=>({...D,...b}))}catch{}try{const b=typeof window<"u"?window.currentEditingTableCell:null;if(b&&b.id===r.id){const D=r.cells[b.cellIndex];D&&a(D.id,m)}}catch{}},A=m=>{var W;const b={...m};if(b.fontSize!=null){const J=parseInt(b.fontSize,10);b.fontSize=Number.isFinite(J)?J:b.fontSize}const D=G();if(k==="cell"&&D.length===0){p(b),z(b);return}if(k==="header"){g(b),z(b);return}if(k==="body"){x(b),z(b);return}if(D.length){const J=[...r.cells];for(const oe of D)J[oe]={...J[oe],styles:{...(W=J[oe])==null?void 0:W.styles,...b}};l({cells:J}),z(b);return}z(b)},G=()=>{const m=r.cols,b=r.rows,D=b*m,W=i();if(k==="cell")return W!==null?[W]:[];if(k==="header")return Array.from({length:m},(J,oe)=>oe);if(k==="body")return Array.from({length:D-m},(J,oe)=>oe+m);if(k==="row"){if(W===null)return[];const J=Math.floor(W/m);if(r.headerRow&&J===0)return[];const oe=J*m;return Array.from({length:m},(le,xe)=>oe+xe)}if(k==="col"){if(W===null)return[];const J=W%m,oe=[];for(let le=0;le<b;le++)r.headerRow&&le===0||oe.push(le*m+J);return oe}return[]},ee=m=>{const b=G();return b.length?b.every(D=>{var W,J;return!!((J=(W=r.cells[D])==null?void 0:W.styles)!=null&&J[m])}):!1},re=m=>{const b=!ee(m);A({[m]:b})},pe=(m,b)=>{var J,oe,le,xe,ke,tt,at;const D=G();if(D.length){const rt=(oe=(J=r.cells[D[0]])==null?void 0:J.styles)==null?void 0:oe[m];return rt??b}try{const rt=typeof window<"u"?window.currentEditingTableCell:null;if(rt&&rt.id===r.id&&Number.isInteger(rt.cellIndex)){const Bt=(xe=(le=r.cells[rt.cellIndex])==null?void 0:le.styles)==null?void 0:xe[m];return Bt??b}}catch{}const W=(at=(tt=(ke=r.cells)==null?void 0:ke[0])==null?void 0:tt.styles)==null?void 0:at[m];return W??b},We=(m="")=>m.replace(/\w\S*/g,b=>b.charAt(0).toUpperCase()+b.slice(1).toLowerCase()),Ze=(m="",b="upper")=>b==="upper"?m.toUpperCase():b==="lower"?m.toLowerCase():We(m),we=m=>{const b=r.cols,D=r.cells.map((W,J)=>(k==="cell"?J===i():k==="header"?J<b:J>=b)?{...W,text:Ze(W.text||"",m)}:W);l({cells:D});try{const W=typeof window<"u"?window.currentEditingTableCell:null;if(W&&W.id===r.id){const J=D[W.cellIndex],oe=document.getElementById(`table-cell-${J.id}`);oe&&(oe.textContent=J.text||"")}}catch{}},Se=m=>{var J,oe;const b=G();if(!b.length)return!1;if(k==="cell"){const le=b[0],xe=((J=r.cells[le])==null?void 0:J.text)||"";return xe?Ze(xe,m)===xe:!1}let D=!1;const W=Math.min(50,b.length);for(let le=0;le<W;le++){const xe=b[le],ke=((oe=r.cells[xe])==null?void 0:oe.text)||"";if(ke&&(D=!0,Ze(ke,m)!==ke))return!1}return D},Je=m=>{const b=r.cols,D=i(),W=D!==null?Math.floor(D/b):r.rows-1,J=m==="above"?W-1:W;Fe(1,J)},_t=m=>{if(r.rows<=1)return E();const b=(()=>{const oe=r.cols,le=i();return le!==null?Math.floor(le/oe):0})(),D=r.cols,W=r.rows-1,J=[];for(let oe=0;oe<r.rows;oe++){if(oe===b)continue;const le=oe*D;J.push(...r.cells.slice(le,le+D))}l({rows:W,cells:J}),setTimeout(()=>u(Math.max(0,Math.min(W*D-1,b*D))),0)},un=m=>{r.rows;const b=i(),D=b!==null?b%r.cols:r.cols-1,W=m==="left"?D-1:D;$t(1,W)},Vr=m=>{if(r.cols<=1)return N();const b=r.rows,D=(()=>{const oe=i();return oe!==null?oe%r.cols:0})(),W=r.cols-1,J=[];for(let oe=0;oe<b;oe++){const le=oe*r.cols;for(let xe=0;xe<r.cols;xe++){if(xe===D)continue;const ke=le+xe;J.push(r.cells[ke])}}l({cols:W,cells:J}),setTimeout(()=>{const oe=typeof window<"u"?window.currentEditingTableCell:null,le=oe&&oe.id===r.id?Math.floor(oe.cellIndex/(W+1)):0,xe=Math.max(0,Math.min(W-1,D));u(le*W+xe)},0)},Fe=(m,b=null)=>{var rt,Bt;if(!Number.isFinite(m)||m<=0)return;const D=r.cols,W=(()=>{try{const He=typeof window<"u"?window.currentEditingTableCell:null;return He&&He.id===r.id&&Number.isInteger(He.cellIndex)?He.cellIndex:null}catch{return null}})(),J=i(),oe=J!==null?Math.floor(J/D):r.rows-1,le=b??oe,xe=r.rows+m,ke=[],tt=()=>{if(W===null)return;const He=Math.floor(W/D),Ve=le<0||le<He?W+m*D:W;setTimeout(()=>u(Math.min(xe*D-1,Ve)),0)};if(le<0){for(let He=0;He<m;He++)for(let gt=0;gt<D;gt++)ke.push({id:c(),text:"",styles:{...((rt=r.cells[0])==null?void 0:rt.styles)||{}}});for(let He=0;He<r.rows;He++){const gt=He*D;ke.push(...r.cells.slice(gt,gt+D))}l({rows:xe,cells:ke}),tt();return}const at=Math.max(0,Math.min(r.rows-1,le));for(let He=0;He<r.rows;He++){const gt=He*D;if(ke.push(...r.cells.slice(gt,gt+D)),He===at)for(let Ve=0;Ve<m;Ve++)for(let Tt=0;Tt<D;Tt++)ke.push({id:c(),text:"",styles:{...((Bt=r.cells[0])==null?void 0:Bt.styles)||{}}})}l({rows:xe,cells:ke}),tt()},$t=(m,b=null)=>{var rt,Bt,He,gt;if(!Number.isFinite(m)||m<=0)return;const D=r.rows,W=(()=>{try{const Ve=typeof window<"u"?window.currentEditingTableCell:null;return Ve&&Ve.id===r.id&&Number.isInteger(Ve.cellIndex)?Ve.cellIndex:null}catch{return null}})(),J=i(),oe=J!==null?J%r.cols:r.cols-1,le=b??oe,xe=r.cols+m,ke=[],tt=()=>{if(W===null)return;const Ve=Math.floor(W/(xe-m)),Tt=W%(xe-m),Kn=le<0||le<Tt?Tt+m:Tt,y=Ve*xe+Kn;setTimeout(()=>u(Math.min(D*xe-1,y)),0)};if(le<0){for(let Ve=0;Ve<D;Ve++){for(let xt=0;xt<m;xt++)ke.push({id:c(),text:"",styles:{...((rt=r.cells[Ve*r.cols])==null?void 0:rt.styles)||((Bt=r.cells[0])==null?void 0:Bt.styles)||{}}});const Tt=Ve*r.cols;for(let xt=0;xt<r.cols;xt++)ke.push(r.cells[Tt+xt])}l({cols:xe,cells:ke}),tt();return}const at=Math.max(0,Math.min(r.cols-1,le));for(let Ve=0;Ve<D;Ve++){const Tt=Ve*r.cols;for(let xt=0;xt<r.cols;xt++){const Kn=Tt+xt;if(ke.push(r.cells[Kn]),xt===at)for(let y=0;y<m;y++)ke.push({id:c(),text:"",styles:{...((He=r.cells[Kn])==null?void 0:He.styles)||((gt=r.cells[0])==null?void 0:gt.styles)||{}}})}}l({cols:xe,cells:ke}),tt()};return ae.useEffect(()=>{const m=b=>{const D=document.getElementById("table-style-panel");if(D&&(D===b.target||D.contains(b.target)))try{window.keepTableEditing=!0,setTimeout(()=>{window.keepTableEditing=!1},1e3)}catch{}};return document.addEventListener("pointerdown",m,!0),()=>document.removeEventListener("pointerdown",m,!0)},[]),ae.useEffect(()=>{const m=b=>{b.key==="Escape"&&(L(!1),H(!1))};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[]),o.jsxs("div",{id:"table-style-panel",className:"space-y-4 overflow-x-hidden",onMouseDown:s,onPointerDown:s,children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Table Style"}),o.jsxs(C,{label:"Structure",children:[o.jsxs("div",{className:"relative",onMouseDown:s,children:[o.jsxs("button",{ref:F,onPointerDown:m=>{var D;m.preventDefault(),m.stopPropagation(),s();const b=(D=F.current)==null?void 0:D.getBoundingClientRect();b&&q({top:b.bottom+8,left:b.left,width:b.width}),R(W=>{const J=!W;return J||Y(!1),J})},onMouseDown:m=>{s(),w("rows-cols-mousedown",{})},onClick:m=>{m.preventDefault(),w("rows-cols-click",{})},className:"px-3 py-2 rounded-lg border bg-white/70 backdrop-blur-sm shadow-sm text-sm flex items-center gap-2 w-full hover:shadow-md transition-all duration-200",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[o.jsx("circle",{cx:"12",cy:"12",r:"3"}),o.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 8 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 3.6 15a1.65 1.65 0 0 0-1.51-1H2a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 3.6 8a1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 6.04 3.3l.06.06A1.65 1.65 0 0 0 8 3.6 1.65 1.65 0 0 0 9 2.09V2a2 2 0 1 1 4 0v.09A1.65 1.65 0 0 0 15 3.6a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 20.4 8c0 .62.24 1.2.6 1.64V9.7a2 2 0 1 1 0 4 v-.06A1.65 1.65 0 0 0 19.4 15z"})]}),"Rows / Columns",o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M7 10l5 5 5-5z"})})]}),j&&mn.createPortal(o.jsx("div",{ref:X,className:`fixed z-[2147483647] ${me?"opacity-100 translate-y-0":"opacity-0 -translate-y-1"} transition-all duration-150 ease-out`,style:{top:(T==null?void 0:T.top)??(((nn=(Ft=F.current)==null?void 0:Ft.getBoundingClientRect())==null?void 0:nn.bottom)??0)+8,left:(T==null?void 0:T.left)??((Cn=(jn=F.current)==null?void 0:jn.getBoundingClientRect())==null?void 0:Cn.left)??0,width:(T==null?void 0:T.width)??((kn=(fr=F.current)==null?void 0:fr.getBoundingClientRect())==null?void 0:kn.width)??240},children:o.jsxs("div",{className:"w-full bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-xl p-2 space-y-2 relative",children:[o.jsx("button",{type:"button","aria-label":"Close",title:"Close",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),R(!1),Y(!1)},onMouseDown:s,className:"absolute top-1.5 right-1.5 w-6 h-6 rounded hover:bg-gray-100 flex items-center justify-center text-gray-500",children:""}),o.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 px-2",children:"Quick actions"}),o.jsxs("div",{className:"grid grid-cols-2 gap-1 px-1",children:[o.jsxs("button",{type:"button",title:"Add row above",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),Je("above")},onMouseDown:s,className:"px-2 py-2 rounded-lg hover:bg-gray-50 text-sm flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-md bg-emerald-100 text-emerald-700",children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[o.jsx("path",{d:"M12 5v14"}),o.jsx("path",{d:"M5 8h14"})]})}),o.jsx("span",{className:"flex-1 text-left",children:"Row above"})]}),o.jsxs("button",{type:"button",title:"Add row below",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),Je("below")},onMouseDown:s,className:"px-2 py-2 rounded-lg hover:bg-gray-50 text-sm flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-md bg-emerald-100 text-emerald-700",children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[o.jsx("path",{d:"M12 5v14"}),o.jsx("path",{d:"M5 16h14"})]})}),o.jsx("span",{className:"flex-1 text-left",children:"Row below"})]}),o.jsxs("button",{type:"button",title:"Add column left",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),un("left")},onMouseDown:s,className:"px-2 py-2 rounded-lg hover:bg-gray-50 text-sm flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-md bg-emerald-100 text-emerald-700",children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[o.jsx("path",{d:"M5 12h14"}),o.jsx("path",{d:"M8 5v14"})]})}),o.jsx("span",{className:"flex-1 text-left",children:"Col left"})]}),o.jsxs("button",{type:"button",title:"Add column right",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),un("right")},onMouseDown:s,className:"px-2 py-2 rounded-lg hover:bg-gray-50 text-sm flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-md bg-emerald-100 text-emerald-700",children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[o.jsx("path",{d:"M5 12h14"}),o.jsx("path",{d:"M16 5v14"})]})}),o.jsx("span",{className:"flex-1 text-left",children:"Col right"})]}),o.jsxs("button",{type:"button",title:"Remove current row",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),_t()},onMouseDown:s,className:"px-2 py-2 rounded-lg hover:bg-gray-50 text-sm flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-md bg-rose-100 text-rose-700",children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:o.jsx("path",{d:"M5 12h14"})})}),o.jsx("span",{className:"flex-1 text-left",children:"Remove row"})]}),o.jsxs("button",{type:"button",title:"Remove current column",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),Vr()},onMouseDown:s,className:"px-2 py-2 rounded-lg hover:bg-gray-50 text-sm flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-md bg-rose-100 text-rose-700",children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:o.jsx("path",{d:"M5 12h14"})})}),o.jsx("span",{className:"flex-1 text-left",children:"Remove col"})]})]}),o.jsx("div",{className:"h-px bg-gray-200"}),o.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 px-2",children:"Bulk insert"}),o.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5",children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Rows"}),o.jsx("input",{onMouseDown:s,type:"number",min:"1",value:d,onChange:m=>h(Math.max(1,parseInt(m.target.value||"1",10))),className:"w-20 px-2 py-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-400"}),o.jsxs("button",{type:"button",title:"Insert N rows after current row (or end)",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),Fe(d)},onMouseDown:s,className:"px-2 py-1 rounded-md border hover:bg-gray-50 inline-flex items-center gap-1",children:[o.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[o.jsx("path",{d:"M12 5v14"}),o.jsx("path",{d:"M5 12h14"})]}),o.jsx("span",{children:"Add"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5",children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Columns"}),o.jsx("input",{onMouseDown:s,type:"number",min:"1",value:v,onChange:m=>S(Math.max(1,parseInt(m.target.value||"1",10))),className:"w-20 px-2 py-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-400"}),o.jsxs("button",{type:"button",title:"Insert N columns after current column (or end)",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),$t(v)},onMouseDown:s,className:"px-2 py-1 rounded-md border hover:bg-gray-50 inline-flex items-center gap-1",children:[o.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[o.jsx("path",{d:"M12 5v14"}),o.jsx("path",{d:"M5 12h14"})]}),o.jsx("span",{children:"Add"})]})]})]})}),document.body)]}),o.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:[r.rows,"  ",r.cols]})]}),o.jsxs(C,{label:"Format",children:[o.jsxs("div",{className:"flex items-center gap-1 flex-wrap",onPointerDown:s,children:[o.jsx("button",{type:"button","aria-pressed":ee("bold"),onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),w("bold-press",{scope:k}),re("bold")},onClick:m=>{m.preventDefault(),s(),w("bold-click",{scope:k}),re("bold")},className:`px-2 py-1 rounded border ${ee("bold")?"bg-black text-white border-black":""}`,title:"Bold",children:"B"}),o.jsx("button",{type:"button","aria-pressed":ee("italic"),onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),w("italic-press",{scope:k}),re("italic")},onClick:m=>{m.preventDefault(),s(),w("italic-click",{scope:k}),re("italic")},className:`px-2 py-1 rounded border ${ee("italic")?"bg-black text-white border-black":""}`,title:"Italic",children:o.jsx("span",{style:{fontStyle:"italic"},children:"I"})}),o.jsx("button",{type:"button","aria-pressed":ee("underline"),onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),w("underline-press",{scope:k}),re("underline")},onClick:m=>{m.preventDefault(),s(),w("underline-click",{scope:k}),re("underline")},className:`px-2 py-1 rounded border ${ee("underline")?"bg-black text-white border-black":""}`,title:"Underline",children:o.jsx("span",{style:{textDecoration:"underline"},children:"U"})}),o.jsx("button",{type:"button","aria-pressed":Se("upper"),onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),w("case-upper",{scope:k}),we("upper")},onClick:m=>{m.preventDefault(),s(),we("upper")},className:`px-2 py-1 rounded border ${Se("upper")?"bg-black text-white border-black":""}`,title:"UPPERCASE",children:"Aa"}),o.jsx("button",{type:"button","aria-pressed":Se("lower"),onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),w("case-lower",{scope:k}),we("lower")},onClick:m=>{m.preventDefault(),s(),we("lower")},className:`px-2 py-1 rounded border ${Se("lower")?"bg-black text-white border-black":""}`,title:"lowercase",children:"aa"}),o.jsx("button",{type:"button","aria-pressed":Se("title"),onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),s(),w("case-title",{scope:k}),we("title")},onClick:m=>{m.preventDefault(),s(),we("title")},className:`px-2 py-1 rounded border ${Se("title")?"bg-black text-white border-black":""}`,title:"Title Case",children:"Ab"})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[o.jsxs("select",{onPointerDown:s,onFocus:s,className:"mini-toolbar-dropdown border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-brand-400",value:pe("fontFamily","Inter, system-ui, sans-serif"),onChange:m=>{w("font-family-change",{value:m.target.value}),A({fontFamily:m.target.value})},onInput:m=>{w("font-family-input",{value:m.target.value}),A({fontFamily:m.target.value})},children:[o.jsx("option",{value:"Inter, system-ui, sans-serif",children:"Inter"}),o.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),o.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),o.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),o.jsx("option",{value:"Georgia, serif",children:"Georgia"}),o.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"})]}),o.jsx("input",{onPointerDown:s,onFocus:s,type:"number",min:"8",max:"120",step:"1",className:"w-20 px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-brand-400",value:(()=>{const m=pe("fontSize",14);return typeof m=="string"?parseInt(m,10)||14:Number.isFinite(m)?m:14})(),onChange:m=>{const b=parseInt(m.target.value,10),D=Number.isFinite(b)?b:14;w("font-size-change",{value:D}),A({fontSize:D})},onInput:m=>{const b=parseInt(m.target.value,10),D=Number.isFinite(b)?b:14;w("font-size-input",{value:D}),A({fontSize:D})}}),(()=>{const m=pe("align","center"),b=D=>`px-2 py-1 rounded border text-xs ${D?"bg-black text-white border-black":""}`;return o.jsxs("div",{className:"inline-flex items-center gap-1",onPointerDown:s,children:[o.jsx("button",{type:"button","aria-pressed":m==="left",className:b(m==="left"),title:"Align left",onPointerDown:D=>{D.preventDefault(),D.stopPropagation(),s(),w("align-left",{scope:k}),A({align:"left"})},onClick:D=>{D.preventDefault(),s(),A({align:"left"})},children:"L"}),o.jsx("button",{type:"button","aria-pressed":m==="center",className:b(m==="center"),title:"Align center",onPointerDown:D=>{D.preventDefault(),D.stopPropagation(),s(),w("align-center",{scope:k}),A({align:"center"})},onClick:D=>{D.preventDefault(),s(),A({align:"center"})},children:"C"}),o.jsx("button",{type:"button","aria-pressed":m==="right",className:b(m==="right"),title:"Align right",onPointerDown:D=>{D.preventDefault(),D.stopPropagation(),s(),w("align-right",{scope:k}),A({align:"right"})},onClick:D=>{D.preventDefault(),s(),A({align:"right"})},children:"R"})]})})(),(()=>{const m=pe("valign","middle"),b=D=>`px-2 py-1 rounded border text-xs ${D?"bg-black text-white border-black":""}`;return o.jsxs("div",{className:"inline-flex items-center gap-1",onPointerDown:s,children:[o.jsx("button",{type:"button","aria-pressed":m==="top",className:b(m==="top"),title:"Align top",onPointerDown:D=>{D.preventDefault(),D.stopPropagation(),s(),w("valign-top",{scope:k}),A({valign:"top"})},onClick:D=>{D.preventDefault(),s(),A({valign:"top"})},children:"T"}),o.jsx("button",{type:"button","aria-pressed":m==="middle",className:b(m==="middle"),title:"Align middle",onPointerDown:D=>{D.preventDefault(),D.stopPropagation(),s(),w("valign-middle",{scope:k}),A({valign:"middle"})},onClick:D=>{D.preventDefault(),s(),A({valign:"middle"})},children:"M"}),o.jsx("button",{type:"button","aria-pressed":m==="bottom",className:b(m==="bottom"),title:"Align bottom",onPointerDown:D=>{D.preventDefault(),D.stopPropagation(),s(),w("valign-bottom",{scope:k}),A({valign:"bottom"})},onClick:D=>{D.preventDefault(),s(),A({valign:"bottom"})},children:"B"})]})})()]}),o.jsx("div",{className:"mt-2",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{onPointerDown:m=>{m.stopPropagation(),s(),w("header-checkbox-down",{checked:!!r.headerRow})},onMouseDown:s,type:"checkbox",checked:!!r.headerRow,onPointerUp:m=>{var D,W;m.stopPropagation();const b=!r.headerRow;w("header-checkbox-up",{next:b}),l({headerRow:b});try{const J=window.currentEditingTableCell;if(J&&J.id===r.id&&Math.floor(J.cellIndex/r.cols)===0){const le=r.cells[J.cellIndex];if(le)if(b)a(le.id,{bgColor:r.headerBg||"#f3f4f6",color:r.headerTextColor||"#111827"});else{const xe=((D=le.styles)==null?void 0:D.bgColor)||r.cellBg||"#ffffff",ke=((W=le.styles)==null?void 0:W.color)||"#111827";a(le.id,{bgColor:xe,color:ke})}}}catch{}},onClick:m=>{m.preventDefault(),m.stopPropagation()},onChange:m=>{var D,W;w("header-checkbox-change",{next:m.target.checked});const b=m.target.checked;l({headerRow:b});try{const J=window.currentEditingTableCell;if(J&&J.id===r.id&&Math.floor(J.cellIndex/r.cols)===0){const le=r.cells[J.cellIndex];if(le)if(b)a(le.id,{bgColor:r.headerBg||"#f3f4f6",color:r.headerTextColor||"#111827"});else{const xe=((D=le.styles)==null?void 0:D.bgColor)||r.cellBg||"#ffffff",ke=((W=le.styles)==null?void 0:W.color)||"#111827";a(le.id,{bgColor:xe,color:ke})}}}catch{}}}),o.jsx("span",{className:"text-sm",children:"Enable header row"})]})})]}),o.jsx(C,{label:"Header styles",children:o.jsxs("div",{className:"relative",children:[o.jsxs("button",{ref:Re,onPointerDown:m=>{var D;m.preventDefault(),m.stopPropagation(),s();const b=(D=Re.current)==null?void 0:D.getBoundingClientRect();b&&$({top:b.bottom+8,left:b.left,width:b.width}),H(!1),L(W=>!W)},onMouseDown:s,className:"px-3 py-1.5 rounded border bg-white shadow-sm text-sm flex items-center gap-2",onClick:m=>{m.preventDefault()},children:[o.jsx("span",{className:"inline-block w-4 h-4 rounded",style:{background:r.headerBg||"#f3f4f6"}}),o.jsx("span",{className:"inline-block w-4 h-4 rounded",style:{background:r.headerTextColor||"#111827"}}),"Header styles",o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M7 10l5 5 5-5z"})})]}),M&&mn.createPortal(o.jsx("div",{ref:_e,className:"fixed z-[2147483647]",style:{top:(Pe==null?void 0:Pe.top)??(((Gn=(Qn=Re.current)==null?void 0:Qn.getBoundingClientRect())==null?void 0:Gn.bottom)??0)+8,left:(Pe==null?void 0:Pe.left)??((rn=(et=Re.current)==null?void 0:et.getBoundingClientRect())==null?void 0:rn.left)??0,width:(Pe==null?void 0:Pe.width)??256},children:o.jsxs("div",{className:"w-64 p-3 rounded-lg border dropdown-panel bg-white relative",children:[o.jsx("button",{type:"button","aria-label":"Close",title:"Close",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),L(!1)},className:"absolute top-1.5 right-1.5 w-6 h-6 rounded hover:bg-gray-100 flex items-center justify-center text-gray-500",children:""}),o.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Header background"}),o.jsx("input",{onPointerDown:m=>{m.stopPropagation(),s()},onMouseDown:s,onFocus:s,type:"color",value:r.headerBg||"#f3f4f6",onChange:m=>{l({headerBg:m.target.value});try{const b=window.currentEditingTableCell;if(b&&b.id===r.id&&Math.floor(b.cellIndex/r.cols)===0){const W=r.cells[b.cellIndex];W&&a(W.id,{bgColor:m.target.value})}}catch{}},onInput:m=>{try{const b=window.currentEditingTableCell;if(b&&b.id===r.id&&Math.floor(b.cellIndex/r.cols)===0){const W=r.cells[b.cellIndex];W&&a(W.id,{bgColor:m.target.value})}}catch{}},className:"w-full h-10 rounded border bg-white/80"}),o.jsx("div",{className:"text-xs text-gray-600 mt-3 mb-1",children:"Header text color"}),o.jsx("input",{onPointerDown:m=>{m.stopPropagation(),s()},onMouseDown:s,onFocus:s,type:"color",value:r.headerTextColor||"#111827",onChange:m=>{l({headerTextColor:m.target.value});try{const b=window.currentEditingTableCell;if(b&&b.id===r.id&&Math.floor(b.cellIndex/r.cols)===0){const W=r.cells[b.cellIndex];W&&a(W.id,{color:m.target.value})}}catch{}},onInput:m=>{try{const b=window.currentEditingTableCell;if(b&&b.id===r.id&&Math.floor(b.cellIndex/r.cols)===0){const W=r.cells[b.cellIndex];W&&a(W.id,{color:m.target.value})}}catch{}},className:"w-full h-10 rounded border bg-white/80"})]})}),document.body)]})}),o.jsx(C,{label:"Colors",children:o.jsxs("div",{className:"relative",children:[o.jsxs("button",{ref:Z,onPointerDown:m=>{var D;m.preventDefault(),m.stopPropagation(),s();const b=(D=Z.current)==null?void 0:D.getBoundingClientRect();b&&be({top:b.bottom+8,left:b.left,width:b.width}),L(!1),H(W=>!W)},onMouseDown:s,className:"px-3 py-1.5 rounded border bg-white shadow-sm text-sm flex items-center gap-2",onClick:m=>{m.preventDefault()},children:[o.jsx("span",{className:"inline-block w-4 h-4 rounded",style:{background:i()!==null&&((Wo=(Nn=r.cells[i()])==null?void 0:Nn.styles)==null?void 0:Wo.bgColor)||r.cellBg||"#ffffff"}}),o.jsx("span",{className:"inline-block w-4 h-4 rounded",style:{background:r.borderColor||"#000000"}}),"Cell / Border",o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M7 10l5 5 5-5z"})})]}),_&&mn.createPortal(o.jsx("div",{ref:he,className:"fixed z-[2147483647]",style:{top:(ue==null?void 0:ue.top)??(((Sn=(Yn=Z.current)==null?void 0:Yn.getBoundingClientRect())==null?void 0:Sn.bottom)??0)+8,left:(ue==null?void 0:ue.left)??((Uo=(Ho=Z.current)==null?void 0:Ho.getBoundingClientRect())==null?void 0:Uo.left)??0,width:(ue==null?void 0:ue.width)??256},children:o.jsxs("div",{className:"w-64 p-3 rounded-lg border dropdown-panel bg-white relative",children:[o.jsx("button",{type:"button","aria-label":"Close",title:"Close",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),H(!1)},className:"absolute top-1.5 right-1.5 w-6 h-6 rounded hover:bg-gray-100 flex items-center justify-center text-gray-500",children:""}),o.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Text color"}),o.jsx("input",{onPointerDown:s,onFocus:s,type:"color",value:pe("color","#111827"),onChange:m=>{A({color:m.target.value})},onInput:m=>{A({color:m.target.value})},className:"w-full h-10 rounded border bg-white/80"}),o.jsx("div",{className:"text-xs text-gray-600 mt-3 mb-1",children:"Cell background"}),o.jsx("input",{onPointerDown:s,onFocus:s,type:"color",value:i()!==null&&((Vo=(Xr=r.cells[i()])==null?void 0:Xr.styles)==null?void 0:Vo.bgColor)||r.cellBg||"#ffffff",onChange:m=>{A({bgColor:m.target.value})},onInput:m=>{A({bgColor:m.target.value})},className:"w-full h-10 rounded border bg-white/80"}),o.jsx("div",{className:"text-xs text-gray-600 mt-3 mb-1",children:"Border color"}),o.jsx("input",{onPointerDown:s,onFocus:s,type:"color",value:r.borderColor||"#000000",onChange:m=>{l({borderColor:m.target.value})},onInput:m=>{l({borderColor:m.target.value})},className:"w-full h-10 rounded border bg-white/80"})]})}),document.body)]})}),o.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600 mb-2",children:"Apply styles to"}),o.jsxs("div",{className:"flex items-center gap-3 text-xs",onPointerDown:s,children:[o.jsxs("label",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"radio",name:"tbl-scope",checked:k==="cell",onChange:()=>f("cell")})," cell"]}),o.jsxs("label",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"radio",name:"tbl-scope",checked:k==="row",onChange:()=>f("row")})," row wise"]}),o.jsxs("label",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"radio",name:"tbl-scope",checked:k==="col",onChange:()=>f("col")})," column wise"]}),o.jsxs("label",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"radio",name:"tbl-scope",checked:k==="header",onChange:()=>f("header")})," header rows"]}),o.jsxs("label",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"radio",name:"tbl-scope",checked:k==="body",onChange:()=>f("body")})," body rows"]})]})]}),o.jsx("div",{className:"sticky bottom-0 pt-2 mt-4 bg-gradient-to-t from-white/80 to-transparent backdrop-blur-sm",children:o.jsx("div",{className:"text-xs text-gray-600",children:"Tip: Choose the scope (cell/header/body). Header and body styles are independent and only apply when you select them explicitly"})}),ce.open&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.35)"},onMouseDown:m=>{m.stopPropagation()},children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl border p-4 w-80",children:[o.jsx("div",{className:"text-sm text-gray-800",children:ce.text}),o.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[o.jsx("button",{className:"px-3 py-1.5 rounded border",onClick:()=>P(),children:"Cancel"}),ce.confirm&&o.jsx("button",{className:"px-3 py-1.5 rounded bg-black text-white",onClick:()=>{try{ce.confirm()}catch{}P()},children:"Proceed"})]})]})})]})}function ym({isOpen:e,onClose:t,onFileOpen:n,onSave:r}){const{state:l,dispatch:s}=zt();I.useRef(null);const[i,a]=I.useState(!1),[c,p]=I.useState(!1);if(!e)return null;const g=()=>{p(!0)},x=()=>typeof window<"u"&&window.isSecureContext&&"showSaveFilePicker"in window,u=async(M,L)=>{if(typeof navigator<"u"&&navigator.msSaveOrOpenBlob)try{return navigator.msSaveOrOpenBlob(M,L),L}catch{}if(x())try{const F=await window.showSaveFilePicker({suggestedName:L,types:[{description:"PowerPoint Presentation",accept:{"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]}}],excludeAcceptAllOption:!1}),X=await F.createWritable();try{await X.truncate(0)}catch{}const T=await M.arrayBuffer();return await X.write(new Uint8Array(T)),await X.close(),(F==null?void 0:F.name)||L}catch{}const _=URL.createObjectURL(M),H=document.createElement("a");return H.href=_,H.download=L,H.style.display="none",document.body.appendChild(H),H.click(),setTimeout(()=>{document.body.removeChild(H),URL.revokeObjectURL(_)},0),L},E=async()=>(window.PptxGenJS||await new Promise((M,L)=>{const _=document.createElement("script");_.src="https://cdn.jsdelivr.net/npm/pptxgenjs@3.12.0/dist/pptxgen.bundle.js",_.onload=M,_.onerror=L,document.head.appendChild(_)}),window.PptxGenJS),N=async()=>{const M=await E(),L=new M;L.defineLayout({name:"WIDE",width:10,height:5.625}),L.layout="WIDE";const _=96;return l.slides.forEach(F=>{const X=L.addSlide();F.background&&typeof F.background=="object"&&F.background.type==="image"&&F.background.src?X.addImage({data:F.background.src,x:0,y:0,w:10,h:5.625}):typeof F.background=="string"&&(X.background={color:F.background}),F.elements.forEach(T=>{var te,se,fe,ce,ge,Re,_e,Pe,$,Z,he,ue,be;const q=(T.x||0)/_,me=(T.y||0)/_,Y=(T.w||200)/_,V=(T.h||80)/_;if(T.type==="text")X.addText(T.html?C(T.html):T.text||"",{x:q,y:me,w:Y,h:V,rotate:Number.isFinite(T.rotation)?T.rotation:0,fontFace:((te=T.styles)==null?void 0:te.fontFamily)||"Arial",fontSize:((se=T.styles)==null?void 0:se.fontSize)||24,bold:!!((fe=T.styles)!=null&&fe.bold),italic:!!((ce=T.styles)!=null&&ce.italic),underline:!!((ge=T.styles)!=null&&ge.underline),color:(((Re=T.styles)==null?void 0:Re.color)||"#111827").replace(/rgba\((.*),(.*),(.*),(.*)\)/,"#111827"),align:((_e=T.styles)==null?void 0:_e.align)||"left"});else if(T.type==="image"&&T.src)X.addImage({data:T.src,x:q,y:me,w:Y,h:V,rotate:Number.isFinite(T.rotation)?T.rotation:0});else if(["rect","square","circle","triangle","diamond","star","message"].includes(T.type)){let Ee="rect";T.type==="circle"?Ee="ellipse":T.type==="triangle"?Ee="triangle":T.type==="diamond"?Ee="diamond":T.type==="star"?Ee="star5":T.type==="message"&&(Ee="wedgeRoundRectCallout");const Me={x:q,y:me,w:Y,h:V,rotate:Number.isFinite(T.rotation)?T.rotation:0,fill:{color:T.fill||"#fde68a"},line:{color:T.stroke||"#f59e0b",width:1}};X.addShape(Ee,Me),T.text&&X.addText(T.text,{x:q,y:me,w:Y,h:V,align:((Pe=T.styles)==null?void 0:Pe.align)||"center",fontSize:T.fontSize||(($=T.styles)==null?void 0:$.fontSize)||16,color:T.textColor||((Z=T.styles)==null?void 0:Z.color)||"#111827",bold:!!((he=T.styles)!=null&&he.bold),italic:!!((ue=T.styles)!=null&&ue.italic),underline:!!((be=T.styles)!=null&&be.underline),valign:"middle"})}else if(T.type==="chart"&&Array.isArray(T.labels)&&Array.isArray(T.data))try{const Me=(Ce=>Array.isArray(Ce)&&Ce.length&&Array.isArray(Ce[0])?Ce.map((qe,w)=>({name:`Series ${w+1}`,labels:T.labels,values:qe})):[{name:"Series 1",labels:T.labels,values:Ce}])(T.data),ze={bar:"bar",column:"bar",line:"line",pie:"pie",area:"area"}[T.chartType]||"bar";X.addChart(ze,Me,{x:q,y:me,w:Y,h:V,chartColors:Array.isArray(T.colors)?T.colors:void 0})}catch{}})}),await L.write("blob")},C=(M="")=>{const L=document.createElement("div");return L.innerHTML=M,L.textContent||L.innerText||""},k=async()=>{try{const M=await N(),L=`presentation-${new Date().toISOString().slice(0,10)}.pptx`,_=await u(M,L),H=String(_||L).replace(/\.(pptx)$/i,"").trim()||"Untitled Presentation";r==null||r(H)}catch(M){alert("Error saving presentation: "+M.message)}},f=async()=>{try{const M=await N();let L=`presentation-${new Date().toISOString().slice(0,10)}.pptx`;if(x()){const H=await u(M,L);H&&(L=H)}else{const H=prompt("Enter filename for the presentation (without extension):",L.replace(/\.pptx$/i,""));H&&H.trim()&&(L=`${H.trim()}.pptx`),await u(M,L)}const _=String(L||"").replace(/\.(pptx)$/i,"").trim()||"Untitled Presentation";r==null||r(_)}catch(M){alert("Error saving presentation: "+M.message)}},d=()=>{const M=window.open("","_blank"),L=l.slides.map((_,H)=>{const F=_.elements.map(X=>X.type==="text"?`
            <div style="position: absolute; left: ${X.x}px; top: ${X.y}px; width: ${X.w}px; height: ${X.h}px; 
                        color: ${X.styles.color}; font-size: ${X.styles.fontSize}px; 
                        font-weight: ${X.styles.bold?700:400}; 
                        font-style: ${X.styles.italic?"italic":"normal"};
                        text-decoration: ${X.styles.underline?"underline":"none"};
                        text-align: ${X.styles.align};
                        background-color: ${X.bgColor||"transparent"};
                        padding: 8px;">
              ${X.text}
            </div>
          `:"").join("");return`
        <div style="page-break-after: always; width: 960px; height: 540px; position: relative; 
                    background: ${_.background||"#ffffff"}; margin: 20px auto; 
                    border: 3px solid #000000; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
          ${F}
          <div style="position: absolute; bottom: 10px; right: 10px; font-size: 12px; color: #666;">
            Slide ${H+1}
          </div>
        </div>
      `}).join("");M.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Presentation Export</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
            @media print {
              body { margin: 0; padding: 0; }
            }
          </style>
        </head>
        <body>
          ${L}
          <script>
            window.onload = function() {
              window.print();
              setTimeout(() => window.close(), 100);
            }
          <\/script>
        </body>
      </html>
    `),M.document.close()},h=async()=>{try{const M=l.slides.map((T,q)=>{const me=T.elements.map(Y=>Y.type==="text"?`
              <div style="position: absolute; left: ${Y.x}px; top: ${Y.y}px; width: ${Y.w}px; height: ${Y.h}px; 
                          color: ${Y.styles.color}; font-family: '${Y.styles.fontFamily}'; font-size: ${Y.styles.fontSize}px; 
                          font-weight: ${Y.styles.bold?700:400}; 
                          font-style: ${Y.styles.italic?"italic":"normal"};
                          text-decoration: ${Y.styles.underline?"underline":"none"};
                          text-align: ${Y.styles.align};
                          background-color: ${Y.bgColor||"transparent"};
                          padding: 8px; box-sizing: border-box; border-radius: 4px;">
                ${Y.html||Y.text}
              </div>
            `:Y.type==="image"&&Y.src?`
              <img src="${Y.src}" style="position: absolute; left: ${Y.x}px; top: ${Y.y}px; width: ${Y.w}px; height: ${Y.h}px; object-fit: contain;" />
            `:["rect","square","circle","triangle","diamond","star","message"].includes(Y.type)?`
              <div style="position: absolute; left: ${Y.x}px; top: ${Y.y}px; width: ${Y.w}px; height: ${Y.h}px;
                          background: ${Y.fill||"#fde68a"}; border: 2px solid ${Y.stroke||"#f59e0b"};
                          ${Y.type==="circle"?"border-radius: 50%;":""}
                          display: flex; align-items: center; justify-content: center;
                          color: ${Y.textColor||"#111827"}; font-size: ${Y.fontSize||"16"}px; font-weight: 500;">
                ${Y.text||""}
              </div>
            `:"").join("");return`
          <div style="width: 960px; height: 540px; position: relative; margin: 20px auto;
                      background: ${T.background||"#ffffff"}; 
                      border: 2px solid #e5e7eb; border-radius: 8px;
                      box-shadow: 0 4px 6px rgba(0,0,0,0.1); page-break-after: always;">
            <div style="position: absolute; top: -25px; left: 0; font-size: 14px; font-weight: 600; color: #374151;">
              ${T.name||`Slide ${q+1}`}
            </div>
            ${me}
          </div>
        `}).join(""),L=`
<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>PPT Slide Maker - Presentation Export</title>
  <style>
    body { 
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
      background: #ffffff;
    }
    h1 {
      color: #1f2937;
      border-bottom: 3px solid #3b82f6;
      padding-bottom: 10px;
    }
    .info {
      background: #f8fafc;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 30px;
    }
  </style>
</head>
<body>
  <h1> PPT Slide Maker - Presentation Export</h1>
  
  <div class="info">
    <p><strong> Total Slides:</strong> ${l.slides.length}</p>
    <p><strong> Export Date:</strong> ${new Date().toLocaleString()}</p>
  </div>
  
  ${M}
</body>
</html>
      `,_=new Blob([L],{type:"application/msword"}),H=URL.createObjectURL(_),F=document.createElement("a");F.href=H;const X=`PPT-Presentation-${new Date().toISOString().slice(0,10)}.doc`;F.download=X,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(H),alert(" Presentation exported as Word document successfully!")}catch(M){alert(" Error exporting to Word: "+M.message)}},v=async()=>{try{const M=document.createElement("canvas"),L=M.getContext("2d"),_=960,H=540,F=40,X=60;M.width=_+F*2,M.height=(H+X)*l.slides.length+F*2,L.fillStyle="#ffffff",L.fillRect(0,0,M.width,M.height),L.fillStyle="#1f2937",L.font="bold 24px Arial",L.fillText(" PPT Slide Maker Presentation",F,F+20),L.font="16px Arial",L.fillText(` Total Slides: ${l.slides.length}`,F,F+50),L.fillText(` ${new Date().toLocaleString()}`,F,F+75);let T=F+100;l.slides.forEach((q,me)=>{L.fillStyle=q.background||"#ffffff",L.fillRect(F,T,_,H),L.strokeStyle="#e5e7eb",L.lineWidth=2,L.strokeRect(F,T,_,H),L.fillStyle="#374151",L.font="bold 16px Arial",L.fillText(q.name||`Slide ${me+1}`,F,T-10),q.elements.forEach(Y=>{Y.type==="text"&&(L.fillStyle=Y.styles.color||"#111827",L.font=`${Y.styles.bold?"bold ":""}${Y.styles.fontSize||20}px Arial`,L.fillText(Y.text||"",F+Y.x,T+Y.y+20))}),T+=H+X}),M.toBlob(q=>{const me=URL.createObjectURL(q),Y=document.createElement("a");Y.href=me;const V=`PPT-Presentation-${new Date().toISOString().slice(0,10)}.png`;Y.download=V,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(me),alert(" Presentation exported as image successfully!")},"image/png")}catch(M){alert(" Error exporting to image: "+M.message)}},j=[{label:"New",icon:"",action:g,description:"Start a new presentation"},{label:"Save",icon:"",action:k,description:"Save as .pptx (opens file picker)"},{label:"Save As",icon:"",action:f,description:"Save as .pptx with name"},{label:"Export as PDF",icon:"",action:d,description:"Print or save as PDF"},{label:"Share",icon:"",action:()=>{a(!i)},description:"Share as Word or Image",hasSubmenu:!0}],R=[{label:"Share as Word",icon:"",action:h,description:"Export as Word document (.doc)"},{label:"Share as Image",icon:"",action:v,description:"Export as PNG image"}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:t}),o.jsx("div",{className:"fixed left-0 top-[49px] bottom-0 w-80 bg-white shadow-2xl z-50 border-r border-gray-200",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",style:{backgroundColor:"#9B5DE0"},children:o.jsx("h2",{className:"text-xl font-semibold text-white",children:"File"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:j.map((M,L)=>o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>{M.hasSubmenu?M.action():(M.action(),t())},className:"w-full px-6 py-4 flex items-center gap-4 hover:bg-gray-100 transition-colors text-left border-b border-gray-100",children:[o.jsx("span",{className:"text-2xl",children:M.icon}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("span",{className:"text-base font-medium text-gray-700",children:M.label}),o.jsx("span",{className:"text-xs text-gray-500",children:M.description})]}),M.hasSubmenu&&o.jsx("span",{className:`text-gray-400 transition-transform ${i&&M.label==="Share"?"rotate-90":""}`,children:""})]}),M.hasSubmenu&&M.label==="Share"&&i&&o.jsx("div",{className:"bg-gray-50 border-l-4 border-blue-500",children:R.map((_,H)=>o.jsxs("button",{onClick:()=>{_.action(),a(!1),t()},className:"w-full px-10 py-3 flex items-center gap-3 hover:bg-blue-50 transition-colors text-left",children:[o.jsx("span",{className:"text-lg",children:_.icon}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:_.label}),o.jsx("span",{className:"text-xs text-gray-500",children:_.description})]})]},H))})]},L))}),o.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:o.jsx("button",{onClick:t,className:"w-full px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-gray-700 font-medium transition-colors",children:"Close"})})]})}),c&&o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-[420px] p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Start New Presentation?"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You have unsaved changes. Do you want to save your current presentation before creating a new one?"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 text-gray-800 hover:bg-gray-300",onClick:()=>p(!1),children:"Cancel"}),o.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:async()=>{try{await k()}catch{}s({type:"NEW_PRESENTATION"}),n==null||n("Untitled Presentation"),p(!1),t()},children:"Save"}),o.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white hover:bg-red-600",onClick:()=>{s({type:"NEW_PRESENTATION"}),n==null||n("Untitled Presentation"),p(!1),t()},children:"Don't Save"})]})]})})]})}function vm({onEnterApp:e}){const[t,n]=I.useState(!1),r=()=>{n(!0),setTimeout(()=>{e()},1200)};return o.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex flex-col",children:[o.jsxs("header",{className:"flex justify-between items-center p-6 lg:p-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("span",{className:"text-xl font-bold text-gray-800",children:"PPT-Slider"})]}),o.jsxs("nav",{className:"hidden md:flex gap-8 text-gray-600",children:[o.jsx("a",{href:"#features",className:"hover:text-gray-900 transition-colors",children:"Features"}),o.jsx("a",{href:"#about",className:"hover:text-gray-900 transition-colors",children:"About"}),o.jsx("a",{href:"#contact",className:"hover:text-gray-900 transition-colors",children:"Contact"})]})]}),o.jsx("main",{className:"flex-1 flex flex-col items-center justify-center px-6 text-center",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-8 relative",children:[o.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-r from-blue-500 via-purple-600 to-pink-500 rounded-3xl flex items-center justify-center shadow-2xl animate-pulse",children:o.jsx("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"white",className:"animate-bounce",children:o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})})}),o.jsx("div",{className:"absolute -top-4 -left-4 w-8 h-8 bg-yellow-400 rounded-full animate-ping opacity-75"}),o.jsx("div",{className:"absolute -bottom-4 -right-4 w-6 h-6 bg-green-400 rounded-full animate-ping opacity-75",style:{animationDelay:"0.5s"}}),o.jsx("div",{className:"absolute top-1/2 -left-8 w-4 h-4 bg-red-400 rounded-full animate-ping opacity-75",style:{animationDelay:"1s"}})]}),o.jsx("h1",{className:"text-6xl lg:text-8xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-6 tracking-tight",children:"PPT-Slider"}),o.jsx("p",{className:"text-xl lg:text-2xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Create stunning presentations with ease. A modern, intuitive PowerPoint alternative built with React."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-blue-600",children:[o.jsx("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),o.jsx("circle",{cx:"12",cy:"13",r:"3"})]})}),o.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Rich Media Support"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Insert images, shapes, charts, and tables with ease"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-purple-600",children:o.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),o.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Modern Design"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Beautiful interface with smooth animations and effects"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-pink-600",children:o.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})})}),o.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Fast & Responsive"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Lightning-fast performance with real-time editing"})]})]}),o.jsxs("button",{onClick:r,disabled:t,className:"group relative px-12 py-4 bg-gradient-to-r from-blue-500 via-purple-600 to-pink-500 text-white font-semibold rounded-full text-lg shadow-2xl hover:shadow-3xl transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[t?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Loading..."]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Start Creating"}),o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"group-hover:translate-x-1 transition-transform",children:o.jsx("path",{d:"M8 5v14l11-7z"})})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-600 to-pink-500 rounded-full blur opacity-30 group-hover:opacity-50 transition-opacity -z-10"})]}),o.jsx("p",{className:"mt-8 text-gray-500 text-sm",children:"No sign-up required  Works offline  Export to PDF"})]})}),o.jsx("footer",{className:"p-6 text-center text-gray-500 text-sm",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("div",{children:"Built with  using React, Vite & Tailwind CSS"}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx("span",{children:" 2024 PPT-Slider"}),o.jsx("span",{children:""}),o.jsx("span",{children:"All rights reserved"})]})]})}),o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none -z-10",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),o.jsx("div",{className:"absolute top-1/3 right-1/4 w-72 h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob",style:{animationDelay:"2s"}}),o.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-56 h-56 bg-pink-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob",style:{animationDelay:"4s"}})]}),t&&o.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-white/80 backdrop-blur-sm",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-28 h-28 mx-auto bg-gradient-to-r from-blue-500 via-purple-600 to-pink-500 rounded-2xl flex items-center justify-center shadow-2xl animate-pulse",children:o.jsx("svg",{width:"56",height:"56",viewBox:"0 0 24 24",fill:"white",className:"transition-transform duration-700 ease-out",children:o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})})}),o.jsx("div",{className:"absolute inset-0 -z-10 flex items-center justify-center",children:o.jsx("div",{className:"w-36 h-36 rounded-full border-2 border-purple-400/30 border-t-purple-600 animate-spin"})})]})})]})}function wm(){const[e,t]=I.useState(!0),[n,r]=I.useState(!0),[l,s]=I.useState(!1),[i,a]=I.useState(null),[c,p]=I.useState("Home"),[g,x]=I.useState(!1),[u,E]=I.useState("Untitled Presentation"),{getThemeColors:N,isDark:C}=Oo(),k=N(),f=v=>{E(v)},d=v=>{E(v)},h=()=>{t(!1)};return e?o.jsx(vm,{onEnterApp:h}):o.jsxs(Fh,{children:[o.jsxs("div",{className:`flex h-dvh w-dvw overflow-hidden flex-col transition-all duration-500 ${k.mainBg}`,style:{backgroundColor:C?"#000000":"#f2f2f2"},children:[o.jsx(Hh,{activeTab:c,fileName:u,onTabChange:v=>{p(v),x(v==="File")}}),o.jsxs("div",{className:"flex flex-1 min-h-0",children:[o.jsx("div",{className:`${n?"w-64 responsive-sidebar-left":"w-0"} transition-all duration-500 border-r ${k.border} overflow-hidden ${k.shadow} animate-slideInLeft`,style:{background:C?"rgba(255,255,255,0.03)":"#F0F0F0"},children:o.jsx(Oh,{})}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsx(cm,{activeTab:c,onToggleSidebar:()=>r(v=>!v),onPresent:()=>{s(!0),a("manual")},onSlideShow:()=>{s(!0),a("auto")}}),o.jsxs("div",{className:"flex-1 min-h-0 grid grid-cols-[1fr_320px] gap-4 responsive-toolbar-gap px-6 pt-6 transition-all duration-500",style:{paddingBottom:"30px",backgroundColor:C?"#000000":"#f2f2f2"},children:[o.jsx("div",{className:"rounded-lg overflow-hidden animate-slideInUp",style:{animationDelay:"0.2s",backgroundColor:"#f2f2f2"},children:o.jsx(Jh,{})}),o.jsx(bm,{activeTab:c})]})]})]})]}),l&&o.jsx(dm,{mode:i,onClose:()=>{s(!1),a(null)}}),o.jsx(ym,{isOpen:g,onClose:()=>{x(!1),p("Home")},onFileOpen:f,onSave:d})]})}function bm({activeTab:e}){const{state:t}=zt(),n=t.slides.find(d=>d.id===t.currentSlideId),r=n==null?void 0:n.elements.find(d=>d.id===t.selectedElementId),{getThemeColors:l}=Oo(),s=l();typeof window<"u"&&window.currentTextEditorRef&&window.currentTextEditorRef.current&&window.currentTextEditorRef.current.editorNode;const i=r&&["rect","square","circle","triangle","diamond","star","message","roundRect","parallelogram","trapezoid","pentagon","hexagon","octagon","chevron","arrowRight","cloud"].includes(r.type),a=!!(r&&(r.type==="table"||Array.isArray(r.cells)&&typeof r.rows=="number"&&typeof r.cols=="number"));let c=null;const p=!!(n&&typeof n.background=="object"&&n.background.type==="image");e==="Home"?(r&&(a?c=o.jsx(hl,{}):r.type==="chart"?c=o.jsx(fl,{}):i?c=o.jsx(pl,{}):r.type==="text"&&(c=o.jsx(ro,{}))),c||(c=o.jsx(ro,{}))):e==="Insert"?(r&&(a?c=o.jsx(hl,{}):r.type==="chart"?c=o.jsx(fl,{}):r.type==="text"?c=o.jsx(Us,{}):i&&(c=o.jsx(pl,{}))),c||(c=p?o.jsx(xm,{}):o.jsx(ro,{}))):e==="Design"?(r&&(a?c=o.jsx(hl,{}):r.type==="chart"?c=o.jsx(fl,{}):r.type==="text"?c=o.jsx(Us,{}):i&&(c=o.jsx(pl,{}))),c||(c=o.jsx(ro,{}))):(r&&(r.type==="table"?c=o.jsx(hl,{}):r.type==="chart"?c=o.jsx(fl,{}):r.type==="text"?c=o.jsx(Us,{}):i&&(c=o.jsx(pl,{}))),c||(c=o.jsx(ro,{})));const x=a?"table":(r==null?void 0:r.type)==="chart"?"chart":i?"symbol":(r==null?void 0:r.type)==="text"&&(e==="Insert"||e==="Design")?"textStyle":!r&&p&&e==="Insert"?"bgImage":"shapeToolbox",[u,E]=ae.useState(!1),N=ae.useRef(["animate-slideInRight","animate-slideInUp"]),[C,k]=ae.useState(0);ae.useEffect(()=>{E(!0),k(h=>(h+1)%N.current.length);const d=setTimeout(()=>E(!1),220);return()=>clearTimeout(d)},[x]);const f=`${N.current[C]} animate-fadeIn`;return o.jsx("div",{className:`${s.cardBg} rounded-xl p-4 overflow-y-auto responsive-sidebar-right sidebar-scroll`,style:{boxShadow:"0 0 30px rgba(0, 0, 0, 0.15)",maxHeight:"calc(100vh - 30px - 100px)",minWidth:"280px"},children:o.jsx("div",{children:u?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"skeleton-line h-5 w-1/3"}),o.jsx("div",{className:"skeleton-rect h-16 w-full rounded"}),o.jsx("div",{className:"skeleton-line h-4 w-1/2"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{className:"skeleton-rect h-24 w-full rounded"}),o.jsx("div",{className:"skeleton-rect h-24 w-full rounded"})]})]}):o.jsx("div",{className:f,style:{animationDuration:"2s"},children:c})},x)})}function jm(){return o.jsx(Bh,{children:o.jsx(wm,{})})}rf(document.getElementById("root")).render(o.jsx(ae.StrictMode,{children:o.jsx(jm,{})}));
